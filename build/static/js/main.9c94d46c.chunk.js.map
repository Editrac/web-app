{"version":3,"sources":["store/auth/type.ts","store/player/type.ts","store/auth/reducer.ts","store/organisation/type.ts","store/player/reducer.ts","store/organisation/reducer.ts","store/config.ts","routes/auth.tsx","routes/user.tsx","pages/auth/index.tsx","store/player/action.ts","utils/snackbar.tsx","apis/project.ts","utils/axios-hooks.ts","utils/time.ts","pages/player/comments.tsx","components/input/index.tsx","pages/player/video-controls.tsx","components/button/text.button.tsx","pages/player/timeline.tsx","pages/player/comment-box.tsx","utils/consts.tsx","pages/player/videojs.tsx","store/auth/action.ts","apis/user.ts","apis/organisation.ts","components/header/dialogs/add-user.tsx","components/auth/auth.component.tsx","components/header/organisation-settings/team.tsx","components/header/organisation-settings/basic.tsx","components/header/organisation-settings/project-questions.tsx","components/header/organisation-settings/index.tsx","components/header/index.tsx","pages/player/index.tsx","pages/home/dialogs/add-organisation-dialogue.tsx","store/organisation/action.ts","pages/home/sidebar.tsx","pages/home/dialogs/create-project-dialog.tsx","pages/home/navbar.tsx","utils/evaporate.ts","pages/home/index.tsx","pages/project/dialogs/invite-dialog.tsx","pages/project/styled-table.tsx","pages/project/video-browser.tsx","pages/project/dialogs/create-task-dialog.tsx","pages/project/dialogs/video-upload.tsx","pages/project/project-task.tsx","pages/project/dialogs/project-info-dialog.tsx","pages/project/index.tsx","apis/auth.ts","utils/axios.ts","pages/auth/signin.tsx","pages/auth/signup-steps.tsx","pages/auth/signup.tsx","routes/index.tsx","theme/app-theme.tsx","App.tsx","reportWebVitals.ts","index.tsx","pages/player/index.module.css","components/button/text-button.module.css"],"names":["UserRole","commentVisibility","AUTH_OTP_VALIDATE","AUTH_SET_PASSWORD","AUTH_SIGNIN","AUTH_SIGNOUT","UPDATE_USER","SET_AUTH_EVAPORATE_CLIENT","initialState","authenticated","password","authReducer","produce","draft","action","type","payload","_e_","user","ITaskStatus","IOrganisationType","ANSWER_TYPES","ProjectTaskStatus","SET_PLAYER","ADD_COMMENT","SET_TIMESTAMP","playerReducer","comments","push","comment","timestamp","SET_ORGANISATIONS","ADD_ORGANISATION","SET_SELECTED_ORGANISATION","SET_PROJECTS","ADD_PROJECT","SET_SELECTED_PROJECT","UPDATE_PROJECT","UPDATE_ORGANISATION","ADD_VIDEO_TO_PROJECT","OrganisationReducer","organisations","selectedOrganisation","organisation","organisationIndex","projects","index","data","selectedProject","videos","project","_id","findIndex","org","idx","persistConfig","key","storage","blacklist","authPersistConfig","organisationPersistConfig","whitelist","rootReducers","combineReducers","persistReducer","organisationReducer","persistedReducer","middleware","thunk","enhancers","applyMiddleware","configureStore","store","createStore","compose","persistor","persistStore","AuthRoute","children","useSelector","state","to","UserRoute","AuthPage","className","style","background","width","setTimestampAction","SnackBarVariant","organisationId","axios","get","variables","post","video","task","put","useMutation","queryFunc","options","useState","response","setResponse","error","setError","loading","setloading","mutate","then","res","onSuccess","catch","err","onError","finally","useQuery","query","formatSeconds","totalSeconds","Math","floor","hours","minutes","seconds","milliseconds","String","padStart","getTimeLength","date","yearDiff","dayjs","diff","monthDiff","hourDiff","dayDiff","minuteDiff","variantIcon","ERROR","ErrorIcon","INFORMATION","InfoIcon","SUCCESS","CheckCircleIcon","WARNING","WarningIcon","COPIED","FileCopyIcon","SnackBarContext","withStyles","createStyles","root","switchBase","padding","color","transform","opacity","backgroundColor","borderColor","thumb","height","boxShadow","track","border","borderRadius","checked","Snackbar","React","createContext","useSnackbar","useContext","SnackbarProvider","visible","variant","quick","message","values","setValues","Icon","handleClose","Provider","value","anchorOrigin","vertical","horizontal","open","onClose","autoHideDuration","SnackbarContent","getStyles","id","fontSize","IconButton","aria-label","size","onClick","Comments","props","selectedIndex","setSelectedIndex","snackbar","dispatch","useDispatch","getComments","projectAPI","videoComments","useEffect","videoId","src","picture","firstName","lastName","length","map","navigator","clipboard","writeText","handleCommentClick","createdAt","text","StyledInputBase","makeStyles","focused","bold","fontWeight","subHeadline","paddingTop","sandwitchText","margin","button","smallgutter","marginTop","input","position","minHeight","bborderColor","InputBase","StyledSwitch","display","Switch","StyledSlider","marginLeft","rail","Slider","VideoControls","player","controls","useMemo","paused","current","muted","fullScreen","setPaused","volume","setVolume","setState","anchorEl","rate","speedPOState","setSpeedPOState","speedPOOpen","Boolean","currentTime","seek10Sec","direction","on","document","getElementsByClassName","classList","add","remove","Popover","elevation","transformOrigin","speed","playbackRate","handlePlayBackSpeed","play","pause","styles","volumeConrolWrap","volumeSlider","onChange","e","handleVolumeChange","defaultValue","max","min","step","currentTarget","requestFullscreen","Button","cx","round","thick","fullWidth","buttonText","ToolTipComponent","minute","second","parseInt","Popper","transition","maxWidth","Timeline","colors","computedFontSize","window","getComputedStyle","body","slice","duration","trackLength","dimentions","Tooltip","placement","PopperComponent","title","left","borderWidth","random","CommentBox","setTimestamp","addedComment","videoComment","addComment","schema","Yup","shape","required","enableReinitialize","initialValues","visibility","EVERYONE","validationSchema","onSubmit","formikProps","handleSubmit","name","field","meta","touched","placeholder","inputProps","onFocus","multiline","rowsMax","onKeyPress","event","preventDefault","setFieldValue","target","CircularProgress","thickness","taskStatusMap","NEEDS_REVIEW","icon","label","IN_PROGRESS","APPROVED","NO_STATUS","VideoJS","navigate","useNavigate","videoRef","useRef","playerRef","metaLoaded","setMetaLoaded","popoverState","setPopoverState","projectTask","status","taskStatus","setTaskStatus","updateTaskStatus","videoJsOptions","autoplay","responsive","fluid","defaultVolume","playbackRates","controlBar","pictureInPictureToggle","userActions","doubleClick","hotkeys","bigPlayButton","inactivityTimeout","sources","file","html5","vhs","overrideNative","nativeAudioTracks","nativeVideoTracks","handleVideoReady","videojs","log","qualityLevels","qualityLevel","enabled","console","videoElement","dispose","edge","handleClick","find","data-vjs-player","onLoadedMetadata","ref","memo","authSignOutAction","updateUserAction","template","AddUserDialog","orgAPI","handleDialogueClose","createOrganisation","orgCreating","reload","setOpen","email","role","Dialog","scroll","aria-labelledby","aria-describedby","PROJECT_MANAGER","errors","AuthComponent","allowedRoles","organisationType","includes","StyledTabs","indicator","borderTopLeftRadius","borderTopRightRadius","Tabs","StyledTab","textTransform","minWidth","selected","Tab","ManageTeam","ADMIN","tab","setTab","users","setUsers","addUserDialog","setAddUserDialog","getUsers","usersLoading","handleChange","newValue","EDITING","centered","disableRipple","PRODUCING","EDITOR","BasicSettings","imageKey","setImageKey","setLoading","updateOrganisation","organisationAPI","onDrop","useCallback","files","client","filePromises","i","lastDot","lastIndexOf","ext","substring","uuidv4","promise","started","fileKey","progress","organisationName","Promise","all","useDropzone","accept","getRootProps","getInputProps","updates","initialQuestionData","question","answerType","TEXT","expectedAnswer","errorMessage","ProjectQuestions","templates","setTemplates","selectedTemplate","setSelectedTemplate","dialogue","setDialogue","projectTemplates","getProjectTemplates","templatesLoading","_templates","projectTemplate","createProjectTemplate","creatingTemplate","updateProjectTemplate","updatingTemplate","questions","questionsSchema","when","is","RADIO","of","option","questionIndex","undefined","setSubmitting","tempArray","Select","MenuItem","zIndex","Collapse","in","form","setTouched","splice","orgSettingsItems","alloweRoles","OrganisationSetting","activeSetting","setActiveSetting","item","AppHeader","dialogOpen","setDialogOpen","orgSettingOpen","setOrgSettingOpen","updateUser","userAPI","complete","PlayerPage","useParams","setProjectTask","useSearchParams","searchParams","queryParams","canvasDimensions","setCanvasDimentions","updateCanvasDimentions","innerWidth","innerHeight","finalWidth","finalHeight","selectedVideo","setSelectedVideo","getProjectTask","v","addEventListener","removeEventListener","AddOrganisationDialog","createOrganisationSchema","userEmail","userFirstName","userLastName","SideBar","addOrgDialog","setAddOrgDialog","selectedOrgId","orgId","getOrganisations","orgsLoading","CreateProjectDialog","onAddProject","createProject","projectCreating","getFormattedQuestions","_questions","forEach","answer","createProjectSchema","DialogTitle","DialogContent","overflowY","_template","InputLabel","Radio","checkedIcon","validate","expected","validateAnswer","DialogActions","NavBar","location","useLocation","setProjects","createProjectDialog","setCreateProjectDialog","projectsModified","editors","tasks","manager","pathname","getProjects","projectsLoading","_project","prev","isActive","config","getEvaporateClient","a","bucket","process","Evaporate","create","aws_key","awsRegion","signerUrl","signHeaders","Authorization","getState","token","aws_url","cloudfront","logging","awsSignatureVersion","computeContentMd5","cryptoMd5Method","AWS","util","crypto","md5","cryptoHexEncodedHash256","sha256","HomePage","InviteDialog","selectedRole","addEditors","addingEditors","addManager","addingManager","Checkbox","StyledTableCell","theme","borderBottomLeftRadius","borderBottomRightRadius","head","TableCell","StyledTableRow","cursor","TableRow","useTableStyles","lineHeight","Avatar","table","avatarCell","checkboxCell","semiBold","noWhiteSpace","VideoBrowser","classes","projectMembers","TableContainer","maxHeight","Table","stickyHeader","TableHead","TableBody","uploader","Date","uploadedAt","toISOString","xmlns","viewBox","data-name","fill","stroke","strokeWidth","cy","r","d","scope","version","fromISO","toFormat","CreateTaskDialog","editor","onAddTask","createProjectTask","taskCreating","description","useAutocomplete","getOptionLabel","getListboxProps","getOptionProps","groupedOptions","rows","VideoUploadDialog","videoFileKey","setVideoFileKey","videoProgress","setVideoProgress","uploading","setUploading","selectedProjectId","projectId","addVideoToProjectTask","taskId","REVIEW","cancel","uppy","streamMediaId","Uppy","restrictions","maxNumberOfFiles","allowedFileTypes","autoProceed","use","Tus","endpoint","removeFingerprintOnSuccess","headers","onAfterResponse","_","resolve","getHeader","result","successful","close","reason","Paper","ProjectTask","createTaskDialog","setCreateTaskDialog","projectTasks","setProjectTasks","selectedTask","setSelectedTask","videoUploadDailog","setVideoUploadDailog","taskLoading","handleTaskChange","ProjectInfoDialog","ProjectPage","managerDialog","setManagerDialog","projectInfoDialog","setProjectInfoDialog","setProject","getProject","setAuthorizationHeader","defaults","common","baseURL","interceptors","reject","Authenticate","authApi","signIn","StepOne","signUp","StepTwo","URLSearchParams","search","validateOtp","otp","StepThree","setPassword","rePassword","IndexRoute","path","element","AppWithTheme","initialSetup","setInitialSetup","createMuiTheme","typography","fontFamily","palette","primary","main","secondary","overrides","MuiAvatar","colorDefault","MuiSlider","MuiRadio","MuiFormControlLabel","MuiButton","containedPrimary","endIcon","marginRight","MuiCheckbox","MuiFilledInput","underline","MuiChip","deletable","deleteIcon","MuiTypography","body2","h5","h6","MuiPaper","rounded","elevation8","MuiMenuItem","MuiBreadcrumbs","disableElevation","auth","ThemeProvider","App","documentElement","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById","module","exports"],"mappings":"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","file":"static/js/main.9c94d46c.chunk.js","sourcesContent":["import Evaporate from 'evaporate';\nimport { IOrganisation } from '../organisation/type';\n\nexport interface IUser {\n  _id: string,\n  firstName: string;\n  lastName: string;\n  email: string;\n  mobile: string;\n  gender: string;\n  picture: string;\n  providor: string;\n  userType: string;\n  role: string;\n  organisation: IOrganisation\n}\n\nexport interface IAuthState {\n  authenticated: boolean;\n  password: boolean;\n  user?: IUser;\n  token?: string;\n  _e_?: Evaporate;\n}\n\nexport enum UserRole {\n  ADMIN = 'ADMIN',\n  PROJECT_MANAGER = 'PROJECT_MANAGER',\n  EDITOR = 'EDITOR'\n}\n\nexport const AUTH_OTP_GENERATE = 'OTP_GENERATE';\nexport const AUTH_OTP_VALIDATE = 'OTP_VALIDATE';\nexport const AUTH_SET_PASSWORD = 'AUTH_SET_PASSWORD';\nexport const AUTH_SIGNIN = 'AUTH_SIGNIN';\nexport const AUTH_SIGNOUT = 'AUTH_SIGNOUT';\nexport const UPDATE_USER = 'UPDATE_USER';\n\nexport const SET_AUTH_EVAPORATE_CLIENT = \"SET_AUTH_EVAPORATE_CLIENT\";\ninterface AuthOtpValidateAction {\n  type: typeof AUTH_OTP_VALIDATE\n  payload: Partial<IAuthState>\n}\n\ninterface AuthSetPasswordAction {\n  type: typeof AUTH_SET_PASSWORD\n}\n\ninterface AuthSignInAction {\n  type: typeof AUTH_SIGNIN,\n  payload: IAuthState\n}\ninterface AuthSignOutAction {\n  type: typeof AUTH_SIGNOUT\n}\n\ninterface UpdateUserAction {\n  type: typeof UPDATE_USER,\n  payload: { user: IUser }\n}\n\nexport interface SetAuthEvaporateClientAction {\n  type: typeof SET_AUTH_EVAPORATE_CLIENT,\n  payload: { _e_: Evaporate }\n}\n\nexport type AuthActionTypes = AuthOtpValidateAction | AuthSetPasswordAction | AuthSignInAction | AuthSignOutAction | UpdateUserAction | SetAuthEvaporateClientAction","import { IUser } from '../auth/type';\nexport interface IComment {\n  _id: string;\n  visibility: commentVisibility;\n  user: IUser;\n  text: string;\n  replies: string[];\n  video: string;\n  timestamp: number;\n  createdAt: string;\n  updatedAt: string;\n}\n\n\nexport enum commentVisibility {\n  EVERYONE = 'EVERYONE',\n  TEAM = 'TEAM'\n}\n\nexport interface IVideo {\n  _id: string;\n  file: string;\n  name: string;\n  version: number;\n  uploadedAt: string;\n  user: string;\n  comments: string[]\n}\nexport interface IPlayerState {\n  timestamp: number\n  comments: IComment[]\n}\n\nexport const SET_PLAYER = 'SET_PLAYER';\nexport const ADD_COMMENT = 'ADD_COMMENT';\nexport const SET_TIMESTAMP = 'SET_TIMESTAMP';\n\ninterface SetPlayerAction {\n  type: typeof SET_PLAYER,\n  payload: { comments: IComment[], timestamp: number }\n}\ninterface AddCommentAction {\n  type: typeof ADD_COMMENT,\n  payload: { comment: IComment }\n}\ninterface setTimestamp {\n  type: typeof SET_TIMESTAMP,\n  payload: { timestamp: number }\n}\n\nexport type PlayerActionTypes = SetPlayerAction | AddCommentAction | setTimestamp;","import produce, { Draft } from \"immer\";\nimport {\n  AuthActionTypes,\n  IAuthState,\n  AUTH_OTP_VALIDATE,\n  AUTH_SIGNOUT,\n  AUTH_SIGNIN,\n  AUTH_SET_PASSWORD,\n  SET_AUTH_EVAPORATE_CLIENT,\n  UPDATE_USER\n} from './type'\n\nconst initialState: IAuthState = {\n  authenticated: false,\n  password: false\n}\n\nexport const authReducer = produce((\n  draft: Draft<IAuthState>,\n  action: AuthActionTypes\n) => {\n  switch (action.type) {\n    case AUTH_OTP_VALIDATE:\n      return { ...draft, ...action.payload };\n    case AUTH_SIGNIN:\n      return {\n        ...draft,\n        ...action.payload,\n        password: true,\n        authenticated: true\n      }\n    case AUTH_SET_PASSWORD:\n      return {\n        ...draft,\n        password: true,\n        authenticated: true\n      }\n    case SET_AUTH_EVAPORATE_CLIENT:\n      draft._e_ = action.payload._e_;\n      break;\n\n    case UPDATE_USER:\n      draft.user = action.payload.user\n      break;\n\n    case AUTH_SIGNOUT:\n      return initialState;\n  }\n}, initialState)\n\nexport default authReducer;","import { IVideo } from 'src/store/player/type';\nimport Evaporate from \"evaporate\";\nimport { IUser } from '../auth/type';\nexport interface IOrganisation {\n  _id: string;\n  name: string;\n  bucketId: string;\n  picture?: string;\n  organisationType: IOrganisationType;\n  editingOrgs: string[];\n  producingOrgs: string[];\n  address?: IAddress;\n  projects: IProject[];\n  selectedProject?: ISelectedProject\n}\n\nexport interface ISelectedProject {\n  index: number;\n  _id: string;\n  data: IProject;\n}\n\nexport interface IProject {\n  _id: string;\n  name: string;\n  createdAt: string;\n  documents: string[];\n  editors: IUser[];\n  manager?: IUser;\n  producerOrg: string;\n  editorOrg: string;\n  status: string;\n  updatedAt: string;\n  videos: IVideo[];\n  tasks: IProjectTask[];\n  questions: IQuestionInput[];\n}\n\nexport interface IProjectTask {\n  _id: string,\n  name: string;\n  description: string;\n  videos: IVideo[];\n  editor: IUser;\n  documents: string[];\n  status: ITaskStatus;\n  project: string;\n}\n\nexport enum ITaskStatus {\n  NEEDS_REVIEW = \"NEEDS_REVIEW\",\n  IN_PROGRESS = \"IN_PROGRESS\",\n  APPROVED = \"APPROVED\",\n  NO_STATUS = \"NO_STATUS\"\n}\n\n\nexport interface IAddress {\n  street: string;\n  city: string;\n  state: string;\n  country: string;\n}\n\nexport enum IOrganisationType {\n  PRODUCING = 'PRODUCING',\n  EDITING = 'EDITING',\n}\n\nexport interface IQuestion {\n  question: string,\n  answerType: ANSWER_TYPES,\n  required: boolean,\n  expectedAnswer?: string,\n  options?: string[],\n  errorMessage?: string,\n}\n\nexport enum ANSWER_TYPES {\n  RADIO = \"RADIO\",\n  TEXT = \"TEXT\",\n}\n\nexport interface IQuestionInput {\n  question: string;\n  answer?: boolean | string;\n  answerType: ANSWER_TYPES;\n}\n\nexport interface IProjectTemplate {\n  _id?: string;\n  name: string;\n  questions: IQuestion[];\n}\n\nexport enum ProjectTaskStatus {\n  PENDING = 'PENDING',\n  IN_PROGRESS = 'IN_PROGRESS',\n  REVIEW = 'REVIEW',\n  REVISION = 'REVISION',\n  COMPLETED = 'COMPLETED'\n}\n\nexport interface IOrganisationState {\n  selectedOrganisation?: ISelectedOrganisation;\n  organisations: IOrganisation[];\n}\n\nexport interface ISelectedOrganisation {\n  index: number;\n  _id: string;\n  data: IOrganisation;\n}\n\nexport const SET_ORGANISATIONS = 'SET_ORGANISATIONS';\nexport const ADD_ORGANISATION = 'ADD_ORGANISATION';\nexport const SET_SELECTED_ORGANISATION = \"SET_SELECTED_ORGANISATION\";\nexport const SET_PROJECTS = 'SET_PROJECTS';\nexport const ADD_PROJECT = 'ADD_PROJECT';\nexport const SET_SELECTED_PROJECT = \"SET_SELECTED_PROJECT\";\nexport const UPDATE_PROJECT = \"UPDATE_PROJECT\";\nexport const UPDATE_ORGANISATION = \"UPDATE_ORGANISATION\";\nexport const ADD_VIDEO_TO_PROJECT = 'ADD_VIDEO_TO_PROJECT';\n\n\ninterface SetOrganisationsAction {\n  type: typeof SET_ORGANISATIONS,\n  payload: { organisations: IOrganisation[] }\n}\ninterface AddOrganisationAction {\n  type: typeof ADD_ORGANISATION,\n  payload: { organisation: IOrganisation }\n}\ninterface SetSelectedOrganisationAction {\n  type: typeof SET_SELECTED_ORGANISATION,\n  payload: { index: number, data: IOrganisation, _id: string }\n}\n\ninterface SetProjectsAction {\n  type: typeof SET_PROJECTS,\n  payload: { organisationIndex: number, projects: IProject[] }\n}\ninterface AddProjectAction {\n  type: typeof ADD_PROJECT,\n  payload: { organisationIndex: number, project: IProject }\n}\ninterface SetSelectedProjectAction {\n  type: typeof SET_SELECTED_PROJECT,\n  payload: { organisationIndex: number, selectedProject: ISelectedProject }\n}\ninterface UpdateProjectAction {\n  type: typeof UPDATE_PROJECT,\n  payload: { project: IProject }\n}\n\ninterface UpdateOrganisationAction {\n  type: typeof UPDATE_ORGANISATION,\n  payload: { organisation: IOrganisation }\n}\ninterface AddVideoToProjectAction {\n  type: typeof ADD_VIDEO_TO_PROJECT,\n  payload: any\n}\n\nexport type OrganisationActionTypes = SetOrganisationsAction | AddOrganisationAction | SetSelectedOrganisationAction | SetProjectsAction | AddProjectAction | SetSelectedProjectAction | UpdateProjectAction | UpdateOrganisationAction | AddVideoToProjectAction;","import produce, { Draft } from \"immer\";\nimport {\n  PlayerActionTypes,\n  IPlayerState,\n  IComment,\n  SET_PLAYER,\n  ADD_COMMENT,\n  SET_TIMESTAMP\n} from './type'\n\nconst initialState: IPlayerState = {\n  comments: [],\n  timestamp: 0\n}\n\nexport const playerReducer = produce((\n  draft: Draft<IPlayerState>,\n  action: PlayerActionTypes\n) => {\n  switch (action.type) {\n    case SET_PLAYER:\n      draft.comments = action.payload.comments;\n      break;\n    case ADD_COMMENT:\n      draft.comments.push(action.payload.comment);\n      break;\n\n    case SET_TIMESTAMP:\n      draft.timestamp = action.payload.timestamp\n      break;\n\n  }\n}, initialState);\n\nexport default playerReducer;\n","import produce, { Draft } from \"immer\"\nimport {\n  OrganisationActionTypes,\n  IOrganisationState,\n  SET_ORGANISATIONS,\n  ADD_ORGANISATION,\n  SET_SELECTED_ORGANISATION,\n  SET_PROJECTS,\n  ADD_PROJECT,\n  SET_SELECTED_PROJECT,\n  ADD_VIDEO_TO_PROJECT,\n  UPDATE_PROJECT,\n  UPDATE_ORGANISATION\n} from './type'\n\nconst initialState: IOrganisationState = {\n  organisations: []\n}\n\nexport const OrganisationReducer = produce((\n  draft: Draft<IOrganisationState>,\n  action: OrganisationActionTypes\n) => {\n  switch (action.type) {\n    case SET_ORGANISATIONS:\n      draft.organisations = action.payload.organisations;\n      break;\n\n    case SET_SELECTED_ORGANISATION:\n      draft.selectedOrganisation = action.payload;\n      break;\n\n    case ADD_ORGANISATION:\n      draft.organisations.push(action.payload.organisation);\n      break;\n\n    case SET_PROJECTS:\n      draft.organisations[action.payload.organisationIndex].projects = action.payload.projects;\n      if (draft.selectedOrganisation && action.payload.organisationIndex === draft.selectedOrganisation.index) {\n        draft.selectedOrganisation.data.projects = action.payload.projects\n      }\n      break;\n\n    case SET_SELECTED_PROJECT:\n      draft.organisations[action.payload.organisationIndex].selectedProject = action.payload.selectedProject;\n      if (action.payload.organisationIndex === draft.selectedOrganisation?.index) {\n        draft.selectedOrganisation.data.selectedProject = action.payload.selectedProject\n      }\n      break;\n\n    case ADD_VIDEO_TO_PROJECT:\n      if (draft.selectedOrganisation && draft.selectedOrganisation.data.selectedProject) {\n        draft.selectedOrganisation.data.selectedProject.data.videos.push(action.payload);\n      }\n      break;\n\n    case ADD_PROJECT:\n      draft.organisations[action.payload.organisationIndex].projects.push(action.payload.project);\n      if (draft.selectedOrganisation && action.payload.organisationIndex === draft.selectedOrganisation.index) {\n        draft.selectedOrganisation.data.projects.push(action.payload.project)\n      }\n      break;\n    case UPDATE_PROJECT:\n      if (draft.selectedOrganisation && draft.selectedOrganisation.data.selectedProject) {\n        draft.selectedOrganisation.data.selectedProject = {\n          index: draft.selectedOrganisation.data.selectedProject.index,\n          _id: action.payload.project._id,\n          data: action.payload.project\n        }\n      }\n      break;\n    case UPDATE_ORGANISATION:\n      const organisationIndex = draft.organisations.findIndex((org, idx) => org._id === action.payload.organisation._id);\n      if (organisationIndex >= 0) {\n        draft.organisations[organisationIndex] = action.payload.organisation;\n        if (draft.selectedOrganisation && draft.selectedOrganisation._id === action.payload.organisation._id) {\n          draft.selectedOrganisation = {\n            ...draft.selectedOrganisation,\n            data: action.payload.organisation\n          };\n        }\n      }\n      break;\n\n  }\n}, initialState);\n\nexport default OrganisationReducer;\n","import { combineReducers, createStore, compose, applyMiddleware, Store } from 'redux';\nimport thunk from 'redux-thunk';\nimport { persistStore, persistReducer, Persistor } from 'redux-persist'\nimport storage from 'redux-persist/lib/storage';\nimport authReducer from './auth/reducer';\nimport { IAuthState } from './auth/type';\nimport playerReducer from './player/reducer';\nimport { IPlayerState } from './player/type';\nimport organisationReducer from './organisation/reducer';\nimport { IOrganisationState } from './organisation/type'\n\n/*\n * combines all the existing reducers\n */\nexport interface IState {\n  authReducer: IAuthState;\n  playerReducer: IPlayerState;\n  organisationReducer: IOrganisationState\n}\n\nconst persistConfig = {\n  key: 'ediflo',\n  storage,\n  blacklist: ['organisationReducer', 'authReducer']\n}\n\nconst authPersistConfig = {\n  key: 'auth',\n  storage\n}\n\nconst organisationPersistConfig = {\n  key: 'organisation',\n  storage,\n  whitelist: ['selectedOrganisation']\n}\n\nconst rootReducers = combineReducers<IState>({\n  authReducer: persistReducer<any, any>(authPersistConfig, authReducer),\n  playerReducer,\n  organisationReducer: persistReducer<any, any>(organisationPersistConfig, organisationReducer)\n});\n\nconst persistedReducer = persistReducer(persistConfig, rootReducers)\n\nconst middleware = [thunk];\n\nconst enhancers = [applyMiddleware(...middleware)];\n\nconst configureStore = (): { store: Store<IState>, persistor: Persistor } => {\n  const store = createStore(persistedReducer, compose(...enhancers))\n  const persistor = persistStore(store)\n  return { store, persistor }\n};\n\nexport default configureStore();\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { RouteProps, Navigate, Outlet } from \"react-router-dom\";\nimport { IState } from 'src/store/config';\n\nconst AuthRoute: React.FC<RouteProps> = ({ children }) => {\n  const authenticated = useSelector((state: IState) => state.authReducer.authenticated);\n  return (\n    <>\n      {!authenticated ? children : <Navigate to=\"/org\" />}\n    </>\n  );\n}\n\nexport default AuthRoute;\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { Navigate, RouteProps } from \"react-router-dom\";\nimport { IState } from 'src/store/config';\n\nconst UserRoute: React.FC<RouteProps> = ({ children }) => {\n  const { authenticated, password } = useSelector((state: IState) => state.authReducer);\n  return (\n    <>\n      {(authenticated && password) ? children : <Navigate to=\"/signin\" />}\n    </>\n  )\n};\n\nexport default UserRoute;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { IState } from 'src/store/config';\nimport { Outlet } from 'react-router-dom';\n\nconst AuthPage: React.FC = () => {\n  return (\n    <div className=\"absolute inset-0 bg-bg-dark\">\n      <div className=\"absolute inset-y-0 right-0\" style={{ background: \"var(--accent-shade)\", width: \"45%\" }}>\n      </div>\n      <div className=\"absolute inset-y-0 left-0 p-12 overflow-y-auto overflow-x-hidden\" style={{ width: \"55%\" }}>\n        <div className=\"text-xl flex items-center font-semibold justify-between\">\n          <div className=\"flex items-center\">\n            <div className=\"w-7 h-7 rounded-full bg-accent mr-2 flex items-center justify-center\">\n              <div className=\"w-3 h-3 rounded-full bg-bg-dark m-auto\"></div>\n            </div>\n            <span>ediflo</span>\n          </div>\n        </div>\n        <Outlet />\n      </div>\n    </div>\n  )\n}\n\nexport default AuthPage;\n","import {\n  PlayerActionTypes,\n  IComment,\n  SET_PLAYER,\n  ADD_COMMENT,\n  SET_TIMESTAMP\n} from './type';\n\nexport function setPlayerAction(payload: { comments: IComment[], timestamp: number }): PlayerActionTypes {\n  return {\n    type: SET_PLAYER,\n    payload\n  }\n}\nexport function addCommentAction(payload: { comment: IComment }): PlayerActionTypes {\n  return {\n    type: ADD_COMMENT,\n    payload\n  }\n}\n\nexport function setTimestampAction(payload: { timestamp: number }): PlayerActionTypes {\n  return {\n    type: SET_TIMESTAMP,\n    payload\n  }\n}","import React, { useState } from 'react';\nimport { useContext } from 'react';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseRoundedIcon from '@material-ui/icons/CloseRounded';\nimport ErrorIcon from \"@material-ui/icons/Error\";\nimport InfoIcon from \"@material-ui/icons/Info\";\nimport WarningIcon from \"@material-ui/icons/Warning\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport FileCopyIcon from '@material-ui/icons/FileCopy';\nimport withStyles from '@material-ui/styles/withStyles';\nimport createStyles from '@material-ui/styles/createStyles';\n\ninterface ISnackbarValue {\n  visible: boolean;\n  variant: SnackBarVariant;\n  message: string;\n  quick?: boolean;\n}\n\nexport enum SnackBarVariant {\n  ERROR = \"error\",\n  INFORMATION = \"information\",\n  SUCCESS = \"success\",\n  WARNING = \"warning\",\n  COPIED = \"Copied\"\n}\n\nconst variantIcon = {\n  [SnackBarVariant.ERROR]: ErrorIcon,\n  [SnackBarVariant.INFORMATION]: InfoIcon,\n  [SnackBarVariant.SUCCESS]: CheckCircleIcon,\n  [SnackBarVariant.WARNING]: WarningIcon,\n  [SnackBarVariant.COPIED]: FileCopyIcon,\n};\n\nexport const StyledSnackbar = withStyles(() =>\n  createStyles({\n    root: {\n\n    },\n    switchBase: {\n      padding: 4,\n      color: \"var(--grey-1)\",\n      '&$checked': {\n        transform: 'translateX(12px)',\n        color: \"#fff\",\n        '& + $track': {\n          opacity: 1,\n          backgroundColor: 'var(--accent)',\n          borderColor: 'var(--accent)',\n        }\n      },\n    },\n    thumb: {\n      width: 14,\n      height: 14,\n      boxShadow: 'none',\n      backgroundColor: \"var(--grey-5)\"\n    },\n    track: {\n      border: `1px solid var(--grey-2)`,\n      borderRadius: 22 / 2,\n      height: 22,\n      opacity: 1,\n      backgroundColor: \"var(--bg-bg)\",\n    },\n    checked: {},\n  }),\n)(Snackbar);\n\nexport const SnackBarContext = React.createContext<\n  (values: ISnackbarValue) => void\n>(() => { });\n\nconst SnackbarProvider: React.FC = ({ children }) => {\n  const [values, setValues] = useState<ISnackbarValue>({\n    visible: false,\n    variant: SnackBarVariant.SUCCESS,\n    quick: false,\n    message: '',\n  });\n\n  const Icon = variantIcon[values.variant];\n\n  const handleClose = () => {\n    setValues({\n      ...values,\n      visible: false,\n    });\n  }\n\n  const getStyles = (\n    variant: SnackBarVariant\n  ) => {\n    switch (variant) {\n      case SnackBarVariant.ERROR:\n        return {\n          backgroundColor: \"var(--error-red)\"\n        };\n      case SnackBarVariant.INFORMATION:\n        return {\n          backgroundColor: \"var(--success-green)\"\n        }\n      case SnackBarVariant.SUCCESS:\n        return {\n          backgroundColor: \"var(--success-green)\"\n        }\n      case SnackBarVariant.WARNING:\n        return {\n          backgroundColor: \"var(--success-green)\"\n        }\n      default:\n        return {\n          backgroundColor: \"var(--success-green)\"\n        }\n    }\n  };\n\n  return (\n    <SnackBarContext.Provider value={setValues}>\n      {children}\n      <Snackbar\n        anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\n        open={values.visible}\n        onClose={handleClose}\n        autoHideDuration={1000}\n      >\n        <SnackbarContent\n          style={{ padding: \"0 1rem\", ...getStyles(values.variant) }}\n          className=\"\"\n          message={\n            <span id=\"client-snackbar\" className=\"flex items-center text-sm font-semibold\">\n              <Icon fontSize=\"inherit\" />\n              <span className=\"ml-2\">{values.message}</span>\n            </span>\n          }\n          action={[\n            <IconButton\n              key=\"close\"\n              aria-label=\"close\"\n              color=\"secondary\"\n              size=\"small\"\n              onClick={handleClose}\n            >\n              <CloseRoundedIcon fontSize=\"small\" />\n            </IconButton>\n          ]}\n        />\n      </Snackbar>\n    </SnackBarContext.Provider>\n  );\n};\n\nexport const useSnackbar = () => useContext(SnackBarContext);\n\nexport default SnackbarProvider;","import axios from 'axios';\n\nexport default {\n  getProjects: <V>(organisationId: V) => axios.get(`/api/organisation/${organisationId}/project`),\n  getProject: <V extends { organisation: string, project: string }>(variables: V) => axios.get(`/api/organisation/${variables.organisation}/project/${variables.project}`),\n  addEditors: <V extends { organisation: string, project: string, data: object }>(variables: V) => axios.post(`/api/organisation/${variables.organisation}/project/${variables.project}/editor`, variables.data),\n  addManager: <V extends { organisation: string, project: string, data: object }>(variables: V) => axios.post(`/api/organisation/${variables.organisation}/project/${variables.project}/manager`, variables.data),\n  getComments: <V>(video: V) => axios.get(`/api/video/${video}/comment`),\n  addComment: <V extends { video: string, data: object }>(variables: V) => axios.post(`/api/video/${variables.video}/comment`, variables.data),\n  createProject: <V extends { organisation: string, data: object }>(variables: V) => axios.post(`/api/organisation/${variables.organisation}/project`, variables.data),\n  inviteEditor: <V extends { organisation: string, project: string, data: object }>(variables: V) => axios.post(`/api/organisation/${variables.organisation}/project/${variables.project}/editor`, variables.data),\n  createProjectTasks: <V extends { organisation: string, project: string, data: object }>(variables: V) => axios.post(`/api/organisation/${variables.organisation}/project/${variables.project}/task`, variables.data),\n  addVideoToProjectTask: <V extends { organisation: string, project: string, task: string, data: object }>(variables: V) => axios.post(`/api/organisation/${variables.organisation}/project/${variables.project}/task/${variables.task}/video`, variables.data),\n  getProjectTask: <V extends { organisation: string, project: string, task: string }>(variables: V) => axios.get(`/api/organisation/${variables.organisation}/project/${variables.project}/task/${variables.task}`),\n  updateTaskStatus: <V extends { organisation: string, project: string, task: string, data: object }>(variables: V) => axios.put(`/api/organisation/${variables.organisation}/project/${variables.project}/task/${variables.task}/status`, variables.data),\n};","import React, { useState } from 'react';\nimport { AxiosResponse, AxiosError } from 'axios';\n\nexport const useMutation = <D, V extends any = {}>(queryFunc: (variables?: V) => Promise<AxiosResponse<D>>, options?: { onSuccess?: (data: D, variables?: V) => void, onError?: (err: AxiosError) => void }) => {\n  const [response, setResponse] = useState<D>();\n  const [error, setError] = useState<AxiosError>();\n  const [loading, setloading] = useState(false);\n\n  const mutate = (variables: V) => {\n    setloading(true);\n    queryFunc(variables)\n      .then((res) => {\n        setResponse(res.data);\n        if (options && options.onSuccess) {\n          options.onSuccess(res.data, variables)\n        }\n      })\n      .catch((err) => {\n        setError(err);\n        if (options && options.onError) {\n          options.onError(err)\n        }\n      })\n      .finally(() => {\n        setloading(false);\n      });\n  };\n\n  return { mutate, response, error, loading };\n};\n\nexport const useQuery = <D, V = {}>(queryFunc: (variables?: V) => Promise<AxiosResponse<D>>, options?: { onSuccess?: (data: D, variables?: V) => void, onError?: (err: AxiosError) => void }) => {\n  const [response, setResponse] = useState<D>();\n  const [error, setError] = useState<AxiosError>();\n  const [loading, setloading] = useState(false);\n\n  const query = (variables?: V) => {\n    setloading(true);\n    queryFunc(variables)\n      .then((res) => {\n        setResponse(res.data);\n        if (options && options.onSuccess) {\n          options.onSuccess(res.data, variables)\n        }\n      })\n      .catch((err) => {\n        setError(err);\n        if (options && options.onError) {\n          options.onError(err)\n        }\n      })\n      .finally(() => {\n        setloading(false);\n      });\n  };\n\n  return { query, response, error, loading };\n};\n\n","import dayjs from \"dayjs\";\n\nexport const formatSeconds = (timestamp: number) => {\n  let totalSeconds = Math.floor(timestamp);\n  let hours = Math.floor(totalSeconds / 3600);\n  totalSeconds %= 3600;\n  let minutes = Math.floor(totalSeconds / 60);\n  let seconds = totalSeconds % 60;\n  let milliseconds = Math.floor(timestamp % 1 * 1000);\n  return `${hours > 0 ? String(hours).padStart(2, \"0\") : \"\"}${hours > 0 ? \":\" : \"\"}${String(minutes).padStart(2, \"0\")}:${String(seconds).padStart(2, \"0\")}:${String(milliseconds).padStart(3, \"0\")}`\n}\n\nexport const getTimeLength = (date: string) => {\n  const yearDiff = dayjs().diff(dayjs(date), \"y\");\n  if (yearDiff > 0) {\n    return `${yearDiff}yr`\n  }\n  const monthDiff = dayjs().diff(dayjs(date), \"M\");\n  if (monthDiff > 0) {\n    return `${monthDiff}mo`\n  }\n  const hourDiff = dayjs().diff(dayjs(date), \"h\");\n  if (hourDiff > 36) {\n    const dayDiff = dayjs().diff(dayjs(date), \"d\");\n    return `${dayDiff}d`;\n  }\n  else if (hourDiff > 1) {\n    return `${hourDiff}h`;\n  }\n  else {\n    const minuteDiff = dayjs().diff(dayjs(date), \"m\");\n    return `${minuteDiff}m`;\n  }\n}","import React, { useState } from 'react';\nimport { setPlayerAction, setTimestampAction } from 'src/store/player/action';\nimport { useDispatch, useSelector } from 'react-redux';\nimport dayjs from \"dayjs\";\nimport { IState } from 'src/store/config';\nimport projectAPI from \"src/apis/project\"\nimport { useQuery } from 'src/utils/axios-hooks';\nimport { IComment } from 'src/store/player/type';\nimport { useEffect } from 'react';\nimport { formatSeconds, getTimeLength } from 'src/utils/time';\nimport { useSnackbar, SnackBarVariant } from 'src/utils/snackbar';\n\ninterface IProps {\n  videoId: string\n}\n\nconst Comments: React.FC<IProps> = (props) => {\n  const [selectedIndex, setSelectedIndex] = useState<number>(-1);\n  const snackbar = useSnackbar();\n  const dispatch = useDispatch();\n  const { user } = useSelector((state: IState) => state.authReducer);\n  const { comments } = useSelector((state: IState) => state.playerReducer);\n\n\n  const { query: getComments } = useQuery(projectAPI.getComments, {\n    onSuccess: (res) => {\n      const comments: IComment[] = res.data.videoComments || [];\n      dispatch(setPlayerAction({ timestamp: -1, comments: comments }));\n    }\n  });\n\n  useEffect(() => {\n    getComments(props.videoId);\n  }, [])\n\n  const handleCommentClick = (timestamp: number, index: number) => {\n    navigator.clipboard.writeText(`${timestamp}`);\n    snackbar({\n      visible: true,\n      message: \"Timestamp copied!\",\n      variant: SnackBarVariant.SUCCESS\n    })\n    dispatch(setTimestampAction({ timestamp: timestamp }));\n    setSelectedIndex(index);\n  }\n\n  return (\n    <>\n      <div className=\"p-4\">\n        <div className=\"flex items-center \">\n          <div className=\"rounded-full w-10 h-10 bg-bg-light overflow-hidden\">\n            <img className=\"w-full h-full object-cover\" src={user?.picture} />\n          </div>\n          <div className=\"flex flex-1 ml-2 flex-col\">\n            <span className=\"text-sm font-semibold\">{user?.firstName} {user?.lastName}</span>\n            <span className=\"text-xs text-grey-5\">Online</span>\n          </div>\n        </div>\n      </div>\n      <div className=\"flex justify-center border-t border-grey-0 pt-1\">\n        <div className=\" flex text-sm font-semibold\">\n          <div className=\"mx-2 px-2 py-2 border-b-2 border-accent text-accent\">{comments.length} Comments</div>\n          <div className=\"mx-2 px-2 py-2\">File Info</div>\n        </div>\n      </div>\n      {/* <div className=\"px-4 h-12 flex justify-center bg-bg mx-4 rounded-xl\"></div> */}\n      <div className=\"p-4 pt-0\">\n        {comments.map((comment, index) => (\n          <div key={index} className=\"rounded-xl mb-2 overflow-hidden\">\n            <div onClick={() => handleCommentClick(comment.timestamp, index)} className={`p-3 hover:bg-bg-light cursor-pointer bg-bg relative`} style={index === selectedIndex ? { backgroundColor: \"var(--bg-lightest)\" } : {}}>\n              <div className={`absolute inset-y-0 w-1 left-0 bg-accent transition-transform transform ${index !== selectedIndex && \"-translate-x-1\"}`} />\n              <div className=\"flex items-center \">\n                <div className=\"rounded-full w-7 h-7 bg-bg-light overflow-hidden\">\n                  {false ?\n                    <img src={`${process.env.PUBLIC_URL}`} className=\"h-full w-full object-cover\" /> :\n                    <div className=\"h-full w-full flex items-center justify-center text-xs\">\n                      <span>{comment.user.firstName[0]}{comment.user.lastName[0]}</span>\n                    </div>\n                  }\n                </div>\n                <div className=\"flex flex-1 ml-2 items-center\">\n                  <span className=\"text-sm font-semibold\">{comment.user.firstName} {comment.user.lastName}</span>\n                  <span className=\"text-xs text-grey-5 ml-2\">{getTimeLength(comment.createdAt)}</span>\n                </div>\n              </div>\n              <div className=\"text-sm pt-2\">\n                {comment.timestamp >= 0 && <span className=\"mr-2 font-semibold text-accent\">{formatSeconds(comment.timestamp)}</span>}{comment.text}\n              </div>\n              {/* <div className=\"text-sm pt-2 flex items-center\">\n                <div className={`text-sm ${item.likes ? 'text-accent' : 'text-grey-5'} cursor-pointer -mt-0.5 hover:text-accent`}>\n                  {item.likes ? <ThumbUpAltRoundedIcon fontSize=\"inherit\" /> : <ThumbUpAltOutlinedIcon fontSize=\"inherit\" />}\n                </div>\n                <div className=\"text-sm text-grey-5 ml-4 cursor-pointer hover:text-accent\">Reply</div>\n              </div> */}\n            </div>\n            {/* {index === 2 && [1, 2].map((rep, idx) => <div key={idx} className=\"px-6 pt-3 pl-16 pb-3 -mx-3 border-t border-grey-0  bg-bg hover:bg-bg-light cursor-pointer\">\n              <div className=\"flex items-center \">\n                <div className=\"rounded-full w-8 h-8 bg-bg-light\"></div>\n                <div className=\"flex flex-1 ml-2\">\n                  <span className=\"text-sm\">Abhishek Bhaskar</span>\n                  <span className=\"text-sm text-grey-5 ml-2\">{item.time} Hrs</span>\n                </div>\n              </div>\n              <div className=\"text-sm py-2\">\n                Lorem ipsum dolor sit amet consectetur adipisicing elit. Placeat laboriosam a\n              </div>\n              <div className=\"text-sm pt-2 flex items-center\">\n                <div className=\"text-sm text-grey-5 cursor-pointer -mt-0.5 hover:text-accent\">\n                  <ThumbUpAltOutlinedIcon fontSize=\"inherit\" />\n                </div>\n                <div className=\"text-sm text-grey-5 ml-4 cursor-pointer hover:text-accent\">Reply</div>\n              </div>\n            </div>)} */}\n          </div>\n        ))}\n      </div>\n    </>\n  );\n};\n\nexport default Comments;\n","import React from 'react';\nimport { createStyles, makeStyles, withStyles } from '@material-ui/core/styles';\nimport TextField, { TextFieldProps } from '@material-ui/core/TextField';\nimport { OutlinedInputProps } from '@material-ui/core/OutlinedInput';\nimport InputBase from '@material-ui/core/InputBase';\nimport Switch from '@material-ui/core/Switch';\nimport Slider from '@material-ui/core/Slider';\nconst useInputStyles = makeStyles(() =>\n  createStyles({\n    root: {\n      backgroundColor: 'transparent',\n      '&:hover': {\n        backgroundColor: 'transparent',\n      },\n      '&$focused': {\n        backgroundColor: 'transparent',\n      }\n    },\n    focused: {},\n  }),\n);\n\nconst StyledInput = (props: TextFieldProps) => {\n  const classes = useInputStyles();\n\n  return (\n    <TextField\n      InputProps={{ classes, disableUnderline: true } as Partial<OutlinedInputProps>}\n      {...props}\n    />\n  );\n}\nexport const useStyles = makeStyles({\n  bold: {\n    fontWeight: 'bold',\n  },\n  subHeadline: {\n    fontSize: 16,\n    paddingTop: 10,\n    fontWeight: 500,\n  },\n  sandwitchText: {\n    margin: '0 0 15px 0',\n    fontWeight: 500\n  },\n  button: {\n    borderRadius: 15,\n    fontSize: 14,\n    padding: '12px 0',\n    margin: '5px 0 20px 0'\n  },\n  smallgutter: {\n    marginTop: 30\n  }\n});\n\nexport const StyledInputBase = withStyles(() =>\n  createStyles({\n    root: {\n      marginTop: \"0.375rem\",\n      padding: \"0 !important\"\n    },\n\n    input: {\n      height: \"initial\",\n      borderRadius: \"8px !important\",\n      position: 'relative',\n      backgroundColor: 'var(--bg)',\n      border: '1px solid var(--bg)',\n      fontSize: 14,\n      padding: '10px 12px',\n      minHeight: 'initial',\n      color: \"var(--text-primary)\",\n      '&:focus': {\n        border: '1px solid var(--accent)',\n      }\n    },\n    error: {\n      '& input': {\n        borderColor: \"var(--text-error)\",\n        color: \"var(--text-error)\"\n      },\n      '& textarea': {\n        borderColor: \"var(--text-error)\",\n        color: \"var(--text-error)\"\n      },\n      '& .MuiSelect-select': {\n        bborderColor: \"var(--text-error)\",\n        color: \"var(--text-error)\",\n        backgroundColor: 'var(--bg-dark)',\n      },\n      '&:focus': {\n        borderColor: \"var(--text-error)\",\n      }\n    }\n  }),\n)(InputBase);\n\nexport const StyledSwitch = withStyles(() =>\n  createStyles({\n    root: {\n      width: 34,\n      height: 22,\n      padding: 0,\n      display: 'flex',\n    },\n    switchBase: {\n      padding: 4,\n      color: \"var(--grey-1)\",\n      '&$checked': {\n        transform: 'translateX(12px)',\n        color: \"#fff\",\n        '& + $track': {\n          opacity: 1,\n          backgroundColor: 'var(--accent)',\n          borderColor: 'var(--accent)',\n        }\n      },\n    },\n    thumb: {\n      width: 14,\n      height: 14,\n      boxShadow: 'none',\n      backgroundColor: \"var(--grey-5)\"\n    },\n    track: {\n      border: `1px solid var(--grey-2)`,\n      borderRadius: 22 / 2,\n      height: 22,\n      opacity: 1,\n      backgroundColor: \"var(--bg-bg)\",\n    },\n    checked: {},\n  }),\n)(Switch);\n\nexport const StyledSlider = withStyles({\n  root: {\n    color: 'var(--accent)',\n    height: 4,\n    padding: 0\n  },\n  thumb: {\n    height: 10,\n    width: 10,\n    backgroundColor: '#fff',\n    marginTop: -3,\n    marginLeft: -3,\n    '&:focus, &:hover, &$active': {\n      boxShadow: 'inherit',\n    },\n    '&:after': {\n      display: 'none',\n    },\n  },\n  track: {\n    height: 4,\n    borderRadius: 2,\n  },\n  rail: {\n    height: 4,\n    borderRadius: 2,\n    backgroundColor: \"var(--grey-2)\"\n  },\n})(Slider);\n\nexport default StyledInput","import IconButton from '@material-ui/core/IconButton';\nimport React, { MutableRefObject, useEffect, useMemo, useRef, useState, MouseEvent } from \"react\";\nimport \"video.js/dist/video-js.css\";\nimport PlayArrowRoundedIcon from '@material-ui/icons/PlayArrowRounded';\nimport PauseRoundedIcon from '@material-ui/icons/PauseRounded';\nimport VolumeUpRoundedIcon from '@material-ui/icons/VolumeUpRounded';\nimport VolumeOffRoundedIcon from '@material-ui/icons/VolumeOffRounded';\nimport FullscreenOutlinedIcon from '@material-ui/icons/FullscreenOutlined';\nimport VolumeDownRoundedIcon from '@material-ui/icons/VolumeDownRounded';\nimport Replay10RoundedIcon from '@material-ui/icons/Replay10Rounded';\nimport Forward10RoundedIcon from '@material-ui/icons/Forward10Rounded';\nimport { useSelector } from 'react-redux';\nimport { IState } from 'src/store/config';\nimport { VideoJsPlayer } from 'video.js';\nimport Popover from '@material-ui/core/Popover';\nimport { StyledSlider } from 'src/components/input';\nimport styles from \"./index.module.css\";\n\ninterface Props {\n  player: MutableRefObject<VideoJsPlayer | null>\n}\n\nexport const VideoControls = (props: Props) => {\n  const timestamp = useSelector((state: IState) => state.playerReducer.timestamp);\n  const { player } = props;\n  const controls = useMemo(() => {\n    return {\n      paused: player?.current?.paused(),\n      muted: player?.current?.muted(),\n      fullScreen: false\n    }\n  }, [])\n  const [paused, setPaused] = useState<boolean | undefined>(player?.current?.paused());\n  const [volume, setVolume] = useState<number>(player?.current?.volume() || 0);\n  const [state, setState] = useState<boolean>(false);\n  const [speedPOState, setSpeedPOState] = useState<{ anchorEl: HTMLButtonElement | null, rate: number }>({ anchorEl: null, rate: 1 });\n  const handleSpeedClick = (e: MouseEvent<HTMLButtonElement>) => {\n    setSpeedPOState({ ...speedPOState, anchorEl: e.currentTarget });\n  };\n  const handleSpeedPOClose = () => {\n    setSpeedPOState({ ...speedPOState, anchorEl: null });\n  };\n  const speedPOOpen = Boolean(speedPOState.anchorEl);\n\n  useEffect(() => {\n    if (timestamp >= 0) {\n      player?.current?.currentTime(timestamp);\n    }\n  }, [timestamp])\n\n  const handlePlayPause = () => {\n    if (controls.paused) {\n      player?.current?.play()\n    } else {\n      player?.current?.pause();\n    }\n  }\n\n  const handleMute = () => {\n    if (!volume) {\n      player?.current?.muted(false);\n      player?.current?.volume(0.5);\n      setVolume(0.5);\n    } else {\n      player?.current?.muted(true);\n      setVolume(0);\n    }\n  }\n\n  const handlePlayBackSpeed = (rate: number) => {\n    player?.current?.playbackRate(rate);\n    setSpeedPOState({ rate, anchorEl: null });\n  }\n\n  const handleVolumeChange = (volume: number) => {\n    player?.current?.volume(volume);\n    setVolume(volume)\n  }\n\n  const seek10Sec = (direction: string) => {\n    direction === \"FORWARD\" ? player?.current?.currentTime(player?.current?.currentTime() + 10) : player?.current?.currentTime(player.current.currentTime() - 10);\n    setState(!state);\n  }\n  const fullScreen = () => {\n    player?.current?.requestFullscreen();\n  }\n\n  player?.current?.on('fullscreenchange', () => {\n    if (controls.fullScreen) {\n      const controlBar = document.getElementsByClassName(\"vjs-control-bar\");\n      controlBar[0].classList.add(\"hidden\");\n      controls.fullScreen = false\n    }\n    else {\n      const controlBar = document.getElementsByClassName(\"vjs-control-bar\");\n      controlBar[0].classList.remove(\"hidden\");\n      controls.fullScreen = true\n    }\n  });\n\n  player?.current?.on('ended', () => {\n    if (!controls.paused) {\n      controls.paused = true;\n      setPaused(controls.paused);\n    }\n  });\n  player?.current?.on('play', () => {\n    if (controls.paused) {\n      controls.paused = false;\n      setPaused(controls.paused);\n    }\n\n  });\n  player?.current?.on('pause', () => {\n    if (!controls.paused) {\n      controls.paused = true;\n      setPaused(controls.paused);\n    }\n  });\n\n  return (\n    <>\n      <div className=\"h-10 flex items-center border-t border-grey-0 border-dashed px-2\">\n        <Popover\n          id=\"SPEED_CONTROL_POPOVER\"\n          open={speedPOOpen}\n          anchorEl={speedPOState.anchorEl}\n          onClose={handleSpeedPOClose}\n          elevation={8}\n          anchorOrigin={{\n            vertical: 'top',\n            horizontal: 'right',\n          }}\n          transformOrigin={{\n            vertical: 'bottom',\n            horizontal: 'right',\n          }}\n        >\n          <p className=\"pt-3 px-4 bg-bg text-xs font-bold text-white\">Playback Speed</p>\n          <div className=\"px-2 py-2 bg-bg flex items-center\">\n            {[0.25, 0.5, 0.75, 1, 1.25, 1.5, 1.75, 2].map((speed, index) => (\n              <div className=\"mx-2\" key={index}>\n                <IconButton onClick={() => handlePlayBackSpeed(speed)} aria-label=\"delete\" size=\"small\" color=\"secondary\">\n                  <div className={`w-6 h-6 flex items-center justify-center text-xs ${speedPOState.rate === speed ? \"underline font-bold\" : \"\"}`}>{speed}x</div>\n                </IconButton>\n              </div>\n            ))}\n          </div>\n        </Popover>\n        <div>\n          <IconButton onClick={() => seek10Sec(\"BACKWARD\")} aria-label=\"delete\" size=\"small\" color=\"secondary\">\n            <Replay10RoundedIcon style={{ fontSize: 20 }} />\n          </IconButton>\n        </div>\n        <div className=\"ml-1\">\n          <IconButton onClick={handlePlayPause} aria-label=\"delete\" size=\"small\" color=\"secondary\">\n            {paused ? <PlayArrowRoundedIcon style={{ fontSize: 28 }} /> : <PauseRoundedIcon style={{ fontSize: 28 }} />}\n          </IconButton>\n        </div>\n        <div className=\"ml-1\">\n          <IconButton onClick={() => seek10Sec(\"FORWARD\")} aria-label=\"delete\" size=\"small\" color=\"secondary\">\n            <Forward10RoundedIcon style={{ fontSize: 20 }} />\n          </IconButton>\n        </div>\n        <div className={`${styles.volumeConrolWrap} ml-2 flex items-center`}>\n          <IconButton onClick={handleMute} aria-label=\"delete\" size=\"small\" color=\"secondary\">\n            {!volume ? <VolumeOffRoundedIcon style={{ fontSize: 20 }} /> : <VolumeUpRoundedIcon style={{ fontSize: 22 }} />}\n          </IconButton>\n          <div className={`${styles.volumeSlider} flex items-center ml-1`}>\n            <StyledSlider onChange={(e, volume: any) => handleVolumeChange(volume)} value={volume} aria-label=\"pretto slider\" defaultValue={1} max={1} min={0} step={0.05} />\n          </div>\n        </div>\n        <div className=\"flex flex-1\"></div>\n        <div className=\"ml-1\">\n          <IconButton onClick={handleSpeedClick} aria-label=\"delete\" size=\"small\" color=\"secondary\">\n            <div className=\"w-6 h-6 flex items-center justify-center text-sm font-semibold\">{speedPOState.rate}x</div>\n          </IconButton>\n        </div>\n        <span className=\"px-1\" />\n        <div className=\"ml-1\">\n          <IconButton onClick={fullScreen} aria-label=\"delete\" size=\"small\" color=\"secondary\">\n            <FullscreenOutlinedIcon style={{ fontSize: 24 }} />\n          </IconButton>\n        </div>\n      </div>\n    </>\n  );\n}\nexport default VideoControls;","import React from 'react';\nimport cx from 'classnames';\nimport styles from './text-button.module.css';\n\ninterface Props {\n  type?: 'button' | 'submit' | 'reset';\n  title?: string\n  variant: 'solid' | 'text-accent' | 'text-primary' | 'text-grey' | 'text-error' | 'text-white' | 'fill-accent' | 'fill-primary';\n  round?: boolean;\n  thick?: boolean;\n  size: 'regular' | 'medium' | 'large';\n  icon?: string;\n  iconRight?: boolean | true;\n  fullWidth?: boolean;\n  styles?: object | {};\n  onClick?: (event: React.MouseEvent<HTMLButtonElement>) => void;\n}\nconst Button: React.FC<Props> = (props) => {\n  return (\n    <button\n      type={props.type}\n      onClick={props.onClick}\n      className={cx(styles.button, styles[props.variant], styles[props.size], props.round && styles.round, props.thick && styles.thick, props.fullWidth && styles.fullWidth)}\n      style={props.styles}\n    >\n      <span\n        className={styles.buttonText}\n      >\n        {props.children}\n      </span>\n    </button>\n  );\n};\n\nexport default Button;","import React from \"react\";\nimport Popper, { PopperProps } from '@material-ui/core/Popper';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setTimestampAction } from 'src/store/player/action';\nimport \"video.js/dist/video-js.css\";\nimport { IState } from 'src/store/config';\nimport { IComment } from 'src/store/player/type';\n\ninterface Props {\n  player: any,\n  dimentions: number[]\n}\n\nconst ToolTipComponent = (comment: IComment, index: number) => (props: PopperProps) => {\n  const minute = (comment.timestamp - (comment.timestamp % 60)) / 60;\n  const second = parseInt(`${comment.timestamp % 60}`);\n  return (\n    <Popper {...props} transition>\n      <div className=\"mb-2 py-3 px-4 rounded-xl text-xs\" style={{ maxWidth: 300, backgroundColor: \"var(--bgsolid)\" }}>\n        <div className=\"flex items-center mb-1 font-semibold\">\n          <div className=\"h-6 w-6 bg-bg-light z-0 rounded-full overflow-hidden mr-2\">\n            {false ?\n              <img src={`${process.env.PUBLIC_URL}`} className=\"h-full w-full object-cover\" /> :\n              <div className=\"h-full w-full flex items-center justify-center\" style={{ fontSize: 10 }}>\n                <span>{comment.user.firstName[0]}{comment.user.lastName[0]}</span>\n              </div>\n            }\n          </div>\n          <span>{comment.user.firstName} {comment.user.lastName}</span>\n        </div>\n        <div >\n          <span className=\"mr-2 font-semibold text-accent\">{`${minute >= 10 ? minute : `0${minute}`}:${second >= 10 ? second : `0${second}`}`}</span>{comment.text}\n        </div>\n      </div>\n    </Popper>\n  )\n}\n\nexport const Timeline = (props: Props) => {\n  const { comments } = useSelector((state: IState) => state.playerReducer);\n  const { player } = props;\n  const colors = [\"#00E6F0\", \"#00FF00\", \"#FFFF00\", \"#FF6800\", \"#E55151\"];\n  const computedFontSize = parseInt(window.getComputedStyle(document.body).fontSize.slice(0, -2));\n  const dispatch = useDispatch();\n\n  const handleThumbClick = (timestamp: number) => {\n    dispatch(setTimestampAction({ timestamp }))\n  }\n\n  return (\n    <div className=\"flex h-8 flex-col relative\">\n      {comments.map((comment, index) => {\n        const duration = player.current.duration();\n        const trackLength = props.dimentions[0] * computedFontSize;\n        let position = trackLength * (comment.timestamp / duration);\n        if (position < 10) {\n          position = 10\n        }\n        if (position > trackLength - 10) {\n          position = trackLength - 10\n        }\n        if (comment.timestamp > 0) {\n          return (\n            <Tooltip key={index} placement=\"top\" PopperComponent={ToolTipComponent(comment, index)} title={comment.text}>\n              <button onClick={() => handleThumbClick(comment.timestamp)} className=\"bg-bg-dark z-0 rounded-full overflow-hidden absolute top-1.5 cursor-pointer hover:bg-bg hover:z-10 left-0 opacity-70 focus:opacity-100\" style={{ width: 20, height: 20, left: position, borderWidth: 1, borderColor: colors[parseInt(`${Math.random() * 4}`)], transform: `translateX(-10px)` }}>\n                {false ?\n                  <img src={`${process.env.PUBLIC_URL}`} className=\"h-full w-full object-cover\" /> :\n                  <div className=\"h-full w-full flex items-center justify-center\" style={{ fontSize: 10 }}>\n                    <span>{comment.user.firstName[0]}{comment.user.lastName[0]}</span>\n                  </div>\n                }\n              </button>\n            </Tooltip>\n          )\n        }\n      })}\n    </div>\n  );\n}\nexport default Timeline;","import React, { MutableRefObject, useState } from 'react';\nimport CheckCircleRoundedIcon from '@material-ui/icons/CheckCircleRounded';\nimport * as Yup from 'yup';\nimport ExpandMoreRoundedIcon from '@material-ui/icons/ExpandMoreRounded';\nimport SendRoundedIcon from '@material-ui/icons/SendRounded';\nimport ScheduleIcon from '@material-ui/icons/Schedule';\nimport Buttom from \"src/components/button/text.button\"\nimport InputBase from '@material-ui/core/InputBase';\nimport { Field, FieldProps, Formik } from 'formik';\nimport { useMutation } from 'src/utils/axios-hooks';\nimport projectAPI from \"src/apis/project\"\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addCommentAction } from 'src/store/player/action';\nimport { commentVisibility, IComment } from 'src/store/player/type';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { VideoJsPlayer } from 'video.js';\nimport { formatSeconds } from 'src/utils/time';\nimport { IState } from 'src/store/config';\n\ninterface IProps {\n  player: MutableRefObject<VideoJsPlayer | null>;\n  videoId: string;\n}\n\nconst CommentBox: React.FC<IProps> = (props) => {\n  const { player } = props;\n  const dispatch = useDispatch();\n  const { user } = useSelector((state: IState) => state.authReducer);\n  const [timestamp, setTimestamp] = useState<number | undefined>(player?.current?.currentTime());\n  const { mutate: addComment, loading } = useMutation<any, any>(projectAPI.addComment, {\n    onSuccess: (res) => {\n      const addedComment: IComment = res.data.videoComment\n      dispatch(addCommentAction({ comment: addedComment }));\n    }\n  });\n\n  const schema = Yup.object().shape({\n    text: Yup.string().required(),\n  });\n\n  player?.current?.on('timeupdate', () => {\n    setTimestamp(player?.current?.currentTime())\n  });\n\n  return (\n    <Formik\n      enableReinitialize\n      initialValues={{\n        timestamp,\n        text: \"\",\n        visibility: commentVisibility.EVERYONE\n      }}\n      validationSchema={schema}\n      onSubmit={values => {\n        addComment({\n          video: props.videoId,\n          data: {\n            text: values.text,\n            timestamp: timestamp ?? -1,\n            visibility: values.visibility\n          }\n        })\n        values.text = \"\";\n      }}\n    >\n      {(formikProps) => (\n        <form onSubmit={formikProps.handleSubmit} className=\"flex items-center h-full px-4 py-4\">\n          <div className=\"rounded-full w-8 h-8 bg-bg-light overflow-hidden\">\n            <img className=\"w-full h-full object-covert\" src={user?.picture} />\n          </div>\n          <div\n            className={`pr-2 pl-1 py-1 flex items-center rounded-md bg-bg-dark text-sm ml-4 border cursor-pointer hover:text-accent ${!!timestamp ? \"text-accent border-accent\" : \"text-grey-2 border-grey-2\"}`}\n          >\n            <span className=\"mr-1 flex items-center\">\n              <ScheduleIcon fontSize=\"inherit\" color=\"inherit\" />\n              <span className=\"ml-1 \">{!!timestamp ? `${formatSeconds(timestamp)}` : \"time\"}</span>\n            </span>\n            {!!timestamp && <CheckCircleRoundedIcon fontSize=\"inherit\" color=\"inherit\" />}\n          </div>\n          <div className=\"text-sm ml-4 text-grey-5 flex flex-1 text-white\">\n            <Field name=\"text\">\n              {({ field, meta: { touched, error }, }: FieldProps) => (\n                <InputBase\n                  {...field}\n                  style={{ color: \"#fff\", fontSize: \"inherit\" }}\n                  placeholder=\"Type your comment here\"\n                  inputProps={{ 'aria-label': 'Type your comment here' }}\n                  fullWidth\n                  onFocus={() => player?.current?.pause()}\n                  multiline\n                  rowsMax={4}\n                  onKeyPress={(event) => {\n                    if (event.key === \"Enter\") {\n                      event.preventDefault();\n                      formikProps.handleSubmit();\n                    }\n                  }}\n                  onChange={(event) => {\n                    formikProps.setFieldValue(\"text\", event.target.value);\n                  }}\n                />\n              )}\n            </Field>\n          </div>\n          <div className=\"pr-1 pl-1 py-1 flex items-center rounded-md bg-bg-dark text-sm ml-4 mr-2 border border-accent\">\n            <span className=\"ml-1\">Everyone</span>\n            <ExpandMoreRoundedIcon fontSize=\"inherit\" />\n          </div>\n          <Buttom type=\"submit\" size=\"regular\" variant=\"fill-accent\" title=\"Send\">\n            {loading ? <CircularProgress color=\"secondary\" size={14} thickness={4} /> : <SendRoundedIcon fontSize=\"inherit\" />}\n          </Buttom>\n        </form>)}\n    </Formik>\n  )\n};\n\nexport default CommentBox;\n","import React from \"react\";\nimport CircleIcon from '@material-ui/icons/RadioButtonUnchecked';\nimport RadioButtonCheckedIcon from '@material-ui/icons/RadioButtonChecked';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport { ITaskStatus } from 'src/store/organisation/type';\n\nexport const taskStatusMap = [\n  {\n    name: ITaskStatus.NEEDS_REVIEW,\n    icon: <CircleIcon color=\"inherit\" fontSize=\"inherit\" />,\n    color: \"#ffa500\",\n    label: \"Needs Review\"\n  },\n  {\n    name: ITaskStatus.IN_PROGRESS,\n    icon: <RadioButtonCheckedIcon color='inherit' fontSize=\"inherit\" />,\n    color: \"#2b9cff\",\n    label: \"In Progress\"\n  },\n  {\n    name: ITaskStatus.APPROVED,\n    icon: <CheckCircleIcon color=\"inherit\" fontSize=\"inherit\" />,\n    color: \"#00cf71\",\n    label: \"Approved\"\n  },\n  {\n    name: ITaskStatus.NO_STATUS,\n    icon: <CircleIcon color=\"inherit\" fontSize=\"inherit\" />,\n    color: \"#848484\",\n    label: \"No Status\"\n  }\n];","import React, { useEffect, useRef, useState } from \"react\";\nimport videojs, { VideoJsPlayer, VideoJsPlayerOptions } from \"video.js\";\nimport \"video.js/dist/video-js.css\";\nimport VideoControls from './video-controls';\nimport Buttom from \"src/components/button/text.button\"\nimport IconButton from '@material-ui/core/IconButton';\nimport ArrowBackRoundedIcon from '@material-ui/icons/ArrowBackRounded';\nimport Timeline from './timeline'\nimport { useNavigate } from 'react-router-dom';\nimport CommentBox from './comment-box';\nimport Popover from '@material-ui/core/Popover';\nimport { IProjectTask, ITaskStatus } from 'src/store/organisation/type';\nimport { IVideo } from 'src/store/player/type';\nimport projectAPI from 'src/apis/project'\nimport { useMutation } from 'src/utils/axios-hooks';\nimport { taskStatusMap } from 'src/utils/consts';\n\nimport \"videojs-contrib-quality-levels\";\n\ninterface Props {\n  dimentions: number[];\n  video: IVideo;\n  organisation: string;\n  projectTask: IProjectTask;\n}\n\nexport const VideoJS = (props: Props) => {\n  const navigate = useNavigate()\n  const videoRef = useRef(null);\n  const playerRef = useRef<VideoJsPlayer | null>(null);\n  const [metaLoaded, setMetaLoaded] = useState<boolean>(false);\n  const [popoverState, setPopoverState] = useState<any>(null);\n  const [taskStatus, setTaskStatus] = useState<ITaskStatus>(props.projectTask.status);\n\n  const { mutate: updateTaskStatus } = useMutation<any, any>(projectAPI.updateTaskStatus);\n\n  const handleClick = (e: any) => {\n    setPopoverState(e.currentTarget);\n  };\n\n  const handleClose = () => {\n    setPopoverState(null);\n  };\n  const open = Boolean(popoverState);\n\n  const videoJsOptions: VideoJsPlayerOptions = {\n    autoplay: false,\n    controls: true,\n    responsive: true,\n    fluid: true,\n    muted: false,\n    defaultVolume: 1,\n    playbackRates: [0.25, 0.5, 0.75, 1, 1.25, 1.5, 1.75, 2],\n    controlBar: {\n      pictureInPictureToggle: false,\n    },\n    userActions: {\n      doubleClick: false,\n      hotkeys: true\n    },\n    bigPlayButton: false,\n    inactivityTimeout: 0,\n    sources: [{\n      src: props.video.file,\n      type: 'application/x-mpegURL'\n    }],\n    html5: {\n      vhs: {\n        overrideNative: true\n      },\n      nativeAudioTracks: false,\n      nativeVideoTracks: false\n    }\n  }\n\n  const handleVideoReady = (player: VideoJsPlayer) => {\n    videojs.log('player is ready');\n    const controlBar = document.getElementsByClassName(\"vjs-control-bar\");\n    controlBar[0] && controlBar[0].classList.add(\"hidden\");\n\n    const qualityLevels = player.qualityLevels();\n    qualityLevels.on('addqualitylevel', function (event) {\n      let qualityLevel = event.qualityLevel;\n      if (qualityLevel.height >= 720) {\n        qualityLevel.enabled = true;\n      } else {\n        qualityLevel.enabled = false;\n      }\n    });\n\n    // Listen to change events for when the player selects a new quality level\n    qualityLevels.on('change', function () {\n      console.log('Quality Level changed!');\n      console.log('New level:', qualityLevels[qualityLevels.selectedIndex]);\n    });\n  }\n\n  useEffect(() => {\n    // Make sure Video.js player is only initialized once\n    if (!playerRef.current) {\n      const videoElement = videoRef.current;\n      if (!videoElement) return;\n      const player = playerRef.current = videojs(videoElement, videoJsOptions, () => {\n        handleVideoReady(player);\n      });\n    }\n    if (playerRef.current) {\n      handleVideoReady(playerRef.current);\n    }\n  }, [videoRef]);\n\n  // Dispose the Video.js player when the functional component unmounts\n  useEffect(() => {\n    const player = playerRef.current;\n\n    return () => {\n      if (player) {\n        player.dispose();\n        playerRef.current = null;\n      }\n    };\n  }, [playerRef]);\n\n  useEffect(() => {\n    if (taskStatus && taskStatus !== props.projectTask.status) {\n      updateTaskStatus({\n        organisation: props.organisation,\n        project: props.projectTask.project,\n        task: props.projectTask._id,\n        data: { status: taskStatus }\n      });\n    }\n  }, [taskStatus, props.projectTask]);\n\n  return (\n    <>\n      <div className=\"flex flex-col flex-1 justify-center items-center\">\n        <div className=\"bg-bg relative mb-12\" style={{ width: `${props.dimentions[0]}rem`, height: `${props.dimentions[1]}rem` }}>\n          <div className=\"absolute -top-12 inset-x-0 h-12 flex flex-col bg-accent rounded-t-xl border-b border-bg-dark\" style={{ background: \"var(--accent-shade)\" }}>\n            <div className=\"px-4 h-full flex items-center\">\n              <IconButton onClick={() => navigate(-1)} aria-label=\"delete\" size=\"small\" color=\"secondary\" edge=\"start\">\n                <ArrowBackRoundedIcon fontSize=\"default\" />\n              </IconButton>\n              <span className=\"text-sm font-semibold ml-3\">{props.video.name}</span>\n              <div className=\"flex flex-1 justify-end text-sm \">\n                <Buttom onClick={(e) => handleClick(e)} type=\"button\" size=\"regular\" variant=\"text-white\" >\n                  <span className='flex items-center text-sm' style={{ color: taskStatusMap.find((status) => status.name === taskStatus)?.color || \"initial\" }}>\n                    {taskStatusMap.find((status) => status.name === taskStatus)?.icon || null}\n                    <span className=\"ml-1 text-primary\">{taskStatusMap.find((status) => status.name === taskStatus)?.label || \"\"}</span>\n                  </span>\n                </Buttom>\n              </div>\n              <Popover\n                id={\"APP_HEADER_POPOVER\"}\n                open={open}\n                anchorEl={popoverState}\n                onClose={handleClose}\n                elevation={8}\n                anchorOrigin={{\n                  vertical: 'bottom',\n                  horizontal: 'center',\n                }}\n                transformOrigin={{\n                  vertical: 'top',\n                  horizontal: 'center',\n                }}\n              >\n                <div className=\"bg-bg-dark text-primary rounded-xl overflow-hidden\">\n                  <div className=\"bg-bg-light\">\n                    <div className=\"bg-bg-light w-40\">\n                      {taskStatusMap.map((status, index) => (\n                        <div\n                          key={index}\n                          onClick={() => {\n                            setTaskStatus(status.name);\n                            handleClose();\n                          }}\n                          className={`py-3 px-4 ${index < (taskStatusMap.length - 1) && \"border-b border-bg-dark\"} text-sm cursor-pointer hover:bg-bg flex items-center`}\n                          style={{ color: status.color }}\n                        >\n                          {status.icon}\n                          <span className=\"ml-1 text-primary\">{status.label}</span>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n\n                </div>\n              </Popover>\n            </div>\n          </div>\n          <div className=\"w-full h-full overflow-hidden\">\n            <div data-vjs-player>\n              <video onLoadedMetadata={() => setMetaLoaded(true)} ref={videoRef} className=\"video-js vjs-big-play-centered\" />\n            </div>\n          </div>\n          <div className=\"absolute -bottom-18 inset-x-0 flex flex-col bg-bg rounded-b-xl border-t border-bg-dark\">\n            {playerRef.current && metaLoaded && (\n              <>\n                <Timeline player={playerRef} dimentions={props.dimentions} />\n                <VideoControls player={playerRef} />\n              </>\n            )}\n          </div>\n        </div>\n      </div>\n      <div className=\"h-24 flex justify-center mt-6 pt-2\">\n        <div className=\"h-full bg-bg-light w-full\">\n          {playerRef.current && metaLoaded && <CommentBox videoId={props.video._id} player={playerRef} />}\n        </div>\n      </div>\n    </>\n  );\n}\nexport default React.memo(VideoJS);","import Evaporate from 'evaporate';\nimport {\n  AUTH_OTP_VALIDATE,\n  AUTH_SIGNOUT,\n  AuthActionTypes,\n  IAuthState,\n  AUTH_SIGNIN,\n  AUTH_SET_PASSWORD,\n  SET_AUTH_EVAPORATE_CLIENT,\n  UPDATE_USER,\n  IUser,\n} from './type';\n\nexport function authOtpValidateAction(payload: Partial<IAuthState>): AuthActionTypes {\n  return {\n    type: AUTH_OTP_VALIDATE,\n    payload\n  }\n}\n\nexport function authSetPasswordAction(): AuthActionTypes {\n  return {\n    type: AUTH_SET_PASSWORD\n  }\n}\n\nexport function authSignInAction(payload: IAuthState): AuthActionTypes {\n  return {\n    type: AUTH_SIGNIN,\n    payload\n  }\n}\n\nexport function authSignOutAction(): AuthActionTypes {\n  return {\n    type: AUTH_SIGNOUT\n  }\n}\n\nexport function updateUserAction(payload: { user: IUser }): AuthActionTypes {\n  return {\n    type: UPDATE_USER,\n    payload\n  }\n}\n\nexport function setAuthEvaporateClientAction(payload: { _e_: Evaporate }): AuthActionTypes {\n  return {\n    type: SET_AUTH_EVAPORATE_CLIENT,\n    payload\n  }\n}\n","import axios from 'axios';\n\nexport default {\n  getUser: () => axios.get(\"/api/me\"),\n  updateUser: <V extends { user: string, data: object }>(variables: V) => axios.put(`/api/user/${variables.user}`, variables.data),\n  createProfile: <V>(data: V) => axios.post(\"/api/advisor/profile\", data)\n};","import axios from 'axios';\n\nexport default {\n  addUser: <V>(data: V) => axios.post('/api/user', data),\n  getUsers: () => axios.get('/api/user'),\n  getOrganisations: () => axios.get('/api/organisation'),\n  createOrganisation: <V>(data: V) => axios.post('/api/organisation', data),\n  updateOrganisation: <V extends { organisation: string, data: object }>(variables: V) => axios.put(`/api/organisation/${variables.organisation}`, variables.data),\n  getProjectTemplates: <V extends { organisation: string }>(variables: V) => axios.get(`/organisation/${variables.organisation}/ptemplate`),\n  createProjectTemplate: <V extends { organisation: string, data: object }>(variables: V) => axios.post(`/organisation/${variables.organisation}/ptemplate`, variables.data),\n  updateProjectTemplate: <V extends { organisation: string, template: string, data: object }>(variables: V) => axios.put(`/organisation/${variables.organisation}/ptemplate/${variables.template}`, variables.data),\n};","import React, { useState } from 'react';\nimport CloseRoundedIcon from '@material-ui/icons/CloseRounded';\nimport Button from \"src/components/button/text.button\";\nimport IconButton from '@material-ui/core/IconButton';\nimport Dialog from '@material-ui/core/Dialog';\nimport * as Yup from 'yup';\nimport { Field, FieldProps, Form, Formik } from 'formik';\nimport { StyledInputBase } from 'src/components/input';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useMutation } from 'src/utils/axios-hooks';\nimport orgAPI from 'src/apis/organisation'\nimport { addOrganisationAction } from 'src/store/organisation/action';\nimport { IState } from 'src/store/config';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { UserRole } from 'src/store/auth/type';\n\ninterface IProps {\n  role: UserRole;\n  open: boolean;\n  setOpen: (open: boolean, reload: boolean) => void;\n}\n\nconst AddUserDialog: React.FC<IProps> = (props) => {\n  const dispatch = useDispatch();\n\n  const { mutate: createOrganisation, loading: orgCreating } = useMutation(orgAPI.addUser, {\n    onSuccess: (res) => {\n      handleDialogueClose(true);\n    }\n  });\n\n  const handleDialogueClose = (reload: boolean) => {\n    props.setOpen(false, reload)\n  };\n\n  const schema = Yup.object().shape({\n    email: Yup.string().email().required(),\n    firstName: Yup.string().required(),\n    lastName: Yup.string().required(),\n    role: Yup.string().required(),\n  });\n\n  return (\n    <Dialog\n      open={props.open}\n      onClose={() => handleDialogueClose(false)}\n      scroll=\"paper\"\n      aria-labelledby=\"scroll-dialog-title\"\n      aria-describedby=\"scroll-dialog-description\"\n    >\n      <Formik\n        enableReinitialize\n        initialValues={{\n          email: \"\",\n          firstName: \"\",\n          lastName: \"\",\n          role: props.role\n        }}\n        validationSchema={schema}\n        onSubmit={(values) => {\n          createOrganisation(values)\n        }}\n      >\n        {(formikProps) => (\n          <Form className=\"bg-bg-dark text-primary rounded-xl overflow-hidden\">\n            <div className=\"bg-bg-light w-96\">\n              <div className=\"text-base font-bold py-3 px-7 border-b border-bg-dark flex items-center justify-between\">\n                <span>{props.role === UserRole.PROJECT_MANAGER ? \"Add a project manager\" : \"Add an editor\"}</span>\n                <IconButton onClick={() => handleDialogueClose(false)} edge=\"end\" aria-label=\"options\" size=\"small\" color=\"secondary\">\n                  <CloseRoundedIcon style={{ fontSize: 16 }} />\n                </IconButton>\n              </div>\n              <div className=\"p-6\">\n                <Field name=\"email\">\n                  {({ field, meta: { touched, error }, }: FieldProps) => (\n                    <>\n                      <p className=\"text-sm font-semibold px-1 flex justify-between\">\n                        <span>Email</span>\n                        {touched && Boolean(error) && <span className=\"text-error font-normal\">Required*</span>}\n                      </p>\n                      <StyledInputBase\n                        {...field}\n                        placeholder=\"Enter your email here\"\n                        fullWidth\n                        error={touched && Boolean(error)}\n                      />\n                    </>\n                  )}\n                </Field>\n                <div className=\"mt-6\"></div>\n                <p className=\"text-sm font-semibold px-1 flex justify-between\">\n                  <span>Name</span>\n                  {(\n                    (formikProps.touched.firstName && Boolean(formikProps.errors.firstName)) ||\n                    (formikProps.touched.lastName && Boolean(formikProps.errors.lastName))\n                  ) && <span className=\"text-error font-normal\">Required*</span>}\n                </p>\n                <div className=\"flex\">\n                  <Field name=\"firstName\">\n                    {({ field, meta: { touched, error }, }: FieldProps) => (\n                      <StyledInputBase\n                        {...field}\n                        placeholder=\"First Name\"\n                        fullWidth\n                        error={touched && Boolean(error)}\n                      />\n                    )}\n                  </Field>\n                  <span className=\"px-1\"></span>\n                  <Field name=\"lastName\">\n                    {({ field, meta: { touched, error }, }: FieldProps) => (\n                      <StyledInputBase\n                        {...field}\n                        placeholder=\"Last Name\"\n                        fullWidth\n                        error={touched && Boolean(error)}\n                      />\n                    )}\n                  </Field>\n                </div>\n                <div className=\"pt-8\">\n                  <Button type=\"submit\" size=\"large\" variant=\"fill-accent\" fullWidth >\n                    {orgCreating ? <CircularProgress color=\"secondary\" size={20} thickness={5} /> : <strong className=\"text-sm\">Add &#8594;</strong>}\n                  </Button>\n                </div>\n              </div>\n            </div>\n          </Form>\n        )}\n      </Formik>\n    </Dialog >\n  )\n};\n\nexport default AddUserDialog;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { IState } from 'src/store/config';\nimport { IOrganisationType } from 'src/store/organisation/type';\n\nconst AuthComponent: React.FC<{ allowedRoles: string[], organisationType?: IOrganisationType }> = ({ allowedRoles, organisationType, children }) => {\n  const { user } = useSelector((state: IState) => state.authReducer);\n  if (user && allowedRoles.includes(user.role)) {\n    if (organisationType && user.organisation.organisationType !== organisationType) {\n      return <></>\n    }\n    return <>{children}</>\n  }\n  return <></>\n}\n\nexport default AuthComponent;","import React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom'\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from 'src/components/button/text.button';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport AddUserDialog from '../dialogs/add-user';\nimport { IUser, UserRole } from 'src/store/auth/type';\nimport { useQuery } from 'src/utils/axios-hooks';\nimport orgAPI from \"src/apis/organisation\";\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { useSelector } from 'react-redux';\nimport { IState } from 'src/store/config';\nimport AuthComponent from 'src/components/auth/auth.component';\nimport { IOrganisationType } from 'src/store/organisation/type';\n\nconst StyledTabs = withStyles({\n  root: {\n    backgroundColor: 'transparent',\n  },\n  indicator: {\n    height: 3,\n    borderTopLeftRadius: 4,\n    borderTopRightRadius: 4,\n    backgroundColor: 'var(--accent)',\n  },\n})(Tabs);\n\nconst StyledTab = withStyles({\n  root: {\n    textTransform: 'none',\n    fontSize: 16,\n    minWidth: '60px !important',\n    color: '#fff',\n    '&:hover': {\n      color: 'var(--accent)',\n      opacity: 1,\n    },\n    '&$selected': {\n      color: 'var(--accent)',\n    },\n  },\n  selected: {},\n})(Tab);\n\nconst ManageTeam: React.FC = () => {\n  let history = useNavigate();\n  const { user } = useSelector((state: IState) => state.authReducer);\n  const [tab, setTab] = React.useState(user?.role === UserRole.ADMIN ? 0 : 1);\n  const [users, setUsers] = useState<IUser[]>([])\n  const [addUserDialog, setAddUserDialog] = useState<{ open: boolean, role: UserRole, reload: boolean }>({ open: false, role: UserRole.PROJECT_MANAGER, reload: true });\n\n  const { query: getUsers, loading: usersLoading } = useQuery(orgAPI.getUsers, {\n    onSuccess: (res) => {\n      setUsers(res.data.users)\n    }\n  });\n\n  useEffect(() => {\n    if (addUserDialog.reload)\n      getUsers();\n  }, [addUserDialog.reload])\n\n  const handleChange = (event: any, newValue: any) => {\n    setTab(newValue);\n  };\n\n  return (\n    <>\n      <div className=\"text-center border-b border-bg m-auto\">\n        <AuthComponent allowedRoles={[UserRole.ADMIN]} organisationType={IOrganisationType.EDITING}>\n          <StyledTabs centered value={tab} onChange={handleChange}>\n            <StyledTab value={0} disableRipple label=\"Admins\" />\n            <StyledTab value={1} disableRipple label=\"Project Managers\" />\n            <StyledTab value={2} disableRipple label=\"Editors\" />\n          </StyledTabs>\n        </AuthComponent>\n        <AuthComponent allowedRoles={[UserRole.PROJECT_MANAGER]} organisationType={IOrganisationType.EDITING}>\n          <StyledTabs centered value={tab} onChange={handleChange}>\n            <StyledTab value={1} disableRipple label=\"Project Managers\" />\n            <StyledTab value={2} disableRipple label=\"Editors\" />\n          </StyledTabs>\n        </AuthComponent>\n        <AuthComponent allowedRoles={[UserRole.ADMIN]} organisationType={IOrganisationType.PRODUCING}>\n          <StyledTabs centered value={tab} onChange={handleChange}>\n            <StyledTab value={0} disableRipple label=\"Admins\" />\n          </StyledTabs>\n        </AuthComponent>\n      </div>\n      <div className=\"max-w-sm mt-10 mx-auto\">\n        <AuthComponent allowedRoles={[UserRole.ADMIN]}>\n          <div className=\"\" style={{ display: tab === 0 ? \"block\" : \"none\" }}>\n            <p className=\"flex items-center justify-between text-sm font-semibold mb-2 pl-0.5\">\n              <span>Admins</span>\n              <Button onClick={() => setAddUserDialog({ open: true, role: UserRole.EDITOR, reload: false })} type=\"button\" size=\"regular\" variant=\"text-accent\" >\n                <span className=\"font-semibold\">Add +</span>\n              </Button>\n            </p>\n            {users.map((user, index) => (\n              user.role === UserRole.ADMIN && <div key={index} className=\"flex border-t border-bg items-center\">\n                <div className=\"w-8 h-8 rounded-full bg-bg overflow-hidden\">\n                  {false ?\n                    <img src={`${process.env.PUBLIC_URL}`} className=\"h-full w-full object-cover\" /> :\n                    <div className=\"h-full w-full flex items-center justify-center text-xs\">\n                      <span>{user.firstName[0]}{user.lastName[0]}</span>\n                    </div>\n                  }\n                </div>\n                <div className=\"flex flex-1 items-center pl-3 pr-1 py-4 text-sm\">\n                  {user.firstName} {user.lastName}\n                </div>\n              </div>\n            ))}\n          </div>\n        </AuthComponent>\n        <AuthComponent allowedRoles={[UserRole.ADMIN, UserRole.PROJECT_MANAGER]} organisationType={IOrganisationType.EDITING}>\n          <div className=\"\" style={{ display: tab === 1 ? \"block\" : \"none\" }}>\n            <p className=\"flex items-center justify-between text-sm font-semibold mb-2 pl-0.5\">\n              <span>Project Managers</span>\n              <Button onClick={() => setAddUserDialog({ open: true, role: UserRole.PROJECT_MANAGER, reload: false })} type=\"button\" size=\"regular\" variant=\"text-accent\" >\n                <span className=\"font-semibold\">Add +</span>\n              </Button>\n            </p>\n            <AddUserDialog open={addUserDialog.open} setOpen={(open: boolean, reload: boolean) => setAddUserDialog({ ...addUserDialog, open, reload })} role={addUserDialog.role} />\n            {usersLoading && <div className=\"text-center mt-4\">\n              <CircularProgress color=\"secondary\" size={20} thickness={5} />\n            </div>}\n            {users.map((user, index) => (\n              user.role === UserRole.PROJECT_MANAGER && <div key={index} className=\"flex border-t border-bg items-center\">\n                <div className=\"w-8 h-8 rounded-full bg-bg overflow-hidden\">\n                  {false ?\n                    <img src={`${process.env.PUBLIC_URL}`} className=\"h-full w-full object-cover\" /> :\n                    <div className=\"h-full w-full flex items-center justify-center text-xs\">\n                      <span>{user.firstName[0]}{user.lastName[0]}</span>\n                    </div>\n                  }\n                </div>\n                <div className=\"flex flex-1 items-center pl-3 pr-1 py-4 text-sm\">\n                  {user.firstName} {user.lastName}\n                </div>\n              </div>\n            ))}\n          </div>\n          <div className=\"\" style={{ display: tab === 2 ? \"block\" : \"none\" }}>\n            <p className=\"flex items-center justify-between text-sm font-semibold mb-2 pl-0.5\">\n              <span>Editors</span>\n              <Button onClick={() => setAddUserDialog({ open: true, role: UserRole.EDITOR, reload: false })} type=\"button\" size=\"regular\" variant=\"text-accent\" >\n                <span className=\"font-semibold\">Add +</span>\n              </Button>\n            </p>\n            {users.map((user, index) => (\n              user.role === UserRole.EDITOR && <div key={index} className=\"flex border-t border-bg items-center\">\n                <div className=\"w-8 h-8 rounded-full bg-bg overflow-hidden\">\n                  {false ?\n                    <img src={`${process.env.PUBLIC_URL}`} className=\"h-full w-full object-cover\" /> :\n                    <div className=\"h-full w-full flex items-center justify-center text-xs\">\n                      <span>{user.firstName[0]}{user.lastName[0]}</span>\n                    </div>\n                  }\n                </div>\n                <div className=\"flex flex-1 items-center pl-3 pr-1 py-4 text-sm\">\n                  {user.firstName} {user.lastName}\n                </div>\n              </div>\n            ))}\n          </div>\n        </AuthComponent>\n\n      </div>\n    </>\n  );\n};\n\nexport default ManageTeam;\n","import React, { useCallback, useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom'\nimport Button from 'src/components/button/text.button';\nimport { v4 as uuidv4 } from 'uuid';\nimport * as Yup from 'yup';\nimport { useMutation } from 'src/utils/axios-hooks';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { IState } from 'src/store/config';\nimport { StyledInputBase } from 'src/components/input';\nimport { Field, FieldProps, Form, Formik } from 'formik';\nimport { useDropzone } from 'react-dropzone';\nimport organisationAPI from 'src/apis/organisation';\nimport { IOrganisation } from 'src/store/organisation/type';\nimport { updateUserAction } from 'src/store/auth/action';\nimport { IUser } from 'src/store/auth/type';\nimport { useSnackbar, SnackBarVariant } from 'src/utils/snackbar';\n\ninterface IProps {\n  user: IUser\n}\n\nconst BasicSettings: React.FC<IProps> = (props) => {\n  const snackbar = useSnackbar();\n  const dispatch = useDispatch();\n  const { _e_ } = useSelector((state: IState) => state.authReducer);\n  const [imageKey, setImageKey] = useState<string>('');\n  const [loading, setLoading] = useState<boolean>(false);\n  const { mutate: updateOrganisation } = useMutation<any, any>(organisationAPI.updateOrganisation, {\n    onSuccess: ({ data }, variables) => {\n      setLoading(false);\n      snackbar({\n        variant: SnackBarVariant.SUCCESS,\n        visible: true,\n        message: 'Organisation updated!',\n      });\n      dispatch(updateUserAction({\n        user: {\n          ...props.user,\n          organisation: {\n            ...props.user.organisation,\n            ...data.organisation\n          }\n        }\n      }));\n    }\n  });\n\n  const onDrop = useCallback((files: File[]) => {\n    if (_e_) {\n      const client = _e_;\n      const filePromises = [];\n      if (files) {\n        for (var i = 0; i < files.length; i++) {\n          const name = files[i].name;\n          const lastDot = name.lastIndexOf('.');\n          const ext = name.substring(lastDot + 1);\n          const file = `${uuidv4()}.${ext}`;\n          const promise = client\n            .add({\n              name: file,\n              file: files[i],\n              started: function (fileKey) {\n                setImageKey(fileKey);\n                setLoading(true)\n              },\n              progress: function (progress) {\n                if (progress === 1) {\n                  updateOrganisation({\n                    organisation: props.user.organisation._id,\n                    data: {\n                      organisationName: props.user.organisation.name,\n                      picture: file\n                    }\n                  });\n                  setImageKey(file);\n                }\n              }\n            });\n          filePromises.push(promise);\n        }\n        Promise.all(filePromises).catch((err) => console.log(err));\n      }\n    }\n  }, [])\n\n  const { getRootProps, getInputProps } = useDropzone({ onDrop, accept: 'image/*' });\n\n  const schema = Yup.object().shape({\n    organisationName: Yup.string().required(),\n  });\n\n  return (\n    <>\n      <Formik\n        enableReinitialize\n        initialValues={{\n          organisationName: props.user.organisation.name,\n        }}\n        validationSchema={schema}\n        onSubmit={(values) => {\n          const updates = imageKey ? { organisationName: values.organisationName, picture: imageKey } : { organisationName: values.organisationName }\n          updateOrganisation({\n            organisation: props.user.organisation._id,\n            data: updates\n          });\n        }}\n      >\n        {(formikProps) => (\n          <Form className=\"max-w-sm mt-10 mx-auto\">\n            <div className=\"w-32 mt-4 text-center\">\n              <div className=\"w-32 h-32 border-2 border-dashed border-bg rounded-xl overflow-hidden\">\n                {loading ?\n                  <div className=\"w-full h-full flex items-center justify-center\">\n                    <CircularProgress color=\"secondary\" size={20} thickness={5} />\n                  </div>\n                  : <div className=\"w-full h-full\">\n                    {props.user.organisation.picture ?\n                      <img src={props.user.organisation.picture} className=\"h-full w-full object-contain\" /> :\n                      <div className=\"h-full w-full flex items-center justify-center text-base font-bold\">\n                        <span>{props.user.organisation.name.slice(0, 2)}</span>\n                      </div>\n                    }\n                  </div>}\n              </div>\n              <Button type=\"button\" variant=\"text-accent\" size=\"medium\" fullWidth>\n                <div {...getRootProps()}>\n                  <input {...getInputProps()} />\n                  <p className=\"text-sm font-semibold\">{props.user.organisation.picture ? \"Change Image\" : \"Upload Image\"}</p>\n                </div>\n              </Button>\n            </div>\n            <div className=\"mt-2\">\n              <Field name=\"organisationName\">\n                {({ field, meta: { touched, error }, }: FieldProps) => (\n                  <StyledInputBase\n                    {...field}\n                    placeholder=\"Organisation Name\"\n                    fullWidth\n                    error={touched && Boolean(error)}\n                  />\n                )}\n              </Field>\n            </div>\n            <div className=\"mt-8 w-32\">\n              <Button type=\"submit\" size=\"regular\" variant=\"fill-accent\" fullWidth>\n                <span className=\"font-semibold\">Save</span>\n              </Button>\n            </div>\n          </Form>\n        )}\n      </Formik>\n    </>\n  );\n};\n\nexport default BasicSettings;\n\n","import React, { useCallback, useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom'\nimport Button from 'src/components/button/text.button';\nimport CloseRoundedIcon from '@material-ui/icons/CloseRounded';\nimport RadioButtonUncheckedIcon from '@material-ui/icons/RadioButtonUnchecked';\nimport EditIcon from '@material-ui/icons/Edit';\nimport DeleteRoundedIcon from '@material-ui/icons/DeleteRounded';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport * as Yup from 'yup';\nimport { useMutation, useQuery } from 'src/utils/axios-hooks';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { StyledInputBase, StyledSwitch } from 'src/components/input';\nimport { Field, FieldArray, FieldProps, Form, Formik } from 'formik';\nimport organisationAPI from 'src/apis/organisation';\nimport { ANSWER_TYPES, IOrganisation, IProjectTemplate, IQuestion } from 'src/store/organisation/type';\nimport { updateUserAction } from 'src/store/auth/action';\nimport { IUser } from 'src/store/auth/type';\nimport Dialog from '@material-ui/core/Dialog';\nimport IconButton from '@material-ui/core/IconButton';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Collapse from '@material-ui/core/Collapse';\nimport { useSnackbar, SnackBarVariant } from 'src/utils/snackbar';\n\ninterface IProps {\n  user: IUser\n}\n\nconst initialQuestionData: IQuestion = {\n  question: '',\n  answerType: ANSWER_TYPES.TEXT,\n  required: false,\n  expectedAnswer: 'YES',\n  options: [],\n  errorMessage: ''\n}\n\nconst ProjectQuestions: React.FC<IProps> = (props) => {\n  const snackbar = useSnackbar()\n  const [templates, setTemplates] = useState<IProjectTemplate[]>([]);\n  const [selectedTemplate, setSelectedTemplate] = useState<IProjectTemplate>();\n  const [dialogue, setDialogue] = useState<{ open: boolean, data: IQuestion, questionIndex?: number }>({\n    open: false,\n    data: initialQuestionData\n  });\n  const { query: getProjectTemplates, loading: templatesLoading } = useQuery<any, any>(organisationAPI.getProjectTemplates, {\n    onSuccess: ({ data }) => {\n      setTemplates(data.projectTemplates)\n    }\n  });\n\n  const { mutate: createProjectTemplate, loading: creatingTemplate } = useMutation<any, any>(organisationAPI.createProjectTemplate, {\n    onSuccess: ({ data }) => {\n      let _templates = templates;\n      _templates.push(data.projectTemplate)\n      setTemplates(_templates);\n      setSelectedTemplate(data.projectTemplate)\n      snackbar({\n        visible: true,\n        variant: SnackBarVariant.SUCCESS,\n        message: \"Template created!\"\n      })\n    },\n    onError: (err) => {\n      snackbar({\n        visible: true,\n        variant: SnackBarVariant.ERROR,\n        message: err.message\n      })\n    }\n  });\n\n  const { mutate: updateProjectTemplate, loading: updatingTemplate } = useMutation<any, any>(organisationAPI.updateProjectTemplate, {\n    onSuccess: ({ data }) => {\n      setSelectedTemplate(data.projectTemplate);\n      snackbar({\n        visible: true,\n        variant: SnackBarVariant.SUCCESS,\n        message: \"Template Updated!\"\n      })\n    },\n    onError: (err) => {\n      snackbar({\n        visible: true,\n        variant: SnackBarVariant.ERROR,\n        message: err.message\n      })\n    }\n  });\n\n  useEffect(() => {\n    getProjectTemplates({\n      organisation: props.user.organisation._id\n    })\n  }, [])\n\n  const handleDialogueClose = () => {\n    setDialogue({\n      ...dialogue,\n      open: false,\n    });\n  };\n\n  const schema = Yup.object().shape({\n    name: Yup.string().required(),\n    questions: Yup.array().min(1)\n  });\n\n  const questionsSchema = Yup.object().shape({\n    question: Yup.string().required(\"Question is required\"),\n    errorMessage: Yup.string().when('required', {\n      is: true,\n      then: Yup.string().required('Error message is required'),\n    }),\n    options: Yup.array()\n      .when('answerType', {\n        is: ANSWER_TYPES.RADIO,\n        then: Yup.array()\n          .of(\n            Yup.string().required()\n          )\n          .min(1)\n      })\n  });\n\n\n  return (\n    <div>\n      {templatesLoading ?\n        <div className=\"py-2 px-5\">\n          <CircularProgress color=\"secondary\" size={20} thickness={5} />\n        </div>\n        : <div className=\"text-sm border-b border-bg mb-4 flex py-2 px-5 flex-wrap\">\n          {templates.map((template, index) => (\n            <div onClick={() => setSelectedTemplate(template)} className={`h-10 px-3 m-1 flex items-center rounded-md border text-sm font-semibold cursor-pointer ${template._id === selectedTemplate?._id ? \"border-accent bg-bg\" : \"border-grey-1\"}`}>{template.name}</div>\n          ))}\n          <div onClick={() => setSelectedTemplate({ name: \"\", questions: [] })} className=\"h-10 px-3 m-1 flex items-center rounded-md border border-dashed border-grey-1 text-accent text-sm font-semibold cursor-pointer hover:bg-bg\">Create New +</div>\n        </div>\n      }\n      {selectedTemplate && <Formik\n        enableReinitialize\n        initialValues={{\n          name: selectedTemplate.name,\n          questions: selectedTemplate.questions,\n        }}\n        validationSchema={schema}\n        onSubmit={(values) => {\n          if (selectedTemplate._id) {\n            updateProjectTemplate({\n              organisation: props.user.organisation._id,\n              template: selectedTemplate._id,\n              data: {\n                name: values.name,\n                questions: values.questions\n              }\n            })\n          }\n          else {\n            createProjectTemplate({\n              organisation: props.user.organisation._id,\n              data: values\n            })\n          }\n        }}\n      >\n        {(formikProps) => (\n          <Form className=\"mt-6 px-6\">\n            <Field\n              name=\"name\"\n            >\n              {({ field, meta: { touched, error }, }: FieldProps) => (\n                <>\n                  <p className=\"text-sm px-1 font-bold flex justify-between mt-4\">\n                    <span>Template Name*</span>\n                    {touched && Boolean(error) && <span className=\"text-error font-normal\">Required*</span>}\n                  </p>\n                  <StyledInputBase\n                    {...field}\n                    placeholder=\"Enter template name\"\n                    fullWidth\n                    error={touched && Boolean(error)}\n                  />\n                </>\n              )}\n            </Field>\n            <p className=\"mb-1.5 mt-4 px-1 text-sm font-bold flex justify-between\">\n              <span>Questions</span>\n              <span className='text-error font-normal'>{formikProps.touched.questions && Boolean(formikProps.errors.questions) ? \"Add at least one question\" : \"\"}</span>\n            </p>\n            <div className={`p-4 border border-dashed ${formikProps.touched.questions && Boolean(formikProps.errors.questions) ? \"border-error\" : \" border-grey-1\"} rounded-xl`}>\n              {formikProps.values.questions.length ? formikProps.values.questions.map((question: IQuestion, index: number) => (\n                <div className=\"py-4 relative rounded-xl overflow-hidden group\">\n                  {question.answerType === ANSWER_TYPES.RADIO &&\n                    <div className=\"opacity-50\">\n                      <p className=\"text-sm font-bold mb-2\">{question.question}{question.required && '*'}</p>\n                      {question.options?.map((option, index) => (\n                        <div className=\"flex items-center text-sm py-1\">\n                          <RadioButtonUncheckedIcon fontSize=\"small\" />\n                          <span className=\"ml-2\">{option}</span>\n                        </div>\n                      ))}\n                    </div>\n                  }\n                  {question.answerType === ANSWER_TYPES.TEXT &&\n                    <div className=\"opacity-50\">\n                      <p className=\"text-sm font-bold mb-2\">{question.question}{question.required && '*'}</p>\n                      <div className=\"bg-bg border border-bg rounded-lg w-full h-10\"></div>\n                    </div>\n                  }\n                  <div className=\"absolute inset-0 z-10 flex items-center justify-end opacity-0 group-hover:opacity-100\" style={{ background: \"linear-gradient(90deg, rgba(19,19,24,0) 10%, rgb(19,19,24) 78%)\" }}>\n                    <div className=\"h-9 flex w-16 rounded-lg overflow-hidden bg-bg-dark text-sm font-semibold mr-4\">\n                      <div onClick={() => setDialogue({ open: true, data: question, questionIndex: index })} className=\"flex flex-1 items-center justify-center bg-bg-light text-accent font-semibold cursor-pointer\">\n                        <EditIcon fontSize=\"inherit\" />\n                        <span className=\"ml-1\">Edit</span>\n                      </div>\n                    </div>\n\n                  </div>\n                </div>\n              )) : null}\n              <div className=\"mt-2 mb-2 flex justify-between\">\n                <Button\n                  variant=\"text-accent\"\n                  size=\"regular\"\n                  type=\"button\"\n                  onClick={() => setDialogue({ open: true, data: initialQuestionData, questionIndex: undefined })}\n                >\n                  <span className=\"font-semibold text-sm\">Add question +</span>\n                </Button>\n              </div>\n            </div>\n            <div className=\"mt-6 mb-20 w-32\">\n              <Button\n                variant=\"fill-accent\"\n                size=\"regular\"\n                fullWidth\n                type=\"submit\"\n              // onClick={() => setDialogue({ open: true, data: initialQuestionData, questionIndex: undefined })}\n              >\n                {(updatingTemplate || creatingTemplate) ? <CircularProgress color=\"secondary\" size={20} thickness={5} /> : <strong>Save</strong>}\n              </Button>\n            </div>\n            <Dialog\n              open={dialogue.open}\n              onClose={handleDialogueClose}\n              scroll=\"paper\"\n              aria-labelledby=\"scroll-dialog-title\"\n              aria-describedby=\"scroll-dialog-description\"\n            >\n              <Formik\n                enableReinitialize\n                initialValues={dialogue.data}\n                validationSchema={questionsSchema}\n                onSubmit={(values, { setSubmitting }) => {\n                  const tempArray: IQuestion[] = [...formikProps.values.questions];\n                  if (typeof (dialogue.questionIndex) === 'number') {\n                    tempArray[dialogue.questionIndex] = values;\n                  }\n                  else {\n                    tempArray.push(values)\n                  }\n                  formikProps.setFieldValue('questions', tempArray);\n                  handleDialogueClose();\n                }}\n              >\n                {props => (\n                  <Form className=\"bg-bg-dark text-primary rounded-xl overflow-hidden\">\n                    <div className=\"bg-bg-light\" style={{ width: 520 }}>\n                      <div className=\"text-sm font-bold py-3 px-7 border-b border-bg-dark flex items-center justify-between\">\n                        <span>{typeof (dialogue.questionIndex) === 'number' ? 'Edit' : 'Add'} question</span>\n                        <IconButton onClick={handleDialogueClose} edge=\"end\" aria-label=\"options\" size=\"small\" color=\"secondary\">\n                          <CloseRoundedIcon style={{ fontSize: 16 }} />\n                        </IconButton>\n                      </div>\n                      <div className=\"p-6\">\n                        <div className=\"\">\n                          <Field name=\"question\">\n                            {({ field, meta: { touched, error }, }: FieldProps) => (\n                              <>\n                                <p className=\"text-xs px-1 font-semibold flex justify-between\">\n                                  <span>Question*</span>\n                                  {touched && Boolean(error) && <span className=\"text-error font-normal\">Required*</span>}\n                                </p>\n                                <StyledInputBase\n                                  {...field}\n                                  placeholder=\"Enter question\"\n                                  fullWidth\n                                  error={touched && Boolean(error)}\n                                />\n                              </>\n                            )}\n                          </Field>\n                          <div className=\"mt-4\" />\n                          <Field\n                            name=\"answerType\"\n                          >\n                            {({ field, meta: { touched, error }, }: FieldProps) => (\n                              <>\n                                <p className=\"text-xs px-1 font-semibold flex justify-between\">\n                                  <span>Select answer type</span>\n                                  {touched && Boolean(error) && <span className=\"text-error font-normal\">Required*</span>}\n                                </p>\n                                <Select\n                                  {...field}\n                                  fullWidth\n                                  input={<StyledInputBase />}\n                                  error={touched && Boolean(error)}\n                                >\n                                  <MenuItem value={ANSWER_TYPES.TEXT}>\n                                    Text\n                                  </MenuItem>\n                                  <MenuItem value={ANSWER_TYPES.RADIO}>\n                                    Radio options\n                                  </MenuItem>\n                                </Select>\n                              </>\n                            )}\n                          </Field>\n                          <div className=\"border border-grey-1 rounded-b-xl rounded-t-md py-4 px-3\" style={{ zIndex: -1 }}>\n                            <Collapse in={props.values.answerType === ANSWER_TYPES.RADIO}>\n                              <div className=\"pb-4 mb-4 border-b border-bg\">\n                                <p className=\"text-sm font-bold\">\n                                  Options\n                                </p>\n                                <FieldArray\n                                  name=\"options\"\n                                >\n                                  {({ push, remove, form }) => <>\n                                    {props.values.options?.map((option, index) => (\n                                      <Field key={index} name={`options[${index}]`}>\n                                        {({ field, meta: { touched, error }, }: FieldProps) => (\n                                          <div className=\"flex items-center\">\n                                            <StyledInputBase\n                                              {...field}\n                                              placeholder={`Option ${index + 1} ${(touched && Boolean(error)) ? 'required*' : ''}`}\n                                              fullWidth\n                                              error={touched && Boolean(error)}\n                                            />\n                                            <span className=\"px-1\" />\n                                            <IconButton onClick={() => remove(index)} color=\"secondary\" size=\"small\">\n                                              <ClearIcon fontSize=\"inherit\" />\n                                            </IconButton>\n                                          </div>\n                                        )}\n                                      </Field>\n                                    ))}\n                                    {typeof (form.errors.options) === \"string\" && <p className=\"text-sm text-error mt-2\">Add at least one option</p>}\n                                    <h4\n                                      className=\"text-sm text-accent font-semibold mt-2 cursor-pointer\"\n                                      onClick={() => push('')}\n                                    >\n                                      + Add option\n                                    </h4>\n                                  </>\n                                  }\n                                </FieldArray>\n                              </div>\n                            </Collapse>\n                            <div className=\"flex items-center\">\n                              <Field\n                                name=\"required\"\n                              >\n                                {({ field, form: { setTouched, touched }, meta }: FieldProps) => (\n                                  <StyledSwitch checked={field.value} {...field} />\n                                )}\n                              </Field>\n                              <h4 className=\"text-sm font-semibold ml-2\">Required</h4>\n                            </div>\n                            <Collapse in={props.values.required}>\n                              <Field name=\"errorMessage\">\n                                {({ field, meta: { touched, error }, }: FieldProps) => (\n                                  <>\n                                    <p className=\"text-xs px-1 font-semibold flex justify-between mt-4\">\n                                      <span>Error message*</span>\n                                      {touched && Boolean(error) && <span className=\"text-error font-normal\">Required*</span>}\n                                    </p>\n                                    <StyledInputBase\n                                      {...field}\n                                      placeholder=\"Enter the error message\"\n                                      fullWidth\n                                      error={touched && Boolean(error)}\n                                    />\n                                  </>\n                                )}\n                              </Field>\n                            </Collapse>\n                          </div>\n                        </div>\n                        <div className=\"mt-6 flex items-center\">\n                          <div className=\"flex flex-1\">\n                            {typeof (dialogue.questionIndex) === 'number' ? <Button\n                              variant=\"text-error\"\n                              size=\"regular\"\n                              type=\"button\"\n                              onClick={() => {\n                                const tempArray: IQuestion[] = [...formikProps.values.questions];\n                                if (typeof (dialogue.questionIndex) === 'number') {\n                                  tempArray.splice(dialogue.questionIndex, 1);\n                                }\n                                formikProps.setFieldValue('questions', tempArray);\n                                handleDialogueClose();\n                              }}\n                            >\n                              <DeleteRoundedIcon fontSize=\"inherit\" />\n                              <span className=\"font-semibold ml-1\">Delete</span>\n                            </Button> : null}\n                          </div>\n                          <Button\n                            variant=\"text-white\"\n                            size=\"regular\"\n                            type=\"button\"\n                            onClick={handleDialogueClose}\n                          >\n                            Cancel\n                          </Button>\n                          <span className=\"px-1\" />\n                          <Button\n                            variant=\"fill-accent\"\n                            size=\"regular\"\n                            type=\"submit\"\n                          >\n                            <strong>Done</strong>\n                          </Button>\n                        </div>\n                      </div>\n                    </div>\n                  </Form>\n                )}\n              </Formik>\n            </Dialog>\n          </Form>\n        )}\n      </Formik>}\n    </div>\n  );\n};\n\nexport default ProjectQuestions;\n\n","import React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport GroupRoundedIcon from '@material-ui/icons/GroupRounded';\nimport AssignmentIcon from '@material-ui/icons/Assignment';\nimport PaymentIcon from '@material-ui/icons/Payment';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport IconButton from '@material-ui/core/IconButton';\nimport Button from 'src/components/button/text.button';\nimport { useSelector } from 'react-redux';\nimport { IState } from 'src/store/config';\nimport ManageTeam from './team';\nimport BasicSettings from './basic';\nimport ProjectQuestions from './project-questions';\nimport { UserRole } from 'src/store/auth/type';\nimport { IOrganisationType } from 'src/store/organisation/type';\nimport AuthComponent from 'src/components/auth/auth.component';\n\ninterface IProps {\n  handleClose: () => void\n}\nconst orgSettingsItems = [{\n  type: \"BASIC\",\n  name: \"Basic\",\n  title: \"Basic settings\",\n  icon: <SettingsIcon fontSize=\"small\" color=\"primary\" />,\n  alloweRoles: [UserRole.ADMIN]\n},\n{\n  type: \"TEAM\",\n  name: \"Team\",\n  title: \"Manage your team\",\n  icon: <GroupRoundedIcon fontSize=\"small\" color=\"primary\" />,\n  alloweRoles: [UserRole.ADMIN, UserRole.PROJECT_MANAGER]\n},\n{\n  type: \"PROJECT_FORM\",\n  name: \"Project Templates\",\n  title: \"Manage Project templates\",\n  icon: <AssignmentIcon fontSize=\"small\" color=\"primary\" />,\n  alloweRoles: [UserRole.ADMIN],\n  organisationType: IOrganisationType.EDITING\n}]\n\nconst OrganisationSetting: React.FC<IProps> = ({ handleClose }) => {\n  let history = useNavigate();\n  const { user } = useSelector((state: IState) => state.authReducer);\n  const [activeSetting, setActiveSetting] = useState<number>(user?.role === UserRole.ADMIN ? 0 : 1);\n\n  return (\n    <div className=\"fixed inset-0 z-10 flex justify-center\">\n      <div role=\"button\" onClick={() => handleClose()} className=\"fixed inset-0 -z-1 bg-bg-dark opacity-90\"></div>\n      <div className=\"my-10 mx-auto rounded-xl overflow-hidden z-15 bg-bg-dark\" style={{ width: 1000 }}>\n        <div className=\"p-6 bg-bg flex relative h-full w-full\" >\n          <div className=\"absolute inset-y-0 left-0 w-72 border-r border-bg-dark p-6\">\n            <div className=\"flex items-center pb-5\">\n              <IconButton onClick={() => handleClose()} aria-label=\"delete\" size=\"small\" color=\"secondary\">\n                <ArrowBackIcon style={{ fontSize: 22 }} />\n              </IconButton>\n              <span className=\"ml-2 text-sm font-bold\">Organisation Setup</span>\n            </div>\n            <div className=\"flex bg-bg rounded-md\">\n              <div className=\"flex items-center pl-2 py-2\">\n                <div className=\"w-12 h-12 rounded-md bg-bg overflow-hidden\">\n                  {user?.organisation.picture ?\n                    <img src={user.organisation.picture} className=\"h-full w-full object-contain\" /> :\n                    <div className=\"h-full w-full flex items-center justify-center text-base font-bold\">\n                      <span>{user?.organisation.name.slice(0, 2)}</span>\n                    </div>\n                  }\n                </div>\n              </div>\n              <div className=\"flex flex-1 items-center pl-3 pr-1 py-4\">\n                <span className=\"text-sm font-semibold\">{user?.organisation.name}</span>\n              </div>\n            </div>\n            <div className=\"mt-8\"></div>\n            {orgSettingsItems.map((item, index) =>\n              <AuthComponent allowedRoles={item.alloweRoles} organisationType={item.organisationType}>\n                <div\n                  onClick={() => {\n                    if (index !== activeSetting) {\n                      setActiveSetting(index)\n                    }\n                  }}\n                  key={index}\n                  className={`group flex items-start ${activeSetting === index && 'bg-bg'}  -mx-3 px-4 rounded-md py-3 cursor-pointer hover:bg-bg-light`}\n                >\n                  {item.icon}\n                  <div className=\"flex flex-1 text-sm font-semibold items-center ml-2\">{item.name}</div>\n                </div>\n              </AuthComponent>\n            )}\n          </div>\n          <div className=\"absolute inset-y-0 left-72 right-0\">\n            <div className=\"absolute inset-x-0 flex justify-between items-center border-b border-bg-dark h-16 px-6\">\n              <p className=\"text-base font-bold\">{orgSettingsItems[activeSetting].title}</p>\n            </div>\n            {user && <div className=\"absolute inset-0 top-16 overflow-y-auto\">\n              {activeSetting === 0 && <BasicSettings user={user} />}\n              {activeSetting === 1 && <ManageTeam />}\n              {activeSetting === 2 && <ProjectQuestions user={user} />}\n            </div>}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default OrganisationSetting;\n","import React, { useState, MouseEvent, useCallback } from 'react';\nimport NotificationsRoundedIcon from '@material-ui/icons/NotificationsRounded';\nimport PersonRoundedIcon from '@material-ui/icons/PersonRounded';\nimport ExitToAppRoundedIcon from '@material-ui/icons/ExitToAppRounded';\nimport CloseRoundedIcon from '@material-ui/icons/CloseRounded';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport IconButton from '@material-ui/core/IconButton';\nimport Popover from '@material-ui/core/Popover';\nimport { v4 as uuidv4 } from 'uuid';\nimport * as Yup from 'yup';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { authSignOutAction, updateUserAction } from 'src/store/auth/action';\nimport { useNavigate } from 'react-router-dom';\nimport { IState } from 'src/store/config';\nimport Dialog from '@material-ui/core/Dialog';\nimport { Field, FieldProps, Form, Formik } from 'formik';\nimport Button from '../button/text.button';\nimport { useMutation } from 'src/utils/axios-hooks';\nimport { useDropzone } from 'react-dropzone';\nimport { StyledInputBase } from '../input';\nimport userAPI from \"src/apis/user\"\nimport { UserRole } from 'src/store/auth/type';\nimport OrganisationSetting from './organisation-settings';\n\ninterface IProps {\n}\n\nconst AppHeader: React.FC<IProps> = (props) => {\n  const dispatch = useDispatch();\n  const { user } = useSelector((state: IState) => state.authReducer);\n  const [popoverState, setPopoverState] = useState<{ anchorEl: any, name: string | null }>({ anchorEl: null, name: null });\n  const [dialogOpen, setDialogOpen] = useState<boolean>(false);\n  const { _e_ } = useSelector((state: IState) => state.authReducer);\n  const [imageKey, setImageKey] = useState<string>('');\n  const [loading, setLoading] = useState<boolean>(false);\n  const [orgSettingOpen, setOrgSettingOpen] = useState<boolean>(false);\n\n  const { mutate: updateUser } = useMutation<any, any>(userAPI.updateUser, {\n    onSuccess: ({ data }, variables) => {\n      setLoading(false);\n      dispatch(updateUserAction({\n        user: {\n          ...data.user,\n          organisation: user?.organisation\n        }\n      }));\n      setImageKey('');\n    }\n  });\n\n  const onDrop = useCallback((files: File[]) => {\n    if (_e_) {\n      setLoading(true);\n      const filePromises = [];\n      if (files) {\n        for (var i = 0; i < files.length; i++) {\n          const name = files[i].name;\n          const lastDot = name.lastIndexOf('.');\n          const ext = name.substring(lastDot + 1);\n          const file = `${uuidv4()}.${ext}`;\n          const promise = _e_\n            .add({\n              name: file,\n              file: files[i],\n              started: function (fileKey) {\n                setImageKey(fileKey);\n              },\n              complete: () => {\n                updateUser({\n                  user: user?._id,\n                  data: {\n                    firstName: user?.firstName,\n                    lastName: user?.lastName,\n                    picture: file\n                  }\n                });\n                setImageKey(file);\n              }\n            });\n          filePromises.push(promise);\n        }\n        Promise.all(filePromises).catch((err) => console.log(err));\n      }\n    }\n  }, [])\n\n  const { getRootProps, getInputProps } = useDropzone({ onDrop, accept: 'image/*' });\n\n  const handleClick = (e: any, name: string) => {\n    setPopoverState({ anchorEl: e.currentTarget, name });\n  };\n  const handleClose = () => {\n    setPopoverState({ anchorEl: null, name: popoverState.name });\n  };\n  const open = Boolean(popoverState.anchorEl);\n\n  const schema = Yup.object().shape({\n    firstName: Yup.string().required(),\n    lastName: Yup.string().required(),\n  });\n\n  if (!user) {\n    return null\n  }\n\n  return (\n    <div className=\"flex justify-end items-center text-sm\">\n      {orgSettingOpen && <OrganisationSetting handleClose={() => setOrgSettingOpen(false)} />}\n      <Popover\n        id={\"APP_HEADER_POPOVER\"}\n        open={open}\n        anchorEl={popoverState.anchorEl}\n        onClose={handleClose}\n        elevation={8}\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'right',\n        }}\n        transformOrigin={{\n          vertical: 'top',\n          horizontal: 'center',\n        }}\n      >\n        <div className=\"bg-bg-dark text-primary rounded-xl overflow-hidden\">\n          <div className=\"bg-bg-light\">\n            <div className=\"bg-bg-light w-40\">\n              <div\n                onClick={() => {\n                  handleClose();\n                  setDialogOpen(true)\n                }}\n                className=\"py-3 px-4 border-b border-bg-dark text-sm cursor-pointer hover:bg-bg flex items-center\"\n              >\n                <PersonRoundedIcon fontSize=\"inherit\" />\n                <span className=\"ml-1\">Profile</span>\n              </div>\n              <div onClick={() => dispatch(authSignOutAction())} className=\"py-3 px-4 text-sm cursor-pointer hover:bg-bg flex items-center\">\n                <ExitToAppRoundedIcon fontSize=\"inherit\" />\n                <span className=\"ml-1\">Log out</span>\n              </div>\n            </div>\n          </div>\n\n        </div>\n      </Popover>\n      <Dialog\n        open={dialogOpen}\n        onClose={() => setDialogOpen(false)}\n        scroll=\"paper\"\n        aria-labelledby=\"scroll-dialog-title\"\n        aria-describedby=\"scroll-dialog-description\"\n      >\n        <Formik\n          enableReinitialize\n          initialValues={{ firstName: user.firstName, lastName: user.lastName, picture: \"\" }}\n          validationSchema={schema}\n          onSubmit={(values) => {\n            updateUser({\n              user: user?._id,\n              data: {\n                firstName: values.firstName,\n                lastName: values.lastName,\n                picture: imageKey\n              }\n            });\n          }}\n        >\n          {() => (\n            <Form className=\"bg-bg-dark text-primary rounded-lg overflow-hidden\">\n              <div className=\"bg-bg-light\" style={{ width: 500 }}>\n                <div className=\"text-base font-bold py-5 px-11 border-b border-bg-dark flex items-center justify-between\">\n                  <span>Update Profile</span>\n                  <IconButton onClick={() => setDialogOpen(false)} edge=\"end\" aria-label=\"options\" size=\"small\" color=\"secondary\">\n                    <CloseRoundedIcon style={{ fontSize: 16 }} />\n                  </IconButton>\n                </div>\n                <div className=\"p-10\">\n                  <div className=\"w-32 text-center\">\n                    <div className=\"w-32 h-32 border-2 border-dashed border-bg rounded-xl\">\n                      {loading ?\n                        <div className=\"h-32 border-2 border-dashed border-grey-1 rounded-xl m-4 cursor-pointer flex items-center justify-center flex-col\">\n                          <CircularProgress color=\"secondary\" size={20} thickness={5} />\n                        </div>\n                        : <div><img src={user.picture} className=\"h-full w-full object-cover\" /></div>}\n                    </div>\n                    <Button type=\"button\" variant=\"text-accent\" size=\"medium\" fullWidth>\n                      <div {...getRootProps()}>\n                        <input {...getInputProps()} />\n                        <p className=\"text-sm font-semibold\">Upload Image</p>\n                      </div>\n                    </Button>\n                  </div>\n                  <div className=\"flex mt-2\">\n                    <Field name=\"firstName\">\n                      {({ field, meta: { touched, error }, }: FieldProps) => (\n                        <StyledInputBase\n                          {...field}\n                          placeholder=\"First Name\"\n                          fullWidth\n                          error={touched && Boolean(error)}\n                        />\n                      )}\n                    </Field>\n                    <span className=\"px-1\"></span>\n                    <Field name=\"lastName\">\n                      {({ field, meta: { touched, error }, }: FieldProps) => (\n                        <StyledInputBase\n                          {...field}\n                          placeholder=\"Last Name\"\n                          fullWidth\n                          error={touched && Boolean(error)}\n                        />\n                      )}\n                    </Field>\n                  </div>\n                  <div className=\"mt-8 w-32\">\n                    <Button type=\"submit\" size=\"regular\" variant=\"fill-accent\" fullWidth>\n                      <span className=\"font-semibold\">Save</span>\n                    </Button>\n                  </div>\n                </div>\n              </div>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n      <div onClick={[UserRole.ADMIN, UserRole.PROJECT_MANAGER].includes(user.role as UserRole) ? () => setOrgSettingOpen(true) : undefined} className={`flex items-center rounded-lg pr-3 ${[UserRole.ADMIN, UserRole.PROJECT_MANAGER].includes(user.role as UserRole) ? \"cursor-pointer hover:bg-bg\" : \"\"} `}>\n        <div className=\"w-8 h-8 rounded-lg bg-bg overflow-hidden\">\n          {user.organisation.picture ?\n            <img src={user.organisation.picture} className=\"h-full w-full object-contain\" /> :\n            <div className=\"h-full w-full flex items-center justify-center text-base font-bold\">\n              <span>{user.organisation.name.slice(0, 2)}</span>\n            </div>\n          }\n        </div>\n        <p className=\"text-sm font-semibold ml-2\">{user?.organisation.name}</p>\n      </div>\n      <div className=\"h-8 w-8 rounded-full flex justify-center items-center bg-grey-1 ml-8\">\n        <IconButton aria-label=\"delete\" size=\"small\" color=\"secondary\">\n          <NotificationsRoundedIcon fontSize=\"inherit\" />\n        </IconButton>\n      </div>\n      <div onClick={(e) => handleClick(e, \"ACCOUNT\")} className=\"h-8 w-8 rounded-full flex justify-center items-center bg-grey-1 ml-2 overflow-hidden cursor-pointer\">\n        <div className=\"w-8 h-8\">\n          {user.picture ?\n            <img src={user.picture} className=\"h-full w-full object-cover\" /> :\n            <div className=\"h-full w-full flex items-center justify-center text-xs font-bold\">\n              <span>{user.firstName[0]}{user.lastName[0]}</span>\n            </div>\n          }\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AppHeader;\n","import React, { useState } from 'react';\nimport { useEffect } from 'react';\nimport Comments from './comments';\nimport VideoJS from './videojs';\nimport AppHeader from 'src/components/header';\nimport { useLocation, useParams, useSearchParams } from 'react-router-dom';\nimport { useQuery } from 'src/utils/axios-hooks';\nimport projectAPI from 'src/apis/project';\nimport { IVideo } from 'src/store/player/type';\nimport { IProjectTask } from 'src/store/organisation/type';\nimport CircularProgress from '@material-ui/core/CircularProgress/CircularProgress';\n\nconst PlayerPage: React.FC = () => {\n  const { videoId } = useParams<{ videoId: string }>();\n  const [projectTask, setProjectTask] = useState<IProjectTask>();\n  const [searchParams] = useSearchParams();\n  const [queryParams] = useState({\n    organisation: searchParams.get('org'),\n    project: searchParams.get('project'),\n    task: searchParams.get('task')\n  });\n\n  // canvas dimetions in \"rem\"\n  const [canvasDimensions, setCanvasDimentions] = useState<number[]>([0, 0]);\n  const updateCanvasDimentions = () => {\n    const width = (window.innerWidth / 16) - (25 + 3);\n    const height = (window.innerHeight / 16) - (6 + 1.5 + 5 + 3);\n    let finalWidth = width;\n    let finalHeight = width * 9 / 16;\n    if (finalHeight > height) {\n      finalWidth = height * 16 / 9;\n      finalHeight = height\n    }\n    setCanvasDimentions([finalWidth, finalHeight]);\n  }\n  const [selectedVideo, setSelectedVideo] = useState<IVideo | undefined>();\n\n  const { query: getProjectTask } = useQuery<any, any>(projectAPI.getProjectTask, {\n    onSuccess: (res) => {\n      const { projectTask } = res.data;\n      const video = projectTask.videos.find((v: IVideo) => v._id === videoId);\n      if (video) {\n        setSelectedVideo(video);\n      }\n      setProjectTask(projectTask);\n    }\n  });\n\n  useEffect(() => {\n    updateCanvasDimentions();\n    window.addEventListener(\"resize\", updateCanvasDimentions);\n    return () => window.removeEventListener(\"resize\", updateCanvasDimentions);\n  }, []);\n\n  useEffect(() => {\n    if (queryParams.organisation && queryParams.project && queryParams.task) {\n\n      getProjectTask({\n        organisation: queryParams.organisation,\n        project: queryParams.project,\n        task: queryParams.task\n      });\n    }\n  }, [queryParams]);\n\n  if (!queryParams.organisation || !projectTask || !videoId) {\n    return (\n      <div className=\"absolute inset-x-0 h-12 top-0 flex items-end mx-6\">\n        <div className=\"flex flex-1 items-center\">\n          <CircularProgress color=\"secondary\" size={20} thickness={5} />\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <>\n      {\n        selectedVideo && (\n          <div className=\"absolute inset-0 bg-bg-dark\">\n            <div className=\"absolute inset-x-0 top-0 h-12 flex\">\n              <div className=\"flex flex-1 items-center pl-4\">\n              </div>\n              <div style={{ width: \"25rem\" }} className=\"flex justify-end items-center pr-4 text-sm border-b border-l border-bg-dark bg-bg\">\n                <AppHeader />\n              </div>\n            </div>\n            <div className=\"absolute top-12 inset-x-0 bottom-0 flex\">\n              {/* video */}\n              <div className=\"flex flex-1 flex-col\">\n                <VideoJS dimentions={canvasDimensions} video={selectedVideo} organisation={queryParams.organisation} projectTask={projectTask} />\n              </div>\n              {/* comments */}\n              <div style={{ width: \"25rem\" }} className=\"bg-bg border-l border-bg-dark overflow-y-scroll\">\n                <Comments videoId={videoId} />\n              </div>\n            </div>\n          </div>\n        )\n      }\n    </>\n  );\n};\n\nexport default PlayerPage;\n","import React from 'react';\nimport CloseRoundedIcon from '@material-ui/icons/CloseRounded';\nimport Button from \"src/components/button/text.button\";\nimport IconButton from '@material-ui/core/IconButton';\nimport Dialog from '@material-ui/core/Dialog';\nimport * as Yup from 'yup';\nimport { Field, FieldProps, Form, Formik } from 'formik';\nimport { StyledInputBase } from 'src/components/input';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useMutation } from 'src/utils/axios-hooks';\nimport orgAPI from 'src/apis/organisation'\nimport { addOrganisationAction } from 'src/store/organisation/action';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { useNavigate } from 'react-router-dom';\n\ninterface IProps {\n  open: boolean;\n  setOpen: (open: boolean) => void;\n}\n\nconst AddOrganisationDialog: React.FC<IProps> = (props) => {\n  const navigate = useNavigate()\n  const dispatch = useDispatch();\n\n  const { mutate: createOrganisation, loading: orgCreating } = useMutation(orgAPI.createOrganisation, {\n    onSuccess: (res) => {\n      dispatch(addOrganisationAction({ organisation: { ...res.data.organisation, projects: [] } }));\n      handleDialogueClose();\n      navigate(`/org/${res.data.organisation._id}`)\n    }\n  });\n\n  const handleDialogueClose = () => {\n    props.setOpen(false)\n  };\n\n  const createOrganisationSchema = Yup.object().shape({\n    organisationName: Yup.string().required(),\n    userEmail: Yup.string().email().required(),\n    userFirstName: Yup.string().required(),\n    userLastName: Yup.string().required(),\n  });\n\n  return (\n    <Dialog\n      open={props.open}\n      onClose={handleDialogueClose}\n      scroll=\"paper\"\n      aria-labelledby=\"scroll-dialog-title\"\n      aria-describedby=\"scroll-dialog-description\"\n    >\n      <Formik\n        enableReinitialize\n        initialValues={{\n          organisationName: \"\",\n          userEmail: \"\",\n          userFirstName: \"\",\n          userLastName: \"\"\n        }}\n        validationSchema={createOrganisationSchema}\n        onSubmit={(values) => {\n          createOrganisation(values)\n        }}\n      >\n        {(formikProps) => (\n          <Form className=\"bg-bg-dark text-primary rounded-xl overflow-hidden\">\n            <div className=\"bg-bg-light w-96\">\n              <div className=\"text-base font-bold py-3 px-7 border-b border-bg-dark flex items-center justify-between\">\n                <span>Add Client</span>\n                <IconButton onClick={handleDialogueClose} edge=\"end\" aria-label=\"options\" size=\"small\" color=\"secondary\">\n                  <CloseRoundedIcon style={{ fontSize: 16 }} />\n                </IconButton>\n              </div>\n              <div className=\"p-6\">\n                <Field name=\"organisationName\">\n                  {({ field, meta: { touched, error }, }: FieldProps) => (\n                    <>\n                      <p className=\"text-sm px-1 font-semibold flex justify-between\">\n                        <span>Company</span>\n                        {touched && Boolean(error) && <span className=\"text-error font-normal\">Required*</span>}\n                      </p>\n                      <StyledInputBase\n                        {...field}\n                        placeholder=\"Enter Project name here\"\n                        fullWidth\n                        error={touched && Boolean(error)}\n                      />\n                    </>\n                  )}\n                </Field>\n                <div className=\"mt-6\"></div>\n                <Field name=\"userEmail\">\n                  {({ field, meta: { touched, error }, }: FieldProps) => (\n                    <>\n                      <p className=\"text-sm font-semibold px-1 flex justify-between\">\n                        <span>Email</span>\n                        {touched && Boolean(error) && <span className=\"text-error font-normal\">Required*</span>}\n                      </p>\n                      <StyledInputBase\n                        {...field}\n                        placeholder=\"Enter your email here\"\n                        fullWidth\n                        error={touched && Boolean(error)}\n                      />\n                    </>\n                  )}\n                </Field>\n                <div className=\"mt-6\"></div>\n                <p className=\"text-sm font-semibold px-1 flex justify-between\">\n                  <span>Contact Person</span>\n                  {(\n                    (formikProps.touched.userFirstName && Boolean(formikProps.errors.userFirstName)) ||\n                    (formikProps.touched.userLastName && Boolean(formikProps.errors.userLastName))\n                  ) && <span className=\"text-error font-normal\">Required*</span>}\n                </p>\n                <div className=\"flex\">\n                  <Field name=\"userFirstName\">\n                    {({ field, meta: { touched, error }, }: FieldProps) => (\n                      <StyledInputBase\n                        {...field}\n                        placeholder=\"First Name\"\n                        fullWidth\n                        error={touched && Boolean(error)}\n                      />\n                    )}\n                  </Field>\n                  <span className=\"px-1\"></span>\n                  <Field name=\"userLastName\">\n                    {({ field, meta: { touched, error }, }: FieldProps) => (\n                      <StyledInputBase\n                        {...field}\n                        placeholder=\"Last Name\"\n                        fullWidth\n                        error={touched && Boolean(error)}\n                      />\n                    )}\n                  </Field>\n                </div>\n                <div className=\"pt-8\">\n                  <Button type=\"submit\" size=\"large\" variant=\"fill-accent\" fullWidth >\n                    {orgCreating ? <CircularProgress color=\"secondary\" size={20} thickness={5} /> : <strong className=\"text-sm\">Add &#8594;</strong>}\n                  </Button>\n                </div>\n              </div>\n            </div>\n          </Form>\n        )}\n      </Formik>\n    </Dialog >\n  )\n};\n\nexport default AddOrganisationDialog;\n","import {\n  OrganisationActionTypes,\n  IOrganisation,\n  SET_ORGANISATIONS,\n  ADD_ORGANISATION,\n  SET_SELECTED_ORGANISATION,\n  IProject,\n  SET_PROJECTS,\n  ADD_PROJECT,\n  SET_SELECTED_PROJECT,\n  ADD_VIDEO_TO_PROJECT,\n  UPDATE_PROJECT,\n  UPDATE_ORGANISATION,\n  ISelectedProject\n} from './type';\n\nexport function setOrganisationsAction(payload: { organisations: IOrganisation[] }): OrganisationActionTypes {\n  return {\n    type: SET_ORGANISATIONS,\n    payload\n  }\n}\nexport function addOrganisationAction(payload: { organisation: IOrganisation }): OrganisationActionTypes {\n  return {\n    type: ADD_ORGANISATION,\n    payload\n  }\n}\nexport function setSelectedOrganisationAction(payload: { index: number, data: IOrganisation, _id: string }): OrganisationActionTypes {\n  return {\n    type: SET_SELECTED_ORGANISATION,\n    payload\n  }\n}\n\nexport function setProjectsAction(payload: { organisationIndex: number, projects: IProject[] }): OrganisationActionTypes {\n  return {\n    type: SET_PROJECTS,\n    payload\n  }\n}\nexport function addProjectAction(payload: { organisationIndex: number, project: IProject }): OrganisationActionTypes {\n  return {\n    type: ADD_PROJECT,\n    payload\n  }\n}\nexport function setSelectedProjectAction(payload: { organisationIndex: number, selectedProject: ISelectedProject }): OrganisationActionTypes {\n  return {\n    type: SET_SELECTED_PROJECT,\n    payload\n  }\n}\n\nexport function updateProjectAction(payload: { project: IProject }): OrganisationActionTypes {\n  return {\n    type: UPDATE_PROJECT,\n    payload\n  }\n}\n\nexport function updateOrganisationAction(payload: { organisation: IOrganisation }): OrganisationActionTypes {\n  return {\n    type: UPDATE_ORGANISATION,\n    payload\n  }\n}\n\nexport function addVideoToProjectAction(payload: any): OrganisationActionTypes {\n  return {\n    type: ADD_VIDEO_TO_PROJECT,\n    payload\n  }\n}","import React, { useEffect, useState } from 'react';\nimport AddIcon from '@material-ui/icons/Add';\nimport IconButton from '@material-ui/core/IconButton';\nimport AddOrganisationDialog from './dialogs/add-organisation-dialogue';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setOrganisationsAction, setSelectedOrganisationAction } from 'src/store/organisation/action';\nimport { useQuery } from 'src/utils/axios-hooks';\nimport organisationAPI from \"src/apis/organisation\";\nimport { IState } from 'src/store/config';\nimport { IOrganisation } from 'src/store/organisation/type';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport AuthComponent from 'src/components/auth/auth.component';\nimport { UserRole } from 'src/store/auth/type';\nimport { useNavigate, useLocation, useParams } from 'react-router-dom';\n\nconst SideBar: React.FC = () => {\n  const navigate = useNavigate();\n\n  const { organisations } = useSelector((state: IState) => state.organisationReducer);\n  const [addOrgDialog, setAddOrgDialog] = useState<boolean>(false);\n  const dispatch = useDispatch();\n  const colors = [\"#003c66\", \"#443b7d\", \"#42133a\", \"#840032\", \"#b54b19\", \"#e59500\", \"#534f54\", \"#02040f\"];\n  const { orgId: selectedOrgId } = useParams<{ orgId: string }>();\n\n  const { query: getOrganisations, loading: orgsLoading } = useQuery(organisationAPI.getOrganisations, {\n    onSuccess: (res) => {\n      const organisations: IOrganisation[] = res.data.organisations || []\n      dispatch(setOrganisationsAction({\n        organisations: organisations.map((org: IOrganisation, idx: number) => {\n          return {\n            ...org,\n            projects: []\n          }\n        })\n      }));\n      if (organisations.length && !selectedOrgId) {\n        navigate(`/org/${organisations[0]._id}`)\n      }\n    }\n  });\n\n  useEffect(() => {\n    getOrganisations()\n  }, [dispatch]);\n\n  return (\n    <div className=\"absolute inset-y-0 left-0 w-16 bg-bg-dark border-r-2 border-bg-dark py-4 flex flex-col items-center\">\n      <AddOrganisationDialog open={addOrgDialog} setOpen={setAddOrgDialog} />\n      {organisations.map((organisation, index) => (\n        <div key={index} className=\"w-full flex justify-center mb-3 relative\">\n          <div className={`absolute inset-y-2 -left-1 w-1 rounded-r-full bg-white transform transition-transform ${selectedOrgId === organisation._id && \"translate-x-1\"}`}></div>\n          <div\n            key={index}\n            className=\"w-10 h-10 rounded-xl bg-bg-light overflow-hidden cursor-pointer transform transition-transform hover:scale-110\"\n            role=\"button\"\n            onClick={selectedOrgId !== organisation._id ? () => {\n              navigate(`/org/${organisation._id}`)\n            } : undefined}\n            style={{ backgroundColor: colors[index % 7] }}\n          >\n            {organisation.picture ?\n              <img src={organisation.picture} className=\"h-full w-full object-contain\" /> :\n              <div className=\"h-full w-full flex items-center justify-center text-base font-bold\">\n                <span>{organisation.name.slice(0, 2)}</span>\n              </div>\n            }\n          </div>\n        </div>\n\n      ))}\n      <AuthComponent allowedRoles={[UserRole.ADMIN]}>\n        <div className=\"w-12 h-12 rounded-full bg-bg mb-4 overflow-hidden cursor-pointer flex justify-center items-center\">\n          <IconButton onClick={() => setAddOrgDialog(true)} aria-label=\"delete\" size=\"small\" color=\"secondary\">\n            {orgsLoading ? <CircularProgress color=\"secondary\" size={20} thickness={5} /> : <AddIcon style={{ fontSize: 30, color: \"var(--grey-2)\" }} />}\n          </IconButton>\n        </div>\n      </AuthComponent>\n    </div>\n  );\n};\n\nexport default SideBar;\n","import React, { useEffect, useState } from 'react';\nimport CloseRoundedIcon from '@material-ui/icons/CloseRounded';\nimport RadioButtonUncheckedIcon from '@material-ui/icons/RadioButtonUnchecked';\nimport RadioButtonCheckedIcon from '@material-ui/icons/RadioButtonChecked';\nimport Button from \"src/components/button/text.button\";\nimport IconButton from '@material-ui/core/IconButton';\nimport Dialog from '@material-ui/core/Dialog';\nimport * as Yup from 'yup';\nimport { Field, FieldProps, Form, Formik } from 'formik';\nimport { StyledInputBase } from 'src/components/input';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useMutation, useQuery } from 'src/utils/axios-hooks';\nimport projectAPI from 'src/apis/project'\nimport { addProjectAction } from 'src/store/organisation/action';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { ANSWER_TYPES, IOrganisation, IOrganisationType, IProject, IProjectTemplate, IQuestion, IQuestionInput, ISelectedOrganisation } from 'src/store/organisation/type';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Radio from '@material-ui/core/Radio';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport organisationAPI from 'src/apis/organisation';\nimport { IState } from 'src/store/config';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { useNavigate } from 'react-router';\nimport AuthComponent from 'src/components/auth/auth.component';\nimport { UserRole } from 'src/store/auth/type';\n\ninterface IProps {\n  open: boolean;\n  setOpen: (open: boolean) => void;\n  onAddProject: (project: IProject) => void;\n  selectedOrganisation: IOrganisation\n}\n\nconst testQuestions: IQuestion[] = [{\n  question: \"Project name\",\n  answerType: ANSWER_TYPES.TEXT,\n  required: true,\n  expectedAnswer: '',\n  options: [''],\n  errorMessage: 'Required'\n},\n{\n  question: \"Highlight Film\",\n  answerType: ANSWER_TYPES.RADIO,\n  required: true,\n  expectedAnswer: '',\n  options: ['I do not need a highlight', 'Up to 5 minutes', '5 to 7 minutes', '7 to 9 minutes'],\n  errorMessage: 'Required'\n},\n{\n  question: \"Studio Name\",\n  answerType: ANSWER_TYPES.TEXT,\n  required: true,\n  expectedAnswer: '',\n  options: [''],\n  errorMessage: 'Required'\n},\n{\n  question: \"Some random question\",\n  answerType: ANSWER_TYPES.TEXT,\n  required: true,\n  expectedAnswer: '',\n  options: [''],\n  errorMessage: 'Required'\n},\n{\n  question: \"Project name\",\n  answerType: ANSWER_TYPES.TEXT,\n  required: true,\n  expectedAnswer: '',\n  options: [''],\n  errorMessage: 'Required'\n},\n]\n\nconst CreateProjectDialog: React.FC<IProps> = (props) => {\n  const navigate = useNavigate()\n  const dispatch = useDispatch();\n  const { user } = useSelector((state: IState) => state.authReducer);\n  const [templates, setTemplates] = useState<IProjectTemplate[]>([]);\n  const [selectedTemplate, setSelectedTemplate] = useState<IProjectTemplate | undefined>();\n\n  const { mutate: createProject, loading: projectCreating } = useMutation<any, any>(projectAPI.createProject, {\n    onSuccess: (res) => {\n      props.onAddProject(res.data.project);\n      handleDialogueClose();\n    }\n  });\n\n  const { query: getProjectTemplates, loading: templatesLoading } = useQuery<any, any>(organisationAPI.getProjectTemplates, {\n    onSuccess: ({ data }) => {\n      setTemplates(data.projectTemplates)\n      // data.projectTemplates.length && setSelectedTemplate(data.projectTemplates[0])\n    }\n  });\n\n\n  useEffect(() => {\n    if (props.open && user) {\n      getProjectTemplates({\n        organisation: props.selectedOrganisation._id\n      })\n    }\n  }, [props.open])\n\n  const getFormattedQuestions = (questions: IQuestion[]) => {\n    let _questions: IQuestionInput[] = [];\n    questions.forEach((question, index) => {\n      _questions.push({\n        question: question.question,\n        answerType: question.answerType,\n        answer: \"\"\n      })\n    })\n    return _questions\n  }\n\n  const handleDialogueClose = () => {\n    setSelectedTemplate(undefined)\n    props.setOpen(false)\n  };\n\n  const createProjectSchema = Yup.object().shape({\n    name: Yup.string().required(),\n    template: Yup.string().required()\n  });\n\n  const validateAnswer = (value: any, required: boolean, expected?: string) => {\n    let error;\n    if (required) {\n      if (expected === \"TRUE\" && !value) {\n        error = \"Error\"\n      }\n      if (expected === \"FALSE\" && value) {\n        error = \"Error\"\n      }\n      if (expected === \"TEXT\" && !value) {\n        error = \"Error\"\n      }\n      if (expected === \"YES\" && value !== \"YES\") {\n        error = \"Error\"\n      }\n      if (expected === \"NO\" && value !== \"NO\") {\n        error = \"Error\"\n      }\n    }\n    return error;\n  }\n\n  return (\n    <Dialog\n      open={props.open}\n      onClose={handleDialogueClose}\n      scroll=\"body\"\n      aria-labelledby=\"scroll-dialog-title\"\n      aria-describedby=\"scroll-dialog-description\"\n    >\n\n      <div className=\"bg-bg-dark text-primary rounded-xl overflow-hidden\">\n        <div className=\"bg-bg-light\" style={{ width: 560 }}>\n          <DialogTitle className=\"text-base font-bold border-b border-bg-dark\" style={{ padding: \"0.75rem 1.75rem\" }}>\n            <span className=\"flex justify-between\">\n              <span>New project</span>\n              <IconButton onClick={handleDialogueClose} edge=\"end\" aria-label=\"options\" size=\"small\" color=\"secondary\">\n                <CloseRoundedIcon style={{ fontSize: 16 }} />\n              </IconButton>\n            </span>\n          </DialogTitle>\n          {(templatesLoading) ?\n            <div className=\"pl-3 mt-2 h-20 flex items-center justify-center\">\n              <CircularProgress color=\"secondary\" size={20} thickness={5} />\n            </div>\n            :\n            <Formik\n              initialValues={{ name: \"\", template: selectedTemplate?._id, questions: getFormattedQuestions(selectedTemplate?.questions || []) }}\n              validationSchema={createProjectSchema}\n              onSubmit={(values) => {\n                createProject({\n                  organisation: props.selectedOrganisation._id,\n                  data: values\n                })\n              }}\n            >\n              {(formikProps) => (\n                <Form>\n                  <DialogContent style={{ padding: \"1.5rem\", overflowY: \"auto\" }}>\n                    <div className=\"flex\">\n                      <Field name=\"name\">\n                        {({ field, meta: { touched, error }, }: FieldProps) => (\n                          <div className=\"flex flex-col flex-1\">\n                            <p className=\"text-sm px-1 font-semibold flex justify-between\">\n                              <span>Project Name*</span>\n                              {touched && Boolean(error) && <span className=\"text-error font-normal\">Required*</span>}\n                            </p>\n                            <StyledInputBase\n                              {...field}\n                              placeholder=\"Enter Project name here\"\n                              fullWidth\n                              error={touched && Boolean(error)}\n                            />\n                          </div>\n                        )}\n                      </Field>\n                      <span className=\"px-1\" />\n                      <Field name=\"template\">\n                        {({ field, meta: { touched, error }, }: FieldProps) => (\n                          <div className=\"flex flex-col flex-1\">\n                            <p className=\"text-sm px-1 font-semibold flex justify-between\">\n                              <span>Project Type*</span>\n                              {touched && Boolean(error) && <span className=\"text-error font-normal\">Required*</span>}\n                            </p>\n                            <Select\n                              {...field}\n                              fullWidth\n                              value={selectedTemplate?._id}\n                              input={<StyledInputBase />}\n                              error={touched && Boolean(error)}\n                              onChange={(event) => {\n                                formikProps.setFieldValue(\"template\", event.target.value);\n                                const _template = templates.find((item) => item._id === event.target.value);\n                                if (_template) {\n                                  formikProps.setFieldValue(\"questions\", getFormattedQuestions(_template.questions))\n                                  setSelectedTemplate(_template);\n                                }\n                              }}\n                            >\n                              {templates.map((template) => (\n                                <MenuItem value={template._id}>\n                                  {template.name}\n                                </MenuItem>\n                              ))}\n                              <AuthComponent allowedRoles={[UserRole.ADMIN, UserRole.PROJECT_MANAGER]} organisationType={IOrganisationType.EDITING}>\n                                <MenuItem className=\"border-t border-bg\">\n                                  <div\n                                    onClick={() => {\n                                      props.setOpen(false)\n                                      navigate(\"home/org-setup\")\n                                    }}\n                                    className=\"-mx-2 -my-1 flex flex-1 border-t border-bg\"\n                                  >\n                                    <Button type=\"button\" variant=\"text-accent\" size=\"medium\" fullWidth>New template +</Button>\n                                  </div>\n                                </MenuItem>\n                              </AuthComponent>\n                            </Select>\n                          </div>\n                        )}\n                      </Field>\n                    </div>\n                    <div className=\"mt-4 mb-2 border-b border-bg\" />\n                    {selectedTemplate && selectedTemplate.questions.map((question, questionIndex) => {\n                      switch (question.answerType) {\n                        case ANSWER_TYPES.RADIO:\n                          return (\n                            <>\n                              <p className=\"text-sm px-1 font-bold flex justify-between mt-4 mb-1\">\n                                <span>{`${question.question} ${question.required ? \"*\" : \"\"}`}</span>\n                                {/* {touched && Boolean(error) && <span className=\"text-error font-normal\">Required*</span>} */}\n                              </p>\n                              {question.options?.map((option, index) => (\n                                <InputLabel style={{ color: \"inherit\" }}>\n                                  <div className=\"flex items-center cursor-pointer\">\n                                    <Field type=\"radio\" name={`questions[${questionIndex}].answer`} value={option} >\n                                      {({ field }: FieldProps) => (\n                                        <Radio\n                                          {...field}\n                                          checked={field.checked}\n                                          icon={<RadioButtonUncheckedIcon fontSize=\"small\" style={{ color: \"var(--grey-2)\" }} />}\n                                          checkedIcon={<RadioButtonCheckedIcon fontSize=\"small\" />}\n                                          color=\"primary\"\n                                        />\n                                      )}\n                                    </Field>\n                                    <div className=\"flex flex-1 items-center pl-1 text-sm\">\n                                      {option}\n                                    </div>\n                                  </div>\n                                </InputLabel>\n                              ))}\n                            </>\n                          )\n                        case ANSWER_TYPES.TEXT:\n                          return (\n                            <Field name={`questions[${questionIndex}].answer`} validate={(value: any) => validateAnswer(value, question.required, 'TEXT')}>\n                              {({ field, meta: { touched, error }, }: FieldProps) => (\n                                <>\n                                  <p className=\"text-sm px-1 font-bold flex justify-between mt-4\">\n                                    <span>{`${question.question} ${question.required ? \"*\" : \"\"}`}</span>\n                                    {touched && Boolean(error) && <span className=\"text-error font-normal\">Required*</span>}\n                                  </p>\n                                  <StyledInputBase\n                                    {...field}\n                                    placeholder=\"Type here\"\n                                    fullWidth\n                                    error={touched && Boolean(error)}\n                                  />\n                                </>\n                              )}\n                            </Field>\n                          )\n                      }\n                    })}\n                  </DialogContent>\n                  <DialogActions style={{ padding: \"0.75rem 1.5rem 1.5rem 1.5rem\" }}>\n                    <div className=\"w-full\">\n                      <Button type=\"submit\" size=\"large\" variant=\"fill-accent\" fullWidth >\n                        {projectCreating ? <CircularProgress color=\"secondary\" size={20} thickness={5} /> : <strong className=\"text-sm\">Create &#8594;</strong>}\n                      </Button>\n                    </div>\n                  </DialogActions>\n                </Form>\n\n              )}\n            </Formik >\n          }\n        </div>\n      </div>\n    </Dialog >\n  )\n};\n\nexport default CreateProjectDialog;\n","import React, { useState } from 'react';\nimport AddIcon from '@material-ui/icons/Add';\nimport IconButton from '@material-ui/core/IconButton';\nimport { useSelector } from 'react-redux';\nimport CreateProjectDialog from './dialogs/create-project-dialog';\nimport { useEffect } from 'react';\nimport { useQuery } from 'src/utils/axios-hooks';\nimport projectAPI from \"src/apis/project\";\nimport { IProject } from \"src/store/organisation/type\";\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { IState } from 'src/store/config';\nimport AuthComponent from 'src/components/auth/auth.component';\nimport { UserRole } from 'src/store/auth/type';\nimport { NavLink, useNavigate, useLocation, useParams } from 'react-router-dom';\n\ninterface IProps {\n}\n\nconst NavBar: React.FC<IProps> = () => {\n  const location = useLocation();\n  const navigate = useNavigate()\n  const { organisations } = useSelector((state: IState) => state.organisationReducer);\n  const [projects, setProjects] = useState<IProject[]>([])\n  const [createProjectDialog, setCreateProjectDialog] = useState<boolean>(false);\n  const { orgId: selectedOrgId } = useParams<{ orgId: string }>();\n\n  const selectedOrganisation = organisations.find(org => org._id === selectedOrgId);\n\n  const { query: getProjects, loading: projectsLoading } = useQuery(projectAPI.getProjects, {\n    onSuccess: (res) => {\n      const _projects: IProject[] = res.data.projects || []\n      const projectsModified: IProject[] = _projects.map((project, idx) => {\n        return {\n          ...project,\n          editors: [],\n          tasks: [],\n          manager: undefined\n        }\n      });\n      setProjects(projectsModified);\n      if (projectsModified.length && !location.pathname.includes(\"project\")) {\n        navigate(`/org/${selectedOrgId}/project/${projectsModified[0]._id}`)\n      }\n    }\n  });\n\n  useEffect(() => {\n    if (selectedOrgId) {\n      setProjects([])\n      getProjects(selectedOrgId);\n    }\n  }, [selectedOrgId]);\n\n  if (!selectedOrganisation) {\n    return <></>\n  }\n\n  return (\n    <>\n      <CreateProjectDialog\n        selectedOrganisation={selectedOrganisation}\n        open={createProjectDialog}\n        setOpen={setCreateProjectDialog}\n        onAddProject={(project: IProject) => {\n          const _project = {\n            ...project, editors: [],\n            tasks: [],\n            manager: undefined\n          }\n          setProjects(prev => [...prev, _project]);\n          navigate(`/org/${selectedOrgId}/project/${project._id}`)\n        }}\n      />\n      <div className=\"flex bg-bg rounded-md\">\n        <div className=\"flex items-center pl-3\">\n          <div className=\"w-8 h-8 rounded-full bg-bg overflow-hidden\">\n            {selectedOrganisation.picture ?\n              <img src={selectedOrganisation.picture} className=\"h-full w-full object-contain\" /> :\n              <div className=\"h-full w-full flex items-center justify-center text-base font-bold\">\n                <span>{selectedOrganisation.name.slice(0, 2)}</span>\n              </div>\n            }\n          </div>\n        </div>\n        <div className=\"flex flex-1 items-center pl-3 pr-1 py-4\">\n          <span className=\"text-sm font-semibold\">{selectedOrganisation?.name}</span>\n        </div>\n        {/* <AuthComponent allowedRoles={[UserRole.ADMIN]}>\n          <div className=\"flex items-center pr-1\">\n            <IconButton aria-label=\"options\" size=\"small\" color=\"secondary\">\n              <MoreVertIcon style={{ fontSize: 20 }} />\n            </IconButton>\n          </div>\n        </AuthComponent> */}\n      </div>\n      <div className=\"my-3 mt-5 pl-1 pb-2 flex items-center border-b border-bg\">\n        <span className=\"flex flex-1 text-sm font-bold\">Projects</span>\n        <AuthComponent allowedRoles={[UserRole.ADMIN]}>\n          <div className=\"rounded-full flex justify-center items-center bg-bg hover:bg-accent ml-2\">\n            <IconButton onClick={() => setCreateProjectDialog(true)} aria-label=\"delete\" size=\"small\" color=\"secondary\" >\n              <AddIcon fontSize=\"inherit\" />\n            </IconButton>\n          </div>\n        </AuthComponent>\n      </div>\n      {projects.map((project, index) => (\n        <NavLink\n          key={index}\n          to={`/org/${selectedOrgId}/project/${project._id}`}\n          className={({ isActive }) => isActive ? 'group flex rounded-md pl-3 pr-1 py-2 mb-1 cursor-pointer hover:bg-bg-light bg-bg' : `group flex rounded-md pl-3 pr-1 py-2 mb-1 cursor-pointer hover:bg-bg-light`}\n        >\n          <div className=\"flex flex-1 text-sm font-semibold items-center\">{project.name}</div>\n          {/* <AuthComponent allowedRoles={[UserRole.ADMIN, UserRole.PROJECT_MANAGER]}>\n            <div className=\"flex items-center opacity-0 group-hover:opacity-100\">\n              <IconButton aria-label=\"options\" size=\"small\" color=\"secondary\">\n                <MoreVertIcon style={{ fontSize: 20 }} />\n              </IconButton>\n            </div>\n          </AuthComponent> */}\n        </NavLink>\n      ))}\n      {projectsLoading && <div className=\"pl-3 mt-2\">\n        <CircularProgress color=\"secondary\" size={20} thickness={5} />\n      </div>}\n    </>\n\n  );\n};\n\nexport default NavBar;\n","import Evaporate from \"evaporate\";\nimport AWS from \"aws-sdk\";\nimport config from 'src/store/config';\n\nconst { store } = config;\n\nexport const getEvaporateClient = async () => {\n  const bucket = process.env.REACT_APP_AWS_BUCKET || 'ediflo-develop';\n  return await Evaporate.create({\n    aws_key: process.env.REACT_APP_AWS_KEY,\n    bucket,\n    awsRegion: process.env.REACT_APP_AWS_REGION,\n    signerUrl: `${process.env.REACT_APP_API_URL}/api/signer`,\n    signHeaders: {\n      Authorization: `Bearer ${store.getState().authReducer.token}`\n    },\n    aws_url: `https://${bucket}.s3.${process.env.REACT_APP_AWS_REGION}.amazonaws.com`,\n    cloudfront: true,\n    logging: false,\n    awsSignatureVersion: '4',\n    computeContentMd5: true,\n    cryptoMd5Method: function (data) {\n      return AWS.util.crypto.md5(data, 'base64');\n    },\n    cryptoHexEncodedHash256: function (data) {\n      return AWS.util.crypto.sha256(data, 'hex');\n    },\n  })\n}","import React, { useEffect } from 'react';\nimport SideBar from './sidebar';\nimport { IState } from 'src/store/config';\nimport { useSelector, useDispatch } from 'react-redux';\nimport NavBar from './navbar';\nimport ProjectPage from '../project';\nimport { Routes, Route, useParams, Outlet } from 'react-router-dom';\nimport { setAuthEvaporateClientAction } from 'src/store/auth/action';\nimport { getEvaporateClient } from 'src/utils/evaporate';\nimport AppHeader from 'src/components/header';\n\nconst HomePage: React.FC = () => {\n  const dispatch = useDispatch();\n  const { orgId: selectedOrgId } = useParams<{ orgId: string }>();\n\n  useEffect(() => {\n    getEvaporateClient().then((_e_) => dispatch(setAuthEvaporateClientAction({ _e_ })))\n  }, []);\n\n  return (\n    <div className=\"absolute inset-0 bg-bg-dark\">\n      <SideBar />\n      <div className=\"absolute inset-y-0 left-16 w-64 bg-bg py-4 px-3\" style={{ width: \"17rem\" }}>\n        {selectedOrgId && <NavBar />}\n      </div>\n      <div className=\"absolute inset-y-0 right-0 flex flex-col bg-bg-light\" style={{ left: \"21rem\" }}>\n        <div className=\"absolute inset-x-0 h-12 top-0 flex items-end mx-6 z-10\">\n          <div className=\"flex flex-1 items-center\"></div>\n          <AppHeader />\n        </div>\n        <Outlet />\n      </div>\n    </div>\n  );\n};\n\nexport default HomePage;\n","import React, { useEffect, useState } from 'react';\nimport CloseRoundedIcon from '@material-ui/icons/CloseRounded';\nimport RadioButtonUncheckedIcon from '@material-ui/icons/RadioButtonUnchecked';\nimport RadioButtonCheckedIcon from '@material-ui/icons/RadioButtonChecked';\nimport Button from \"src/components/button/text.button\";\nimport IconButton from '@material-ui/core/IconButton';\nimport Dialog from '@material-ui/core/Dialog';\nimport * as Yup from 'yup';\nimport { Field, FieldProps, Form, Formik } from 'formik';\nimport { useMutation } from 'src/utils/axios-hooks';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport Radio from '@material-ui/core/Radio';\nimport { useQuery } from 'src/utils/axios-hooks';\nimport orgAPI from \"src/apis/organisation\";\nimport { IUser, UserRole } from 'src/store/auth/type';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport projectAPI from \"src/apis/project\"\nimport { IOrganisation, IProject } from 'src/store/organisation/type';\n\ninterface IProps {\n  project: IProject;\n  organisationId: string;\n  open: boolean;\n  setOpen: (open: boolean) => void\n}\n\nconst InviteDialog: React.FC<IProps> = (props) => {\n  const [selectedRole, setSelectedRole] = React.useState(UserRole.PROJECT_MANAGER);\n  const [users, setUsers] = useState<IUser[]>([])\n\n  const { query: getUsers, loading: usersLoading } = useQuery(orgAPI.getUsers, {\n    onSuccess: (res) => {\n      setUsers(res.data.users)\n    }\n  });\n\n  useEffect(() => {\n    if (props.open) {\n      getUsers();\n    }\n  }, [props.open])\n\n  const { mutate: addEditors, loading: addingEditors } = useMutation<any, any>(projectAPI.addEditors, {\n    onSuccess: (data) => {\n      handleDialogueClose();\n    }\n  });\n  const { mutate: addManager, loading: addingManager } = useMutation<any, any>(projectAPI.addManager, {\n    onSuccess: (data) => {\n      handleDialogueClose();\n    }\n  });\n\n  const handleDialogueClose = () => {\n    props.setOpen(false)\n  };\n\n  const schema = Yup.object().shape({\n    manager: Yup.string().when(selectedRole, {\n      is: UserRole.PROJECT_MANAGER,\n      then: Yup.string().required()\n    }),\n    editors: Yup.array().when(selectedRole, {\n      is: UserRole.EDITOR,\n      then: Yup.array()\n        .of(\n          Yup.string().required()\n        )\n        .min(1)\n    }),\n  });\n\n  return (\n    <Dialog\n      open={props.open}\n      onClose={handleDialogueClose}\n      scroll=\"paper\"\n      aria-labelledby=\"scroll-dialog-title\"\n      aria-describedby=\"scroll-dialog-description\"\n    >\n      <Formik\n        initialValues={{ manager: props.project.manager?._id || \"\", editors: [] }}\n        validationSchema={schema}\n        onSubmit={(values) => {\n          if (selectedRole === UserRole.EDITOR) {\n            addEditors({\n              organisation: props.organisationId,\n              project: props.project._id,\n              data: {\n                editors: values.editors\n              }\n            })\n          }\n          else if (selectedRole === UserRole.PROJECT_MANAGER) {\n            addManager({\n              organisation: props.organisationId,\n              project: props.project._id,\n              data: {\n                manager: values.manager\n              }\n            })\n          }\n        }}\n      >\n        {(formikProps) => (\n          <Form className=\"bg-bg-dark text-primary rounded-xl overflow-hidden\">\n            <div className=\"bg-bg-light\" style={{ width: 480 }}>\n              <div className=\"text-sm font-bold py-3 px-7 border-b border-bg-dark flex items-center justify-between\">\n                <span>Project Manager</span>\n                <IconButton onClick={handleDialogueClose} edge=\"end\" aria-label=\"options\" size=\"small\" color=\"secondary\">\n                  <CloseRoundedIcon style={{ fontSize: 16 }} />\n                </IconButton>\n              </div>\n              <div className=\"px-6 pt-4 max-h-80 overflow-y-auto\">\n                {users.map((user, index) => (\n                  user.role === selectedRole &&\n                  <InputLabel style={{ color: \"inherit\" }}>\n                    <div className=\"flex border-b border-bg items-center cursor-pointer\">\n                      <div className=\"w-8 h-8 rounded-full bg-bg overflow-hidden\">\n                        {false ?\n                          <img src={`${process.env.PUBLIC_URL}`} className=\"h-full w-full object-cover\" /> :\n                          <div className=\"h-full w-full flex items-center justify-center text-xs\">\n                            <span>{user.firstName[0]}{user.lastName[0]}</span>\n                          </div>\n                        }\n                      </div>\n                      <div className=\"flex flex-1 items-center pl-3 pr-1 py-4 text-sm\">\n                        {user.firstName} {user.lastName}\n                      </div>\n                      {selectedRole === UserRole.EDITOR ?\n                        <Field type=\"checkbox\" name=\"editors\" value={user._id} >\n                          {({ field }: FieldProps) => (\n                            <Checkbox\n                              {...field}\n                              checked={field.checked}\n                              color=\"primary\"\n                            />\n                          )}\n                        </Field> :\n                        <Field type=\"radio\" name=\"manager\" value={user._id} >\n                          {({ field }: FieldProps) => (\n                            <Radio\n                              {...field}\n                              checked={field.checked}\n                              icon={<RadioButtonUncheckedIcon style={{ color: \"var(--grey-2)\" }} />}\n                              color=\"primary\"\n                            />\n                          )}\n                        </Field>}\n                    </div>\n                  </InputLabel>\n                ))}\n              </div>\n              {usersLoading && <div className=\"text-center mt-4\">\n                <CircularProgress color=\"secondary\" size={20} thickness={5} />\n              </div>}\n              <div className=\"p-6 text-right\">\n                <Button type=\"submit\" size=\"medium\" variant=\"fill-accent\" >\n                  {(addingEditors || addingManager) ? <CircularProgress color=\"secondary\" size={20} thickness={5} /> : <strong className=\"text-sm\">{selectedRole === UserRole.EDITOR ? \"Editors\" : \"Done\"} &#8594;</strong>}\n                </Button>\n              </div>\n            </div>\n          </Form>\n        )}\n      </Formik>\n    </Dialog>\n  )\n};\n\nexport default InviteDialog;\n","import { withStyles, Theme, createStyles, makeStyles } from '@material-ui/core/styles';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport Avatar from '@material-ui/core/Avatar';\nexport const StyledTableCell = withStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      color: 'var(--text-primary)',\n      border: 0,\n      padding: '10px 10px',\n      '&:first-child': {\n        borderTopLeftRadius: 5,\n        borderBottomLeftRadius: 5\n      },\n      '&:last-child': {\n        borderTopRightRadius: 5,\n        borderBottomRightRadius: 5\n      }\n    },\n    head: {\n      backgroundColor: '#121216',\n      color: 'var(--text-primary)',\n      padding: '10px',\n      fontSize: 'var(--font-regular)'\n    },\n    body: {\n      fontSize: 14,\n    },\n  }),\n)(TableCell);\n\nexport const StyledTableRow = withStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      cursor: \"pointer\",\n      '&:nth-of-type(even)': {\n        backgroundColor: 'rgba(0,0,0,0.14)',\n      },\n      '&:hover': {\n        backgroundColor: 'var(--bg)',\n      },\n    },\n  }),\n)(TableRow);\n\nexport const InvestorAvatar = withStyles(() =>\n  createStyles({\n    root: {\n      height: 24,\n      width: 24,\n      fontSize: '1rem',\n      lineHeight: 2\n    },\n  }),\n)(Avatar);\n\n\nexport const useTableStyles = makeStyles({\n  table: {\n    minWidth: 100,\n  },\n  avatarCell: {\n    width: '1%',\n  },\n  checkboxCell: {\n    padding: '0 4px',\n    width: '1%'\n  },\n  semiBold: {\n    fontWeight: 500\n  },\n  noWhiteSpace: {\n    width: '1%',\n  },\n});","import React from 'react';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport IconButton from '@material-ui/core/IconButton';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport Table from '@material-ui/core/Table';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { StyledTableCell, StyledTableRow, useTableStyles } from './styled-table';\nimport TableBody from '@material-ui/core/TableBody';\nimport { IProject, IProjectTask } from 'src/store/organisation/type';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { DateTime as d } from \"luxon\";\n\ninterface IProps {\n  project: IProject;\n  projectTask: IProjectTask\n}\n\nconst VideoBrowser: React.FC<IProps> = ({ project, projectTask }) => {\n  const navigate = useNavigate();\n  const classes = useTableStyles();\n  const { orgId: selectedOrgId } = useParams<{ orgId: string }>();\n  \n  let projectMembers = [...project.editors]\n  if (project.manager) {\n    projectMembers.push(project.manager)\n  }\n\n  if (!projectTask.videos.length) {\n    return <div className=\"w-96 h-40 m-auto mt-8 rounded-xl text-sm text-center flex flex-col justify-center\">\n      <span>\n        <svg className=\"m-auto opacity-50\" xmlns=\"http://www.w3.org/2000/svg\" width=\"57.526\" height=\"37.438\" viewBox=\"0 0 57.526 37.438\">\n          <g id=\"Group_13\" data-name=\"Group 13\" transform=\"translate(-176.149 -107.224)\">\n            <g id=\"Group_10\" data-name=\"Group 10\" transform=\"translate(188.947 112.266)\">\n              <path id=\"Path_16\" data-name=\"Path 16\" d=\"M268.466,143.077l-5.238,26.931-.686,3.526,34.969-.173c1.569-.008,2.96-1.4,3.465-3.472l6.2-25.425c.383-1.572-.458-3.206-1.649-3.205l-35.393.037C269.354,141.3,268.67,142.026,268.466,143.077Z\" transform=\"translate(-262.542 -141.259)\" fill=\"#403d4d\" />\n            </g>\n            <g id=\"Group_11\" data-name=\"Group 11\" transform=\"translate(176.149 107.224)\">\n              <path id=\"Path_17\" data-name=\"Path 17\" d=\"M220.561,139.19l-3.7-29.835a2.348,2.348,0,0,0-2.275-2.131l-8.119.027a2.212,2.212,0,0,0-1.6.711l-3.855,4.1-22.579.118a2.4,2.4,0,0,0-2.257,2.78l3.437,27.576a2.348,2.348,0,0,0,2.272,2.129l39.351-.078c4.383.091,4.8-1.2,4.8-1.2C221.009,144.494,220.562,139.193,220.561,139.19Z\" transform=\"translate(-176.149 -107.224)\" fill=\"#6a667c\" />\n            </g>\n          </g>\n        </svg>\n      </span>\n      <p className=\"mt-4 text-grey-2\">Looks empty in here.<br /> Upload files by clicking the upload button</p>\n    </div>\n  }\n\n  return (\n    <TableContainer style={{ maxHeight: \"100%\" }} className=\"px-10\">\n      <Table stickyHeader className={classes.table} aria-label=\"customized table\">\n        <TableHead>\n          <TableRow>\n            <StyledTableCell></StyledTableCell>\n            <StyledTableCell>Name</StyledTableCell>\n            <StyledTableCell>\n              <div className='text-center'>\n                Version\n              </div>\n            </StyledTableCell>\n            <StyledTableCell>\n              <div className='text-center'>\n                Comments\n              </div>\n            </StyledTableCell>\n            <StyledTableCell>Uploaded at</StyledTableCell>\n            <StyledTableCell>Uploaded by</StyledTableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {projectTask.videos.map((video, index) => {\n            const uploader = projectMembers.find((user) => user._id === video.user);\n            const uploaded = new Date(video.uploadedAt);\n            const fromattedDate = uploaded.toISOString().substring(0, 10);\n            return (\n              <StyledTableRow key={index} onClick={() => navigate(`/player/${video._id}?org=${selectedOrgId}&project=${project._id}&task=${projectTask._id}`)}>\n                <StyledTableCell className={classes.avatarCell}>\n                  <div className=\"h-8 w-10 bg-bg-dark rounded overflow-hidden flex items-center justify-center\" style={{ backgroundColor: \"#282831\" }}>\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"21\" height=\"21\" viewBox=\"0 0 21 21\" className=\"opacity-20\">\n                      <g id=\"Group_15\" data-name=\"Group 15\" transform=\"translate(-967 -402)\">\n                        <g id=\"Ellipse_15\" data-name=\"Ellipse 15\" transform=\"translate(967 402)\" fill=\"none\" stroke=\"#fff\" strokeWidth=\"1\">\n                          <circle cx=\"10.5\" cy=\"10.5\" r=\"10.5\" stroke=\"none\" />\n                          <circle cx=\"10.5\" cy=\"10.5\" r=\"10\" fill=\"none\" />\n                        </g>\n                        <path id=\"Path_12\" data-name=\"Path 12\" d=\"M4.316.436a.974.974,0,0,1,1.624,0l4.153,6.272A.974.974,0,0,1,9.281,8.22H.976A.974.974,0,0,1,.164,6.708l2-3.016Z\" transform=\"translate(982.72 407.363) rotate(90)\" fill=\"#fff\" />\n                      </g>\n                    </svg>\n                  </div>\n                </StyledTableCell>\n                <StyledTableCell scope=\"investor\">\n                  {video.name}\n                </StyledTableCell>\n                <StyledTableCell>\n                  <div className='text-center'>\n                    <div className=\"h-6 px-2 bg-bg rounded-md inline-flex items-center mx-auto\">v{video.version}</div>\n                  </div>\n                </StyledTableCell>\n                <StyledTableCell>\n                  <div className='text-center'>\n                    <div className=\"h-6 px-2 bg-bg rounded-md inline-flex items-center\">{video.comments.length}</div>\n                  </div>\n                </StyledTableCell>\n                <StyledTableCell>\n                  {d.fromISO(video.uploadedAt).toFormat(\"dd MMM yyyy, hh:mm a\")}\n                </StyledTableCell>\n                <StyledTableCell>{uploader && `${uploader.firstName} ${uploader.lastName}`}</StyledTableCell>\n              </StyledTableRow>\n            )\n          })}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  )\n};\n\nexport default VideoBrowser;\n\n","import React, { useEffect, useState } from 'react';\nimport CloseRoundedIcon from '@material-ui/icons/CloseRounded';\nimport Button from \"src/components/button/text.button\";\nimport IconButton from '@material-ui/core/IconButton';\nimport Dialog from '@material-ui/core/Dialog';\nimport * as Yup from 'yup';\nimport { Field, FieldProps, Form, Formik } from 'formik';\nimport { StyledInputBase } from 'src/components/input';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useMutation, useQuery } from 'src/utils/axios-hooks';\nimport projectAPI from 'src/apis/project'\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { IOrganisation, IProject, IProjectTask } from 'src/store/organisation/type';\nimport { IUser } from 'src/store/auth/type';\nimport orgAPI from \"src/apis/organisation\"\nimport useAutocomplete from '@material-ui/lab/useAutocomplete';\nimport { updateProjectAction } from 'src/store/organisation/action';\nimport { IState } from 'src/store/config';\n\ninterface IProps {\n  open: boolean;\n  setOpen: (open: boolean) => void;\n  onAddTask: (task: IProjectTask) => void;\n  organisationId: string;\n  project: IProject;\n}\n\nconst CreateTaskDialog: React.FC<IProps> = (props) => {\n  const dispatch = useDispatch();\n  const [users, setUsers] = useState<IUser[]>([])\n\n  const { mutate: createProjectTask, loading: taskCreating } = useMutation<any, any>(projectAPI.createProjectTasks, {\n    onSuccess: (res) => {\n      let task = res.data.projectTask;\n      if ((task)) {\n        task.editor = users.find((user) => user._id === task.editor)\n      }\n      props.onAddTask(task)\n      handleDialogueClose();\n    }\n  });\n\n  const { query: getUsers, loading: usersLoading } = useQuery(orgAPI.getUsers, {\n    onSuccess: (res) => {\n      setUsers(res.data.users)\n    }\n  });\n\n  useEffect(() => {\n    if (props.open) {\n      getUsers();\n    }\n  }, [props.open])\n\n  const handleDialogueClose = () => {\n    props.setOpen(false)\n  };\n\n  const createProjectSchema = Yup.object().shape({\n    name: Yup.string().required(),\n    description: Yup.string().required(),\n    editor: Yup.string().required()\n  });\n\n  const {\n    getInputProps,\n    getListboxProps,\n    getOptionProps,\n    groupedOptions,\n    value: selectedEditor\n  } = useAutocomplete({\n    id: 'use-autocomplete-demo',\n    options: users,\n    getOptionLabel: (option) => `${option.firstName} ${option.lastName}`\n  });\n\n  return (\n    <Dialog\n      open={props.open}\n      onClose={handleDialogueClose}\n      scroll=\"paper\"\n      aria-labelledby=\"scroll-dialog-title\"\n      aria-describedby=\"scroll-dialog-description\"\n    >\n      <Formik\n        enableReinitialize\n        initialValues={{ name: \"\", description: \"\", editor: \"\" }}\n        validationSchema={createProjectSchema}\n        onSubmit={(values) => {\n          createProjectTask({\n            organisation: props.organisationId,\n            project: props.project._id,\n            data: values\n          })\n        }}\n      >\n        {(formikProps) => (\n          <Form className=\"bg-bg-dark text-primary rounded-xl overflow-hidden\">\n            <div className=\"bg-bg-light\" style={{ width: 600 }}>\n              <div className=\"text-base font-bold py-3 px-7 border-b border-bg-dark flex items-center justify-between\">\n                <span>Add task</span>\n                <IconButton onClick={handleDialogueClose} edge=\"end\" aria-label=\"options\" size=\"small\" color=\"secondary\">\n                  <CloseRoundedIcon style={{ fontSize: 16 }} />\n                </IconButton>\n              </div>\n              {(!users.length && usersLoading) ?\n                <div className=\"pl-3 mt-2 h-20 flex items-center justify-center\">\n                  <CircularProgress color=\"secondary\" size={20} thickness={5} />\n                </div>\n                : <div className=\"p-6\">\n                  <div className=\"flex\">\n                    <div className=\"flex flex-col flex-1\">\n                      <Field name=\"name\">\n                        {({ field, meta: { touched, error }, }: FieldProps) => (\n                          <>\n                            <p className=\"text-xs px-1 font-semibold flex justify-between\">\n                              <span>Task Name</span>\n                              {touched && Boolean(error) && <span className=\"text-error font-normal\">Required*</span>}\n                            </p>\n                            <StyledInputBase\n                              {...field}\n                              placeholder=\"Enter Task name here\"\n                              fullWidth\n                              error={touched && Boolean(error)}\n                            />\n                          </>\n                        )}\n                      </Field>\n                    </div>\n                    <span className=\"px-1\"></span>\n                    <div className=\"flex flex-col flex-1 relative\">\n\n                      <p className=\"text-xs px-1 font-semibold flex justify-between\">\n                        <span>Assign to</span>\n                        {formikProps.touched.editor && Boolean(formikProps.errors.editor) && <span className=\"text-error font-normal\">Required*</span>}\n                      </p>\n                      <StyledInputBase\n                        {...getInputProps()}\n                        placeholder=\"Enter Task name here\"\n                        fullWidth\n                        error={formikProps.touched.editor && Boolean(formikProps.errors.editor)}\n                      />\n                      {groupedOptions.length > 0 ? (\n                        <div className=\"absolute inset-x-0 top-16 h-56 bg-bg-dark z-10 rounded-xl overflow-hidden\">\n                          <div className=\"h-full w-full bg-bg px-4 overflow-y-auto\" {...getListboxProps()}>\n                            {groupedOptions.map((option, index) => (\n                              <div {...getOptionProps({ option, index })}>\n                                <div onClick={() => formikProps.setFieldValue(\"editor\", option._id)} className=\"flex border-b border-bg items-center cursor-pointer\">\n                                  <div className=\"w-8 h-8 rounded-full bg-bg overflow-hidden\">\n                                    {false ?\n                                      <img src={`${process.env.PUBLIC_URL}`} className=\"h-full w-full object-cover\" /> :\n                                      <div className=\"h-full w-full flex items-center justify-center text-xs\">\n                                        <span>{option.firstName[0]}{option.lastName[0]}</span>\n                                      </div>\n                                    }\n                                  </div>\n                                  <div className=\"flex flex-1 items-center pl-3 pr-1 py-4 text-sm\">\n                                    {option.firstName} {option.lastName}\n                                  </div>\n                                </div>\n                              </div>\n                            ))}\n                          </div>\n                        </div>\n                      ) : null}\n                    </div>\n                  </div>\n                  <div className=\"mt-6\"></div>\n                  <Field name=\"description\">\n                    {({ field, meta: { touched, error }, }: FieldProps) => (\n                      <>\n                        <p className=\"text-xs px-1 font-semibold flex justify-between\">\n                          <span>Description</span>\n                          {touched && Boolean(error) && <span className=\"text-error font-normal\">Required*</span>}\n                        </p>\n                        <StyledInputBase\n                          {...field}\n                          multiline\n                          rowsMax={6}\n                          rows={6}\n                          placeholder=\"Task Description\"\n                          fullWidth\n                          error={touched && Boolean(error)}\n                        />\n                      </>\n                    )}\n                  </Field>\n                  <div className=\"pt-6\">\n                    <Button type=\"submit\" size=\"large\" variant=\"fill-accent\" fullWidth >\n                      {taskCreating ? <CircularProgress color=\"secondary\" size={20} thickness={5} /> : <strong className=\"text-sm\">Add Task &#8594;</strong>}\n                    </Button>\n                  </div>\n                </div>}\n            </div>\n          </Form>\n        )}\n      </Formik>\n    </Dialog >\n  )\n};\n\nexport default CreateTaskDialog;\n","import React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport CloseRoundedIcon from '@material-ui/icons/CloseRounded';\nimport IconButton from '@material-ui/core/IconButton';\nimport PublishIcon from '@material-ui/icons/Publish';\nimport Dialog from '@material-ui/core/Dialog';\nimport { v4 as uuidv4 } from 'uuid';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useMutation } from 'src/utils/axios-hooks';\nimport { useDropzone } from 'react-dropzone';\n\nimport { IState } from 'src/store/config';\nimport projectAPI from 'src/apis/project'\nimport { addVideoToProjectAction } from 'src/store/organisation/action';\nimport Paper from '@material-ui/core/Paper';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { IVideo } from 'src/store/player/type';\nimport { ProjectTaskStatus } from 'src/store/organisation/type';\nimport { useParams } from 'react-router-dom';\nimport Uppy from '@uppy/core'\nimport Tus from '@uppy/tus'\nimport { Dashboard } from '@uppy/react'\n\ninterface IProps {\n  taskId: string;\n  open: boolean;\n  onClose: (video?: IVideo) => void\n}\n\nconst VideoUploadDialog: React.FC<IProps> = (props) => {\n  const dispatch = useDispatch();\n  const { _e_, token } = useSelector((state: IState) => state.authReducer);\n  const [videoFileKey, setVideoFileKey] = useState<string>('');\n  const [videoProgress, setVideoProgress] = useState<number>(0);\n  const [uploading, setUploading] = useState<boolean>(false);\n  const { orgId: selectedOrgId, projectId: selectedProjectId } = useParams<{ orgId: string, projectId: string }>();\n\n  const { mutate: updateTaskStatus } = useMutation<any, any>(projectAPI.updateTaskStatus);\n\n  const { mutate: addVideoToProjectTask } = useMutation<any, any>(projectAPI.addVideoToProjectTask, {\n    onSuccess: ({ data }) => {\n      setVideoProgress(0);\n      setVideoFileKey('');\n      setUploading(false);\n      if (selectedOrgId) {\n        updateTaskStatus({\n          organisation: selectedOrgId,\n          task: props.taskId,\n          project: selectedProjectId,\n          data: {\n            status: ProjectTaskStatus.REVIEW\n          }\n        });\n        props.onClose(data.video);\n        dispatch(addVideoToProjectAction(data));\n      }\n    },\n    onError: () => {\n      setVideoProgress(0);\n      setVideoFileKey('');\n      setUploading(false);\n    }\n  });\n\n  const handleDialogueClose = () => {\n    if (videoFileKey) {\n      _e_?.cancel(videoFileKey).then(() => {\n        props.onClose();\n      }).catch((err) => console.log(err));\n    } else {\n      props.onClose();\n    }\n    setVideoProgress(0);\n    setVideoFileKey('');\n    setUploading(false);\n  };\n\n  const onDrop = useCallback((files: File[]) => {\n    setUploading(true);\n    console.log(_e_, selectedOrgId)\n    if (_e_ && selectedOrgId && selectedProjectId) {\n      const client = _e_;\n      const filePromises = [];\n      if (files) {\n        for (var i = 0; i < files.length; i++) {\n          const name = files[i].name;\n          const lastDot = name.lastIndexOf('.');\n          const ext = name.substring(lastDot + 1);\n          const file = `${uuidv4()}.${ext}`;\n          const promise = client\n            .add({\n              name: file,\n              file: files[i],\n              started: (fileKey) => {\n                setVideoFileKey(fileKey);\n              },\n              progress: (progress) => {\n                setVideoProgress(Math.round(progress * 100));\n              },\n              complete: () => {\n                addVideoToProjectTask({\n                  organisation: selectedOrgId,\n                  task: props.taskId,\n                  project: selectedProjectId,\n                  data: {\n                    file,\n                    name\n                  }\n                })\n              }\n            });\n          filePromises.push(promise);\n        }\n        Promise.all(filePromises).catch((err) => console.log(err));\n      }\n    }\n  }, [])\n\n  const uppy = useMemo(() => {\n    let streamMediaId: string;\n    return new Uppy({\n      meta: { type: 'avatar' },\n      restrictions: { maxNumberOfFiles: 1, allowedFileTypes: ['video/*'] },\n      autoProceed: true,\n    })\n      .use(Tus, {\n        endpoint: `${process.env.REACT_APP_API_URL}/api/cloudflare/signer`,\n        removeFingerprintOnSuccess: true,\n        headers: {\n          'Upload-Metadata': 'requiresignedurls'\n        },\n        onAfterResponse(_, res) {\n          return new Promise<void>(resolve => {\n            streamMediaId = res.getHeader('stream-media-id');\n            return resolve();\n          });\n        },\n      })\n      .on('complete', (result) => {\n        if (result.successful.length) {\n          const video = result.successful[0]\n          addVideoToProjectTask({\n            organisation: selectedOrgId,\n            task: props.taskId,\n            project: selectedProjectId,\n            data: {\n              file: streamMediaId,\n              name: video.name\n            }\n          })\n        }\n      })\n  }, []);\n\n  useEffect(() => {\n    return () => uppy.close()\n  }, [uppy])\n\n  return (\n    <Dialog\n      open={props.open}\n      onClose={(_, reason) => {\n        if (!reason) {\n          handleDialogueClose()\n        }\n      }}\n      scroll=\"paper\"\n      aria-labelledby=\"scroll-dialog-title\"\n      aria-describedby=\"scroll-dialog-description\"\n    >\n      <div className=\"text-primary rounded-xl overflow-hidden\">\n        <Paper className=\"bg-bg-dark text-primary rounded-xl overflow-hidden\">\n          <div style={{ width: 480 }}>\n            <div className=\"text-sm font-bold py-3 px-7 border-b border-bg-dark flex items-center justify-between text-white\">\n              <span>Upload video</span>\n              <IconButton onClick={handleDialogueClose} edge=\"end\" aria-label=\"options\" size=\"small\" color=\"secondary\">\n                <CloseRoundedIcon style={{ fontSize: 16 }} />\n              </IconButton>\n            </div>\n            <div className=\"flex flex-col\">\n              {uploading ?\n                <div className=\"h-32 border-2 border-dashed border-grey-1 rounded-xl m-4 cursor-pointer flex items-center justify-center flex-col\">\n                  <CircularProgress color=\"secondary\" size={20} thickness={5} />\n                  <p className=\"text-xs mt-3\">Uploading...</p>\n                  <div className=\" w-96 bg-bg h-3 rounded-full mt-6 relative overflow-hidden\">\n                    <div className=\"bg-accent absolute inset-y-0 left-0\" style={{ width: `${videoProgress}%` }} />\n                  </div>\n                </div>\n                : (\n                  <Dashboard\n                    uppy={uppy}\n                    height={200}\n                  />\n                )}\n            </div>\n          </div>\n        </Paper>\n      </div>\n    </Dialog>\n  )\n};\n\nexport default VideoUploadDialog;\n","import React, { useState, useEffect } from 'react';\nimport EditIcon from '@material-ui/icons/Edit';\nimport PublishRoundedIcon from '@material-ui/icons/PublishRounded';\nimport VideoLibraryIcon from '@material-ui/icons/VideoLibrary';\nimport AddIcon from '@material-ui/icons/Add';\nimport Button from \"../../components/button/text.button\";\nimport { IOrganisationType, IProject, IProjectTask } from 'src/store/organisation/type';\nimport VideoBrowser from './video-browser';\nimport CreateTaskDialog from './dialogs/create-task-dialog';\nimport VideoUploadDialog from './dialogs/video-upload';\nimport projectAPI from \"src/apis/project\"\nimport { useQuery } from 'src/utils/axios-hooks';\nimport { IVideo } from 'src/store/player/type';\nimport AuthComponent from 'src/components/auth/auth.component';\nimport { UserRole } from 'src/store/auth/type';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { taskStatusMap } from 'src/utils/consts';\n\ninterface IProps {\n  organisationId: string;\n  project: IProject\n}\n\nconst ProjectTask: React.FC<IProps> = ({ project, organisationId }) => {\n  const colors = [\"#00aab1\", \"#00c000\", \"#ffff32\", \"#FF6800\", \"#E55151\"];\n  const [createTaskDialog, setCreateTaskDialog] = useState<boolean>(false);\n  const [projectTasks, setProjectTasks] = useState<IProjectTask[]>(project.tasks)\n  const [selectedTask, setSelectedTask] = useState<IProjectTask | undefined>();\n  const [videoUploadDailog, setVideoUploadDailog] = useState<boolean>(false);\n\n  const { query: getProjectTask, loading: taskLoading } = useQuery<any, any>(projectAPI.getProjectTask, {\n    onSuccess: (res) => {\n      setSelectedTask(res.data.projectTask)\n    },\n    onError: () => {\n      setSelectedTask(undefined)\n    }\n  });\n\n  const handleTaskChange = (taskId: string) => {\n    setSelectedTask(project.tasks.find((task) => task._id === taskId));\n    getProjectTask({\n      organisation: organisationId,\n      project: project._id,\n      task: taskId\n    });\n  }\n\n  useEffect(() => {\n    if (project.tasks.length) {\n      handleTaskChange(project.tasks[0]._id)\n    }\n  }, [])\n\n  return (\n    <div className=\"absolute inset-0\">\n      <CreateTaskDialog\n        onAddTask={(task: IProjectTask) => {\n          setProjectTasks(prev => [...prev, task])\n        }}\n        open={createTaskDialog}\n        setOpen={(open: boolean) => setCreateTaskDialog(open)}\n        organisationId={organisationId} project={project}\n      />\n      {selectedTask && (\n        <VideoUploadDialog\n          open={videoUploadDailog}\n          onClose={(video?: IVideo) => {\n            setVideoUploadDailog(false)\n            if (video && selectedTask) {\n              setSelectedTask({\n                ...selectedTask,\n                videos: [...selectedTask?.videos, video]\n              })\n            }\n          }}\n          taskId={selectedTask._id}\n        />\n      )}\n      <div className=\"absolute inset-x-0 overflow-y-auto border-b border-bg pb-2\">\n        <div className=\"h-full flex items-start px-5\">\n          <div className=\"flex pr-6\">\n            {projectTasks.map((task, index) => (\n              <div\n                key={index}\n                onClick={() => handleTaskChange(task._id)}\n                className={`pt-3 px-4 pb-4 text-sm rounded-md bg-bg w-60 h-28 m-1 cursor-pointer flex flex-col border hover:bg-bg-light ${task._id === selectedTask?._id ? \"border-accent\" : \" border-transparent\"}`}\n              >\n                <div className='flex flex-1'>\n                  <p className=\"font-semibold overflow-hidden overflow-ellipsis whitespace-nowrap\">{task.name}</p>\n                </div>\n                <div className=\"flex items-center\">\n                  {task.videos.length ? <p className=\"h-6 mr-2 rounded-md inline-flex items-center text-xs\">v{task.videos.length}</p> : null}\n                  <div className=\"h-6 rounded-md inline-flex items-center text-xs\">\n                    <VideoLibraryIcon fontSize=\"inherit\" />\n                    <span className='ml-0.5'>{task.videos.length}</span>\n                  </div>\n                </div>\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"flex items-center -ml-0.5\">\n                    <p className=\" rounded-md inline-flex items-center text-xs\">\n                      <span className='flex items-center text-sm' style={{ color: taskStatusMap.find((status) => status.name === task.status)?.color || \"initial\" }}>\n                        {taskStatusMap.find((status) => status.name === task.status)?.icon || null}\n                        <span className=\"ml-1 text-primary\">{taskStatusMap.find((status) => status.name === task.status)?.label || \"\"}</span>\n                      </span>\n                    </p>\n                  </div>\n                  <AuthComponent allowedRoles={[UserRole.ADMIN, UserRole.PROJECT_MANAGER, UserRole.EDITOR]} organisationType={IOrganisationType.EDITING}>\n                    <div className=\"w-7 h-7 rounded-full bg-bg overflow-hidden\" style={{ backgroundColor: colors[index] }}>\n                      {false ?\n                        <img src={`${process.env.PUBLIC_URL}`} className=\"h-full w-full object-cover\" /> :\n                        <div className=\"h-full w-full flex items-center justify-center text-sm font-semibold\">\n                          <span>{task.editor.firstName[0]}{task.editor.lastName[0]}</span>\n                        </div>\n                      }\n                    </div>\n                  </AuthComponent>\n                </div>\n              </div>\n            ))}\n            <AuthComponent allowedRoles={[UserRole.ADMIN, UserRole.PROJECT_MANAGER]} organisationType={IOrganisationType.EDITING}>\n              <div\n                onClick={() => setCreateTaskDialog(true)}\n                className=\"text-sm rounded-md w-28 h-28 m-1 cursor-pointer flex items-center justify-center flex-col border border-dashed border-bg-light hover:bg-bg\"\n              >\n                <AddIcon fontSize=\"small\" />\n                <p className=\"text-xs font-bold\">Add Task</p>\n              </div>\n            </AuthComponent>\n          </div>\n        </div>\n      </div>\n      <div className=\"absolute inset-x-0 bottom-0 top-32 flex flex-col\">\n        {selectedTask && (\n          <>\n            <div className=\"py-6 px-10 flex items-start\">\n              <div className=\"flex flex-1 flex-col pr-6\">\n                <div className=\"text-sm font-bold\">\n                  {selectedTask.name}\n                </div>\n                <div className=\"text-sm text-grey-5\">\n                  {selectedTask.description.length > 100 ? `${selectedTask.description.slice(0, 100)}...` : selectedTask.description}\n                </div>\n              </div>\n              <span className=\"px-1\"></span>\n              <AuthComponent allowedRoles={[UserRole.ADMIN, UserRole.PROJECT_MANAGER, UserRole.EDITOR]} organisationType={IOrganisationType.EDITING}>\n                <>\n                  <Button onClick={() => setVideoUploadDailog(true)} type=\"button\" size=\"regular\" variant=\"fill-accent\" >\n                    <span className=\"mr-1 font-semibold\">Upload</span>\n                    <PublishRoundedIcon fontSize=\"inherit\" />\n                  </Button>\n                  <span className=\"px-1\"></span>\n                  <Button type=\"button\" size=\"medium\" variant=\"fill-accent\" >\n                    <EditIcon style={{ fontSize: 16 }} />\n                  </Button>\n                </>\n              </AuthComponent>\n            </div>\n            {taskLoading ? <div className=\"mt-16 mx-6 flex justify-center\">\n              <CircularProgress color=\"secondary\" size={20} thickness={5} />\n            </div> : <div className=\"flex flex-1 overflow-hidden\">\n              <VideoBrowser project={project} projectTask={selectedTask} />\n            </div>}\n          </>\n        )}\n      </div>\n    </div>\n  )\n};\n\nexport default ProjectTask;\n","import React from 'react';\nimport CloseRoundedIcon from '@material-ui/icons/CloseRounded';\nimport IconButton from '@material-ui/core/IconButton';\nimport Dialog from '@material-ui/core/Dialog';\nimport { IProject } from 'src/store/organisation/type';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\n\ninterface IProps {\n  open: boolean;\n  setOpen: (open: boolean) => void;\n  organisationId: string;\n  project: IProject;\n}\n\nconst ProjectInfoDialog: React.FC<IProps> = ({ project, open, setOpen }) => {\n  const handleDialogueClose = () => {\n    setOpen(false)\n  };\n\n  return (\n    <Dialog\n      open={open}\n      onClose={handleDialogueClose}\n      scroll=\"body\"\n      aria-labelledby=\"scroll-dialog-title\"\n      aria-describedby=\"scroll-dialog-description\"\n    >\n      <div className=\"bg-bg-dark text-primary rounded-xl overflow-hidden\">\n        <div className=\"bg-bg-light\" style={{ width: 600, minHeight: 600 }}>\n          <DialogTitle className=\"text-base font-bold border-b border-bg-dark\" style={{ padding: \"0.75rem 2rem\" }}>\n            <span className=\"flex justify-between\">\n              <span className=\"text-sm\">Project Info</span>\n              <IconButton onClick={handleDialogueClose} edge=\"end\" aria-label=\"options\" size=\"small\" color=\"secondary\">\n                <CloseRoundedIcon style={{ fontSize: 16 }} />\n              </IconButton>\n            </span>\n          </DialogTitle>\n          <DialogContent style={{ padding: \"1rem 2rem 2rem 2rem\", overflowY: \"auto\" }}>\n            <p className=\"text-md font-bold mb-3 pb-4 border-b border-grey-1\">{project.name}</p>\n            {project.questions.map((question, index) => (\n              <div key={index} className={`flex items-center rounded-md text-sm py-3 px-6 -mx-2 mb-0.5`} style={{ backgroundColor: index % 2 === 0 ? 'rgba(0,0,0,0.1)' : 'transparent' }}>\n                <p className=\"flex flex-1\">{question.question}</p>\n                <span className=\"px-4\">:</span>\n                <p className=\"flex flex-1\"> {question.answer}</p>\n              </div>\n            ))}\n          </DialogContent>\n        </div>\n      </div>\n    </Dialog >\n  )\n};\n\nexport default ProjectInfoDialog;\n","import React, { useState, useEffect } from 'react';\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\nimport InfoOutlinedIcon from '@material-ui/icons/InfoOutlined';\nimport Button from \"../../components/button/text.button\";\nimport InviteDialog from './dialogs/invite-dialog';\nimport { useQuery } from 'src/utils/axios-hooks';\nimport projectAPI from \"src/apis/project\";\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport ProjectTask from \"./project-task\";\nimport ProjectInfoDialog from './dialogs/project-info-dialog';\nimport AuthComponent from '../../components/auth/auth.component';\nimport { UserRole } from 'src/store/auth/type';\nimport { IOrganisationType, IProject } from 'src/store/organisation/type';\nimport { useParams } from 'react-router-dom';\n\nconst ProjectPage: React.FC = () => {\n  const colors = [\"#00aab1\", \"#00c000\", \"#ffff32\", \"#FF6800\", \"#E55151\"];\n  const [managerDialog, setManagerDialog] = useState<boolean>(false);\n  const [projectInfoDialog, setProjectInfoDialog] = useState<boolean>(false);\n  const [project, setProject] = useState<IProject | undefined>();\n  const { orgId: organisationId, projectId } = useParams<{ orgId: string, projectId: string }>();\n\n  const { query: getProject, loading: projectsLoading } = useQuery<any, any>(projectAPI.getProject, {\n    onSuccess: (res) => {\n      const _project = res.data.project;\n      const tasks = _project.tasks.map((task: any, index: number) => {\n        return {\n          ...task,\n          editor: _project.editors.find((editor: any, idx: number) => editor._id === task.editor)\n        }\n      })\n      setProject({\n        ..._project,\n        tasks\n      })\n    }\n  });\n\n  useEffect(() => {\n    getProject({\n      organisation: organisationId,\n      project: projectId\n    })\n  }, [projectId]);\n\n  if (!organisationId || !project || projectsLoading) {\n    return (\n      <div className=\"absolute inset-x-0 h-12 top-0 flex items-end mx-6\">\n        <div className=\"flex flex-1 items-center\">\n          <CircularProgress color=\"secondary\" size={20} thickness={5} />\n        </div>\n      </div>\n    )\n  }\n  return (\n    <>\n      <div className=\"absolute inset-x-0 h-12 top-0 flex items-end mx-6\">\n        <div className=\"flex flex-1 items-center\">\n          <p className=\"text-lg font-bold mr-2\">{project.name || \"\"}</p>\n        </div>\n      </div>\n      <InviteDialog open={managerDialog} setOpen={(open: boolean) => setManagerDialog(open)} organisationId={organisationId} project={project} />\n      <ProjectInfoDialog open={projectInfoDialog} setOpen={(open: boolean) => setProjectInfoDialog(open)} organisationId={organisationId} project={project} />\n      <div className=\"absolute inset-x-0 top-12 h-16 mx-6 flex items-center \">\n        <AuthComponent allowedRoles={[UserRole.ADMIN, UserRole.PROJECT_MANAGER, UserRole.EDITOR]} organisationType={IOrganisationType.EDITING}>\n          <>\n            {project.editors.map((editor, index) => (\n              index < 5 && <div key={index} className=\"w-7 h-7 rounded-full bg-bg-dark overflow-hidden cursor-pointer \" style={{ boxShadow: `0 0 0 2px ${colors[index]}` }}>\n                {false ?\n                  <img src={`${process.env.PUBLIC_URL}`} className=\"h-full w-full object-cover\" /> :\n                  <div className=\"h-full w-full flex items-center justify-center text-xs font-semibold\">\n                    <span>{editor.firstName[0]}{editor.lastName[0]}</span>\n                  </div>\n                }\n              </div>\n            ))}\n            {project.editors.length > 4 && <div className=\"w-7 h-7 rounded-full bg-bg-dark text-sm flex items-center justify-center cursor-pointer mr-2\" style={{ boxShadow: `0 0 0 2px ${colors[4]}` }}>\n              {`+${project.editors.length - 4}`}\n            </div>}\n            {project.editors.length ? <span className=\"px-1\"></span> : null}\n          </>\n        </AuthComponent>\n        <div className=\"h-8 flex flex-1 items-center\">\n          <AuthComponent allowedRoles={[UserRole.ADMIN]} organisationType={IOrganisationType.EDITING}>\n            <>\n              {project.manager ?\n                <div onClick={() => setManagerDialog(true)}\n                  className=\"pr-3 p-0.5 bg-bg rounded-full flex items-center cursor-pointer \"\n                  style={{ boxShadow: `0 0 0 1px ${colors[4]}` }}\n                >\n                  <div className=\"w-7 h-7 bg-bg-dark rounded-full overflow-hidden\" >\n                    {false ?\n                      <img src={`${process.env.PUBLIC_URL}`} className=\"h-full w-full object-cover\" /> :\n                      <div className=\"h-full w-full flex items-center justify-center text-xs font-semibold\">\n                        <span>{project.manager.firstName[0]}{project.manager.lastName[0]}</span>\n                      </div>\n                    }\n                  </div>\n                  <span className=\"ml-2 text-xs\">Manager</span>\n                </div>\n                : <Button\n                  onClick={() => setManagerDialog(true)}\n                  type=\"button\"\n                  size=\"regular\"\n                  variant=\"fill-accent\"\n                >\n                  <PersonAddIcon fontSize=\"inherit\" />\n                  <span className=\"ml-1 font-semibold\">Add Manager</span>\n                </Button>\n              }\n              <span className=\"px-1\"></span>\n            </>\n          </AuthComponent>\n          <AuthComponent allowedRoles={[UserRole.ADMIN]} organisationType={IOrganisationType.PRODUCING}>\n            <>\n              {false ?\n                <div onClick={() => setManagerDialog(true)}\n                  className=\"pr-3 p-0.5 bg-bg rounded-full flex items-center cursor-pointer \"\n                  style={{ boxShadow: `0 0 0 1px ${colors[4]}` }}\n                >\n                  <div className=\"w-7 h-7 bg-bg-dark rounded-full overflow-hidden\" >\n                    {false ?\n                      <img src={`${process.env.PUBLIC_URL}`} className=\"h-full w-full object-cover\" /> :\n                      <div className=\"h-full w-full flex items-center justify-center text-xs font-semibold\">\n                        {/* <span>{project.manager.firstName[0]}{project.manager.lastName[0]}</span> */}\n                      </div>\n                    }\n                  </div>\n                  <span className=\"ml-2 text-xs\">Manager</span>\n                </div>\n                : <Button\n                  onClick={() => setManagerDialog(true)}\n                  type=\"button\"\n                  size=\"regular\"\n                  variant=\"fill-accent\"\n                >\n                  <PersonAddIcon fontSize=\"inherit\" />\n                  <span className=\"ml-1 font-semibold\">Add Viewers</span>\n                </Button>\n              }\n              <span className=\"px-1\"></span>\n            </>\n          </AuthComponent>\n          <Button onClick={() => setProjectInfoDialog(true)} variant=\"text-accent\" size=\"regular\">\n            <span className=\"flex items-center\">\n              <InfoOutlinedIcon fontSize=\"small\" />\n              <span className=\"font-semibold ml-0.5\">Project info</span>\n            </span>\n          </Button>\n        </div>\n\n      </div>\n      <div className=\"absolute top-28 bottom-0 inset-x-0\">\n        <ProjectTask project={project} organisationId={organisationId} />\n      </div>\n    </>\n  )\n};\n\nexport default ProjectPage;\n","import axios, { AxiosResponse } from 'axios';\n\nexport default {\n  signup: <V>(data: V) => axios.post(\"/api/auth/signup\", data),\n  validateOtp: <V>(data: V) => axios.post(\"/api/auth/otp\", data),\n  setPassword: <V>(data: V) => axios.post(\"/api/auth/password\", data),\n  signin: <V>(data: V) => axios.post(\"/api/auth/signin\", data),\n};","import axios, { AxiosError, AxiosResponse } from 'axios';\nimport { authSignOutAction } from 'src/store/auth/action';\nimport config from 'src/store/config';\n\nconst { store } = config;\n\nexport const setAuthorizationHeader = (token?: string) => {\n  if (token)\n    axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n  else\n    delete axios.defaults.headers.common['Authorization'];\n}\n\nexport function sleep(ms = 300): Promise<void> {\n  return new Promise((resolve) => setTimeout(resolve, ms));\n}\n\naxios.defaults.baseURL = process.env.REACT_APP_API_URL;\naxios.defaults.headers.post['Content-Type'] = 'application/json';\n\naxios.interceptors.response.use(\n  async (response: AxiosResponse) => {\n    if (process.env.NODE_ENV === 'development') {\n      await sleep();\n    }\n    return response;\n  },\n  async (error: AxiosError) => {\n    if (error && error.response) {\n      if (error.response.status === 401) {\n        store.dispatch(authSignOutAction());\n      }\n    };\n    return Promise.reject(error);\n  });\n\nexport default axios;\n\n","import React from 'react';\nimport { Field, FieldProps, Formik } from 'formik';\nimport * as Yup from 'yup';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { StyledInputBase } from 'src/components/input';\nimport Button from 'src/components/button/text.button'\nimport { useMutation } from 'src/utils/axios-hooks';\nimport authApi from 'src/apis/auth'\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { setAuthorizationHeader } from 'src/utils/axios';\nimport { authSignInAction } from 'src/store/auth/action';\nimport { IUser } from 'src/store/auth/type';\nimport { IState } from 'src/store/config';\nimport { useNavigate } from 'react-router-dom';\n\ninterface APIResponse {\n  success: boolean;\n  message?: string;\n}\n\ninterface SigninData {\n  token: string;\n  user: IUser\n}\n\ninterface SinginResponse extends APIResponse {\n  data: SigninData\n}\n\nconst Authenticate: React.FC = () => {\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const { authenticated, password } = useSelector((state: IState) => state.authReducer);\n  const { mutate: signIn, error, loading } = useMutation<SinginResponse>(authApi.signin, {\n    onSuccess: ({ data }) => {\n      setAuthorizationHeader(data.token);\n      dispatch(authSignInAction({ authenticated, password, user: data.user, token: data.token }));\n    }\n  });\n\n  const schema = Yup.object().shape({\n    email: Yup.string().email().required(),\n    password: Yup.string().required(),\n  });\n\n  return (\n    <>\n      <div className=\"max-w-sm m-auto bg-bg rounded-t-2xl rounded-b-lg px-10 py-6 mt-20\">\n        <p className=\"text-lg font-bold\">Sign in</p>\n        <p className=\"text-sm mt-0.5\">Sign in to your account to continue</p>\n      </div>\n      <div className=\"max-w-sm m-auto bg-bg rounded-lg pt-8 pb-10 px-10 mt-0.5\">\n        <Formik\n          initialValues={{\n            email: \"\",\n            password: \"\"\n          }}\n          validationSchema={schema}\n          onSubmit={values => {\n            signIn(values)\n          }}\n        >\n          {(formikProps) => (\n            <form onSubmit={formikProps.handleSubmit} className=\"text-left\">\n              <Field name=\"email\">\n                {({ field, meta: { touched, error }, }: FieldProps) => (\n                  <>\n                    <p className=\"text-sm font-semibold px-1 flex justify-between\">\n                      <span>Email</span>\n                      {touched && Boolean(error) && <span className=\"text-error font-normal\">Required*</span>}\n                    </p>\n                    <StyledInputBase\n                      {...field}\n                      placeholder=\"Enter your email here\"\n                      fullWidth\n                      error={touched && Boolean(error)}\n                    />\n                  </>\n                )}\n              </Field>\n              <div className=\"mt-4\"></div>\n              <Field name=\"password\">\n                {({ field, meta: { touched, error }, }: FieldProps) => (\n                  <>\n                    <p className=\"text-sm font-semibold px-1 flex justify-between\">\n                      <span>Password</span>\n                      {touched && Boolean(error) && <span className=\"text-error font-normal\">Required*</span>}\n                    </p>\n                    <StyledInputBase\n                      {...field}\n                      placeholder=\"Password\"\n                      fullWidth\n                      type=\"password\"\n                      error={touched && Boolean(error)}\n                    />\n                  </>\n                )}\n              </Field>\n              <div className=\"my-2 pb-4\"></div>\n              <Button type=\"submit\" variant=\"fill-accent\" size=\"large\" fullWidth thick>\n                {loading ? <CircularProgress color=\"secondary\" size={20} thickness={5} /> : <span>Sign in &#8594;</span>}\n              </Button>\n              {error ? (\n                <div className=\"text-error mt-4 text-center text-sm\">{error.response?.data.message}</div>\n              ) : null}\n            </form>\n          )}\n        </Formik>\n      </div>\n      <div className=\"max-w-sm m-auto bg-bg rounded-b-2xl rounded-t-lg px-10 py-3 mt-0.5 flex\">\n        <span className=\"text-sm mt-0.5 flex flex-1\">Don't have an account?</span>\n        <Button type=\"button\" onClick={() => navigate(\"/signup\")} variant=\"text-accent\" size=\"regular\">\n          <span>Sign up &#8594;</span>\n        </Button>\n      </div>\n    </>\n  )\n}\n\nexport default Authenticate;","import React from 'react';\nimport { Field, FieldProps, Formik } from 'formik';\nimport * as Yup from 'yup';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { StyledInputBase } from 'src/components/input';\nimport Button from 'src/components/button/text.button';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport authApi from 'src/apis/auth'\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { setAuthorizationHeader } from 'src/utils/axios';\nimport { useMutation } from 'src/utils/axios-hooks';\nimport { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { authSignInAction, authOtpValidateAction, authSetPasswordAction } from 'src/store/auth/action';\nimport { useState } from 'react';\n\nexport const StepOne: React.FC = () => {\n  const navigate = useNavigate();\n  const { mutate: signUp, response, error, loading } = useMutation<{}, { email: string }>(authApi.signup, {\n    onSuccess: (_, v) => {\n      navigate(`/signup?email=${v?.email}&step=2`)\n    }\n  });\n\n  useEffect(() => {\n    if (response) {\n    }\n  }, [response])\n\n  const schema = Yup.object().shape({\n    email: Yup.string().email().required(),\n    firstName: Yup.string().required(),\n    lastName: Yup.string().required(),\n    organisationName: Yup.string().required(),\n  });\n\n  return (\n    <Formik\n      initialValues={{\n        email: \"\",\n        firstName: \"\",\n        lastName: \"\",\n        organisationName: \"\"\n      }}\n      validationSchema={schema}\n      onSubmit={values => {\n        signUp(values)\n      }}\n    >\n      {(formikProps) => (\n        <form onSubmit={formikProps.handleSubmit} className=\"text-left\">\n          <Field name=\"email\">\n            {({ field, meta: { touched, error }, }: FieldProps) => (\n              <>\n                <p className=\"text-sm font-semibold px-1 flex justify-between\">\n                  <span>Email</span>\n                  {touched && Boolean(error) && <span className=\"text-error font-normal\">Required*</span>}\n                </p>\n                <StyledInputBase\n                  {...field}\n                  placeholder=\"Enter your email here\"\n                  fullWidth\n                  error={touched && Boolean(error)}\n                />\n              </>\n            )}\n          </Field>\n          <div className=\"mt-4\"></div>\n          <p className=\"text-sm font-semibold px-1 flex justify-between\">\n            <span>Name</span>\n            {(\n              (formikProps.touched.firstName && Boolean(formikProps.errors.firstName)) ||\n              (formikProps.touched.lastName && Boolean(formikProps.errors.lastName))\n            ) && <span className=\"text-error font-normal\">Required*</span>}\n          </p>\n          <div className=\"flex\">\n            <Field name=\"firstName\">\n              {({ field, meta: { touched, error }, }: FieldProps) => (\n                <StyledInputBase\n                  {...field}\n                  placeholder=\"First Name\"\n                  fullWidth\n                  error={touched && Boolean(error)}\n                />\n              )}\n            </Field>\n            <span className=\"px-1\"></span>\n            <Field name=\"lastName\">\n              {({ field, meta: { touched, error }, }: FieldProps) => (\n                <StyledInputBase\n                  {...field}\n                  placeholder=\"Last Name\"\n                  fullWidth\n                  error={touched && Boolean(error)}\n                />\n              )}\n            </Field>\n          </div>\n          <div className=\"mt-4\"></div>\n          <Field name=\"organisationName\">\n            {({ field, meta: { touched, error }, }: FieldProps) => (\n              <>\n                <p className=\"text-sm font-semibold px-1 flex justify-between\">\n                  <span>Organisation</span>\n                  {touched && Boolean(error) && <span className=\"text-error font-normal\">Required*</span>}\n                </p>\n                <StyledInputBase\n                  {...field}\n                  placeholder=\"Name of your organisation\"\n                  fullWidth\n                  error={touched && Boolean(error)}\n                />\n              </>\n            )}\n          </Field>\n          <div className=\"my-2 pb-4\"></div>\n          <Button type=\"submit\" variant=\"fill-accent\" size=\"large\" fullWidth thick>\n            {loading ? <CircularProgress color=\"secondary\" size={20} thickness={5} /> : <span>Next &#8594;</span>}\n          </Button>\n          {error ? (\n            <div className=\"text-error mt-4 text-center text-sm\">{error.response?.data.message}</div>\n          ) : null}\n        </form>\n      )}\n    </Formik>\n\n  )\n}\n\nexport const StepTwo: React.FC = () => {\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const query = new URLSearchParams(useLocation().search);\n  const { mutate: validateOtp, response, loading } = useMutation(authApi.validateOtp);\n\n  useEffect(() => {\n    if (response) {\n      setAuthorizationHeader(response.data.token);\n      dispatch(authOtpValidateAction(response.data));\n      navigate(`/signup?step=3`)\n    }\n  }, [response])\n\n  const schema = Yup.object().shape({\n    otp: Yup.string().required(),\n  });\n\n  return (\n    <Formik\n      initialValues={{\n        otp: \"\",\n      }}\n      validationSchema={schema}\n      onSubmit={values => {\n        validateOtp({\n          email: query.get(\"email\"),\n          otp: values.otp\n        });\n      }}\n    >\n      {(formikProps) => (\n        <form onSubmit={formikProps.handleSubmit} className=\"text-left\">\n          <Field name=\"otp\">\n            {({ field, meta: { touched, error }, }: FieldProps) => (\n              <>\n                <p className=\"text-sm font-semibold px-1 flex justify-between\">\n                  <span>Enter OTP</span>\n                  {touched && Boolean(error) && <span className=\"text-error font-normal\">Required*</span>}\n                </p>\n                <StyledInputBase\n                  {...field}\n                  placeholder=\"Enter OTP here\"\n                  fullWidth\n                  error={touched && Boolean(error)}\n                />\n              </>\n            )}\n          </Field>\n          <div className=\"my-2 pb-4\"></div>\n          <Button type=\"submit\" variant=\"fill-accent\" size=\"large\" fullWidth thick>\n            {loading ? <CircularProgress color=\"secondary\" size={20} thickness={5} /> : <span>Next &#8594;</span>}\n          </Button>\n        </form>\n      )}\n    </Formik>\n\n  )\n}\n\nexport const StepThree: React.FC = () => {\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const { mutate: setPassword, loading } = useMutation(authApi.setPassword, {\n    onSuccess: () => {\n      dispatch(authSetPasswordAction());\n      navigate(\"/org\");\n    }\n  });\n\n  const schema = Yup.object().shape({\n    password: Yup.string().required(),\n    rePassword: Yup.string().required(),\n  });\n\n  return (\n    <Formik\n      initialValues={{\n        password: \"\",\n        rePassword: \"\"\n      }}\n      validationSchema={schema}\n      onSubmit={values => {\n        setPassword({\n          password: values.password\n        });\n      }}\n    >\n      {(formikProps) => (\n        <form onSubmit={formikProps.handleSubmit} className=\"text-left\">\n          <Field name=\"password\">\n            {({ field, meta: { touched, error }, }: FieldProps) => (\n              <>\n                <p className=\"text-sm font-semibold px-1 flex justify-between\">\n                  <span>Password</span>\n                  {touched && Boolean(error) && <span className=\"text-error font-normal\">Required*</span>}\n                </p>\n                <StyledInputBase\n                  {...field}\n                  placeholder=\"Enter Passowrd here\"\n                  fullWidth\n                  type=\"password\"\n                  error={touched && Boolean(error)}\n                />\n              </>\n            )}\n          </Field>\n          <div className=\"mt-4\"></div>\n          <Field name=\"rePassword\">\n            {({ field, meta: { touched, error }, }: FieldProps) => (\n              <>\n                <p className=\"text-sm font-semibold px-1 flex justify-between\">\n                  <span>Confirm Password</span>\n                  {touched && Boolean(error) && <span className=\"text-error font-normal\">Required*</span>}\n                </p>\n                <StyledInputBase\n                  {...field}\n                  placeholder=\"Re enter the password\"\n                  fullWidth\n                  type=\"password\"\n                  error={touched && Boolean(error)}\n                />\n              </>\n            )}\n          </Field>\n          <div className=\"my-2 pb-4\"></div>\n          <Button type=\"submit\" variant=\"fill-accent\" size=\"large\" fullWidth thick>\n            {loading ? <CircularProgress color=\"secondary\" size={20} thickness={5} /> : <span>Confirm &#8594;</span>}\n          </Button>\n        </form>\n      )}\n    </Formik>\n\n  )\n}","import React from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport KeyboardBackspaceIcon from '@material-ui/icons/KeyboardBackspace';\nimport IconButton from '@material-ui/core/IconButton';\nimport { StepOne, StepThree, StepTwo } from './signup-steps';\nimport Button from 'src/components/button/text.button';\n\nconst Authenticate: React.FC = () => {\n  const navigate = useNavigate();\n  const query = new URLSearchParams(useLocation().search);\n  const step = query.get(\"step\");\n\n  return (\n    <>\n      <div className=\"max-w-sm m-auto bg-bg rounded-t-2xl rounded-b-lg px-10 py-6 mt-20 flex\">\n        {(step === \"2\" || step === \"3\") && <div className=\"-ml-3 pr-1\">\n          <IconButton onClick={() => navigate(-1)} aria-label=\"delete\" size=\"small\" color=\"secondary\" edge=\"start\">\n            <KeyboardBackspaceIcon style={{ fontSize: 24 }} />\n          </IconButton>\n        </div>}\n        <div className=\"pl-1\">\n          <p className=\"text-base font-bold\">{step === \"3\" ? \"Set Password\" : step === \"2\" ? \"Enter OTP\" : \"Sign up to ediflo\"}</p>\n          <p className=\"text-sm mt-0.5 text-grey-5\">{step === \"3\" ? \"Set password to complete sign up\" : step === \"2\" ? \"Check your email for OTP\" : \"Sign up and create your organisation\"}</p>\n        </div>\n      </div>\n      <div className=\"max-w-sm m-auto bg-bg rounded-lg pt-8 pb-10 px-10 mt-0.5\">\n        {step === \"3\" ?\n          <StepThree />\n          : step === \"2\" ?\n            <StepTwo />\n            : <StepOne />\n        }\n      </div>\n      <div className=\"max-w-sm m-auto bg-bg rounded-b-2xl rounded-t-lg px-10 py-3 mt-0.5 flex\">\n        <span className=\"text-sm mt-0.5 flex flex-1\">Already have an account?</span>\n        <Button type=\"button\" onClick={() => navigate(\"/signin\")} variant=\"text-accent\" size=\"regular\">\n          <span>Sign in &#8594;</span>\n        </Button>\n      </div>\n    </>\n  )\n}\n\nexport default Authenticate;","import React from \"react\";\nimport { Routes, Route, Navigate, Outlet } from \"react-router-dom\";\nimport AuthRoute from './auth';\nimport UserRoute from './user';\nimport AuthPage from \"src/pages/auth\";\nimport PlayerPage from 'src/pages/player';\nimport HomePage from 'src/pages/home';\nimport ProjectPage from 'src/pages/project';\nimport Signin from 'src/pages/auth/signin';\nimport Signup from 'src/pages/auth/signup';\n\nconst IndexRoute: React.FC = () => {\n  return (\n    <div className=\"app-root\">\n      <Routes>\n        <Route path='/' element={<AuthRoute><AuthPage /></AuthRoute>} >\n          <Route index element={<Signin />} />\n          <Route path=\"signin\" element={<Signin />} />\n          <Route path=\"signup\" element={<Signup />} />\n        </Route>\n        <Route path='org' element={\n          <UserRoute >\n            <Outlet />\n          </UserRoute>\n        } >\n          <Route index element={<HomePage />} />\n          <Route path=\":orgId\" element={<HomePage />} >\n            <Route path=\"project\" element={<Outlet />} >\n              <Route index element={<ProjectPage />} />\n              <Route path=':projectId' element={<ProjectPage />} />\n            </Route >\n          </Route>\n          <Route />\n        </Route>\n        <Route path=\"player/:videoId\" element={\n          <UserRoute >\n            <PlayerPage />\n          </UserRoute>\n        } />\n      </Routes>\n    </div>\n  )\n};\n\nexport default IndexRoute;\n\n","import React, { useEffect, useState } from 'react';\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\nimport IndexRoute from '../routes/index';\nimport { useSelector } from 'react-redux';\n\nimport { setAuthorizationHeader } from 'src/utils/axios';\nimport { IState } from 'src/store/config';\nimport SnackbarProvider from 'src/utils/snackbar';\n\nconst AppWithTheme: React.FC = () => {\n  const [initialSetup, setInitialSetup] = useState<boolean>(false);\n  const theme = createMuiTheme({\n    typography: {\n      fontFamily: '-apple-system, BlinkMacSystemFont, \"roboto\", Helvetica, \"Apple Color Emoji\", Arial, sans-serif, \"Segoe UI Emoji\", \"Segoe UI Symbol\"',\n    },\n    palette: {\n      primary: {\n        main: '#005FEB'\n      },\n      secondary: {\n        main: '#ffffff'\n      },\n    },\n    overrides: {\n      MuiAvatar: {\n        colorDefault: {\n          color: '#747474'\n        }\n      },\n      MuiSlider: {\n        root: {\n          color: 'var(--slider-color)'\n        }\n      },\n      MuiRadio: {\n        root: {\n          padding: 5\n        }\n      },\n      MuiFormControlLabel: {\n        root: {\n          marginLeft: -5\n        }\n      },\n      MuiButton: {\n        root: {\n          borderRadius: 8,\n          fontSize: 'var(--font-regular)'\n        },\n        label: {\n          textTransform: 'none',\n          fontWeight: 'bold'\n        },\n        containedPrimary: {\n          \"&:hover\": {\n            backgroundColor: '#5393F2',\n          },\n          \"&:active\": {\n            backgroundColor: '#1868DF'\n          }\n        },\n        text: {\n          color: '#fff',\n          \"&:active\": {\n            opacity: .8\n          }\n        },\n        endIcon: {\n          marginLeft: 5,\n          marginRight: 0\n        },\n      },\n      MuiCheckbox: {\n        root: {\n          color: 'var(--checkbox-unchecked)',\n          fontSize: 18,\n          '&:checked': {\n            color: 'var(--accent)'\n          }\n        }\n      },\n      MuiFilledInput: {\n        root: {\n          backgroundColor: 'transparent',\n          '&:hover': {\n            backgroundColor: 'transparent'\n          },\n          '&:focused': {\n            backgroundColor: 'transparent',\n            border: '2px solid red'\n          }\n        },\n        underline: {\n          '&:before': {\n            display: 'none'\n          },\n          '&:after': {\n            display: 'none'\n          }\n        }\n      },\n      MuiChip: {\n        root: {\n          fontSize: '1rem',\n          borderRadius: 5,\n          backgroundColor: 'var(--accent-shade)'\n        },\n        deletable: {\n          fontWeight: 600,\n          color: 'var(--accent)',\n          marginRight: 10,\n          '&:active': {\n            backgroundColor: 'var(--accent-shade)',\n            opacity: 0.8\n          },\n          '&:focus': {\n            backgroundColor: 'var(--accent-shade)',\n          }\n        },\n        deleteIcon: {\n          color: 'var(--accent)',\n          height: 18,\n          width: 18,\n          '&:hover': {\n            color: 'var(--accent)',\n            opacity: 0.8\n          }\n        }\n      },\n      MuiTypography: {\n        root: {\n          color: 'var(--text-primary)'\n        },\n        body2: {\n          fontSize: 13\n        },\n        h5: {\n          fontWeight: 600,\n          fontSize: 'var(--font-large)'\n        },\n        h6: {\n          fontWeight: 600,\n          fontSize: 'var(--font-semilarge)'\n        }\n      },\n      MuiPaper: {\n        root: {\n          backgroundColor: 'var(--bg-opaque)'\n        },\n        rounded: {\n          borderRadius: \"0.75rem\",\n        },\n        elevation8: {\n          boxShadow: '0px 5px 5px -3px rgba(0,0,0,0.1), 0px 8px 10px 1px rgba(0,0,0,0.14), 0px 3px 14px 2px rgba(0,0,0,0.12)'\n        }\n      },\n      MuiMenuItem: {\n        root: {\n          color: 'var(--text-primary)',\n          '&:hover': {\n            backgroundColor: 'var(--background-secondary)'\n          }\n        }\n      },\n      MuiBreadcrumbs: {\n        root: {\n          color: 'var(--text-secondary)'\n        }\n      }\n    },\n    props: {\n      MuiButton: {\n        disableElevation: true,\n        disableRipple: true,\n      },\n      MuiCheckbox: {\n        icon: <span className=\"pficon-unchecked-round\" />,\n        checkedIcon: <span className=\"pficon-checked-round\" />,\n        size: \"small\"\n      },\n    }\n  });\n\n  const auth = useSelector((state: IState) => state.authReducer);\n\n  useEffect(() => {\n    if (auth.authenticated) {\n      setAuthorizationHeader(auth.token);\n    } else {\n      setAuthorizationHeader();\n    }\n    setInitialSetup(true);\n  }, [auth.authenticated]);\n\n  return (\n    <ThemeProvider theme={theme}>\n      <SnackbarProvider>\n        {initialSetup && <IndexRoute />}\n      </SnackbarProvider>\n    </ThemeProvider>\n  );\n}\n\nexport default AppWithTheme;\n","import './App.css';\nimport './theme/common.css';\nimport React from 'react';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\nimport config from './store/config';\nimport AppWithTheme from './theme/app-theme';\nimport { PersistGate } from 'redux-persist/integration/react';\n\n\nconst { store, persistor } = config;\n\nconst App: React.FC = () => {\n  document.documentElement.className = 'dark-theme';\n  return (\n    <BrowserRouter>\n      <Provider store={store}>\n        <PersistGate loading={null} persistor={persistor}>\n          <AppWithTheme />\n        </PersistGate>\n      </Provider>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'overlayscrollbars/css/OverlayScrollbars.css';\nimport \"simplebar/src/simplebar.css\";\nimport '@uppy/core/dist/style.css'\nimport '@uppy/dashboard/dist/style.css'\n\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"volumeSlider\":\"player_volumeSlider__-WI6K\",\"volumeConrolWrap\":\"player_volumeConrolWrap__x5hDJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"text-button_button__3D6eT\",\"buttonText\":\"text-button_buttonText__1ePr8\",\"round\":\"text-button_round__2m8-H\",\"thick\":\"text-button_thick__1Ddsh\",\"fullWidth\":\"text-button_fullWidth__3yh7K\",\"spacer\":\"text-button_spacer__2M6Cx\",\"text-primary\":\"text-button_text-primary__1F1Jy\",\"text-grey\":\"text-button_text-grey__1va2M\",\"text-accent\":\"text-button_text-accent__3-_1P\",\"text-error\":\"text-button_text-error__22DaB\",\"text-white\":\"text-button_text-white__aFD1j\",\"solid\":\"text-button_solid__1egT-\",\"fill-primary\":\"text-button_fill-primary__3VuoG\",\"fill-accent\":\"text-button_fill-accent__37LJz\",\"medium\":\"text-button_medium__PfnYD\",\"regular\":\"text-button_regular__1AZWu\",\"large\":\"text-button_large__3ii4Y\"};"],"sourceRoot":""}